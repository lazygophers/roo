---
name: task
title: 任务管理指南
description: "AI系统任务分解、评估与执行的核心规范"
category: 任务管理
priority: critical
tags: [任务管理, 模式协作, 工作流程]
---

# 任务管理指南

## 🚨 四大强制规则

1. **必须拆解** - 任何任务都必须先拆解为2级结构(主任务→子任务)，再执行
2. **必须确认** - 拆解完成后必须用`ask_followup_question`获取用户确认
3. **必须重新确认** - 用户提问/变更时立即停止，重新展示计划并确认
4. **必须持续审视** - 每完成子任务后重新审视整个清单，有变更需重新确认

## 任务拆解规范

### 强制2级结构
- **格式**: `主任务-001` → `子任务-001.001`
- **要求**: 每个主任务≥2个子任务，子任务必须原子化且可独立验证
- **时间**: 叶子任务控制在1-3天内完成

### 拆解验证清单
- [ ] 达到2级结构要求
- [ ] 任务ID符合编号规范
- [ ] 任务边界清晰无重叠
- [ ] 依赖关系明确合理
- [ ] 验收标准具体可衡量

## 模式协作

### 标准流程
1. **orchestrator**: 分析→分解→委托→汇总
2. **专业模式**: 接收→执行→返回
3. **委托要求**: 必须包含完整任务清单和上下文

### 典型场景
- **新功能**: orchestrator → architect → code → debug → doc-writer
- **重构**: orchestrator → project-research → architect → code → giter

## 执行流程

### 核心步骤
1. **拆解** → 2级结构，明确依赖关系
2. **确认** → 使用`ask_followup_question`获得用户同意
3. **执行** → 按优先级逐个完成子任务
4. **审视** → 每完成1个子任务，重新评估剩余任务
5. **重新确认** → 如有变更，必须再次确认

## 渐进式执行策略

### 优先级原则
- **高价值+低依赖** → 最高优先级(先做)
- **高价值+高依赖** → 中等优先级
- **低价值+低依赖** → 低优先级
- **低价值+高依赖** → 最低优先级(后做)

### 执行阶段
1. **独立任务优先** → 无依赖的MVP任务
2. **渐进复杂化** → 基于已完成任务扩展
3. **整体优化** → 性能调优和体验改进

## 任务状态管理

### 状态流转
- `pending` → `in_progress` → `completed`
- 父任务状态自动根据子任务计算
- 状态变更实时同步

### 质量保证
- **阶段验收**: 每个任务完成后立即验收
- **反馈循环**: 及时收集用户反馈并调整
- **风险管理**: 识别并缓解依赖/复杂度/时间风险
