var vs=Object.defineProperty;var gs=(e,t,s)=>t in e?vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Te=(e,t,s)=>(gs(e,typeof t!="symbol"?t+"":t,s),s);import{d as mt,g as F,h as rt,i as Mt,j as ys,c as d,a,k as ee,v as qe,l as Pe,m as fe,n as w,p as Y,F as z,q as J,e as it,w as _s,T as bs,b as he,t as b,o as f,s as je,u as ws,_ as vt,x as ks,y as te,z as qt,A as et,B as Ct,C as Ss}from"./index-0742fae6.js";function Ht(e,t){return function(){return e.apply(t,arguments)}}const{toString:Cs}=Object.prototype,{getPrototypeOf:gt}=Object,{iterator:Je,toStringTag:Vt}=Symbol,We=(e=>t=>{const s=Cs.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),oe=e=>(e=e.toLowerCase(),t=>We(t)===e),Ge=e=>t=>typeof t===e,{isArray:Ce}=Array,Ne=Ge("undefined");function Fe(e){return e!==null&&!Ne(e)&&e.constructor!==null&&!Ne(e.constructor)&&X(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Kt=oe("ArrayBuffer");function Es(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Kt(e.buffer),t}const Rs=Ge("string"),X=Ge("function"),zt=Ge("number"),Ue=e=>e!==null&&typeof e=="object",Os=e=>e===!0||e===!1,Ie=e=>{if(We(e)!=="object")return!1;const t=gt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Vt in e)&&!(Je in e)},Ts=e=>{if(!Ue(e)||Fe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},As=oe("Date"),$s=oe("File"),xs=oe("Blob"),Ns=oe("FileList"),Fs=e=>Ue(e)&&X(e.pipe),Us=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||X(e.append)&&((t=We(e))==="formdata"||t==="object"&&X(e.toString)&&e.toString()==="[object FormData]"))},Ls=oe("URLSearchParams"),[Ps,js,Is,Bs]=["ReadableStream","Request","Response","Headers"].map(oe),Ds=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Le(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),Ce(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Fe(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),r=i.length;let c;for(n=0;n<r;n++)c=i[n],t.call(null,e[c],c,e)}}function Jt(e,t){if(Fe(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,o;for(;n-- >0;)if(o=s[n],t===o.toLowerCase())return o;return null}const pe=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Wt=e=>!Ne(e)&&e!==pe;function lt(){const{caseless:e}=Wt(this)&&this||{},t={},s=(n,o)=>{const i=e&&Jt(t,o)||o;Ie(t[i])&&Ie(n)?t[i]=lt(t[i],n):Ie(n)?t[i]=lt({},n):Ce(n)?t[i]=n.slice():t[i]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Le(arguments[n],s);return t}const Ms=(e,t,s,{allOwnKeys:n}={})=>(Le(t,(o,i)=>{s&&X(o)?e[i]=Ht(o,s):e[i]=o},{allOwnKeys:n}),e),qs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hs=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Vs=(e,t,s,n)=>{let o,i,r;const c={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)r=o[i],(!n||n(r,e,t))&&!c[r]&&(t[r]=e[r],c[r]=!0);e=s!==!1&&gt(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Ks=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},zs=e=>{if(!e)return null;if(Ce(e))return e;let t=e.length;if(!zt(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Js=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gt(Uint8Array)),Ws=(e,t)=>{const n=(e&&e[Je]).call(e);let o;for(;(o=n.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Gs=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Ys=oe("HTMLFormElement"),Xs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,o){return n.toUpperCase()+o}),Et=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Qs=oe("RegExp"),Gt=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Le(s,(o,i)=>{let r;(r=t(o,i,e))!==!1&&(n[i]=r||o)}),Object.defineProperties(e,n)},Zs=e=>{Gt(e,(t,s)=>{if(X(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(X(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},en=(e,t)=>{const s={},n=o=>{o.forEach(i=>{s[i]=!0})};return Ce(e)?n(e):n(String(e).split(t)),s},tn=()=>{},sn=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function nn(e){return!!(e&&X(e.append)&&e[Vt]==="FormData"&&e[Je])}const on=e=>{const t=new Array(10),s=(n,o)=>{if(Ue(n)){if(t.indexOf(n)>=0)return;if(Fe(n))return n;if(!("toJSON"in n)){t[o]=n;const i=Ce(n)?[]:{};return Le(n,(r,c)=>{const _=s(r,o+1);!Ne(_)&&(i[c]=_)}),t[o]=void 0,i}}return n};return s(e,0)},an=oe("AsyncFunction"),rn=e=>e&&(Ue(e)||X(e))&&X(e.then)&&X(e.catch),Yt=((e,t)=>e?setImmediate:t?((s,n)=>(pe.addEventListener("message",({source:o,data:i})=>{o===pe&&i===s&&n.length&&n.shift()()},!1),o=>{n.push(o),pe.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",X(pe.postMessage)),ln=typeof queueMicrotask<"u"?queueMicrotask.bind(pe):typeof process<"u"&&process.nextTick||Yt,cn=e=>e!=null&&X(e[Je]),u={isArray:Ce,isArrayBuffer:Kt,isBuffer:Fe,isFormData:Us,isArrayBufferView:Es,isString:Rs,isNumber:zt,isBoolean:Os,isObject:Ue,isPlainObject:Ie,isEmptyObject:Ts,isReadableStream:Ps,isRequest:js,isResponse:Is,isHeaders:Bs,isUndefined:Ne,isDate:As,isFile:$s,isBlob:xs,isRegExp:Qs,isFunction:X,isStream:Fs,isURLSearchParams:Ls,isTypedArray:Js,isFileList:Ns,forEach:Le,merge:lt,extend:Ms,trim:Ds,stripBOM:qs,inherits:Hs,toFlatObject:Vs,kindOf:We,kindOfTest:oe,endsWith:Ks,toArray:zs,forEachEntry:Ws,matchAll:Gs,isHTMLForm:Ys,hasOwnProperty:Et,hasOwnProp:Et,reduceDescriptors:Gt,freezeMethods:Zs,toObjectSet:en,toCamelCase:Xs,noop:tn,toFiniteNumber:sn,findKey:Jt,global:pe,isContextDefined:Wt,isSpecCompliantForm:nn,toJSONObject:on,isAsyncFn:an,isThenable:rn,setImmediate:Yt,asap:ln,isIterable:cn};function U(e,t,s,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}u.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:u.toJSONObject(this.config),code:this.code,status:this.status}}});const Xt=U.prototype,Qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qt[e]={value:e}});Object.defineProperties(U,Qt);Object.defineProperty(Xt,"isAxiosError",{value:!0});U.from=(e,t,s,n,o,i)=>{const r=Object.create(Xt);return u.toFlatObject(e,r,function(_){return _!==Error.prototype},c=>c!=="isAxiosError"),U.call(r,e.message,t,s,n,o),r.cause=e,r.name=e.name,i&&Object.assign(r,i),r};const un=null;function ct(e){return u.isPlainObject(e)||u.isArray(e)}function Zt(e){return u.endsWith(e,"[]")?e.slice(0,-2):e}function Rt(e,t,s){return e?e.concat(t).map(function(o,i){return o=Zt(o),!s&&i?"["+o+"]":o}).join(s?".":""):t}function dn(e){return u.isArray(e)&&!e.some(ct)}const fn=u.toFlatObject(u,{},null,function(t){return/^is[A-Z]/.test(t)});function Ye(e,t,s){if(!u.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=u.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function($,S){return!u.isUndefined(S[$])});const n=s.metaTokens,o=s.visitor||g,i=s.dots,r=s.indexes,_=(s.Blob||typeof Blob<"u"&&Blob)&&u.isSpecCompliantForm(t);if(!u.isFunction(o))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(u.isDate(E))return E.toISOString();if(u.isBoolean(E))return E.toString();if(!_&&u.isBlob(E))throw new U("Blob is not supported. Use a Buffer instead.");return u.isArrayBuffer(E)||u.isTypedArray(E)?_&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function g(E,$,S){let R=E;if(E&&!S&&typeof E=="object"){if(u.endsWith($,"{}"))$=n?$:$.slice(0,-2),E=JSON.stringify(E);else if(u.isArray(E)&&dn(E)||(u.isFileList(E)||u.endsWith($,"[]"))&&(R=u.toArray(E)))return $=Zt($),R.forEach(function(P,M){!(u.isUndefined(P)||P===null)&&t.append(r===!0?Rt([$],M,i):r===null?$:$+"[]",p(P))}),!1}return ct(E)?!0:(t.append(Rt(S,$,i),p(E)),!1)}const y=[],T=Object.assign(fn,{defaultVisitor:g,convertValue:p,isVisitable:ct});function x(E,$){if(!u.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+$.join("."));y.push(E),u.forEach(E,function(R,A){(!(u.isUndefined(R)||R===null)&&o.call(t,R,u.isString(A)?A.trim():A,$,T))===!0&&x(R,$?$.concat(A):[A])}),y.pop()}}if(!u.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Ot(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function yt(e,t){this._pairs=[],e&&Ye(e,this,t)}const es=yt.prototype;es.append=function(t,s){this._pairs.push([t,s])};es.toString=function(t){const s=t?function(n){return t.call(this,n,Ot)}:Ot;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function hn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ts(e,t,s){if(!t)return e;const n=s&&s.encode||hn;u.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let i;if(o?i=o(t,s):i=u.isURLSearchParams(t)?t.toString():new yt(t,s).toString(n),i){const r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class pn{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){u.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Tt=pn,ss={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mn=typeof URLSearchParams<"u"?URLSearchParams:yt,vn=typeof FormData<"u"?FormData:null,gn=typeof Blob<"u"?Blob:null,yn={isBrowser:!0,classes:{URLSearchParams:mn,FormData:vn,Blob:gn},protocols:["http","https","file","blob","url","data"]},_t=typeof window<"u"&&typeof document<"u",ut=typeof navigator=="object"&&navigator||void 0,_n=_t&&(!ut||["ReactNative","NativeScript","NS"].indexOf(ut.product)<0),bn=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),wn=_t&&window.location.href||"http://localhost",kn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_t,hasStandardBrowserEnv:_n,hasStandardBrowserWebWorkerEnv:bn,navigator:ut,origin:wn},Symbol.toStringTag,{value:"Module"})),G={...kn,...yn};function Sn(e,t){return Ye(e,new G.classes.URLSearchParams,{visitor:function(s,n,o,i){return G.isNode&&u.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Cn(e){return u.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function En(e){const t={},s=Object.keys(e);let n;const o=s.length;let i;for(n=0;n<o;n++)i=s[n],t[i]=e[i];return t}function ns(e){function t(s,n,o,i){let r=s[i++];if(r==="__proto__")return!0;const c=Number.isFinite(+r),_=i>=s.length;return r=!r&&u.isArray(o)?o.length:r,_?(u.hasOwnProp(o,r)?o[r]=[o[r],n]:o[r]=n,!c):((!o[r]||!u.isObject(o[r]))&&(o[r]=[]),t(s,n,o[r],i)&&u.isArray(o[r])&&(o[r]=En(o[r])),!c)}if(u.isFormData(e)&&u.isFunction(e.entries)){const s={};return u.forEachEntry(e,(n,o)=>{t(Cn(n),o,s,0)}),s}return null}function Rn(e,t,s){if(u.isString(e))try{return(t||JSON.parse)(e),u.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const bt={transitional:ss,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",o=n.indexOf("application/json")>-1,i=u.isObject(t);if(i&&u.isHTMLForm(t)&&(t=new FormData(t)),u.isFormData(t))return o?JSON.stringify(ns(t)):t;if(u.isArrayBuffer(t)||u.isBuffer(t)||u.isStream(t)||u.isFile(t)||u.isBlob(t)||u.isReadableStream(t))return t;if(u.isArrayBufferView(t))return t.buffer;if(u.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Sn(t,this.formSerializer).toString();if((c=u.isFileList(t))||n.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return Ye(c?{"files[]":t}:t,_&&new _,this.formSerializer)}}return i||o?(s.setContentType("application/json",!1),Rn(t)):t}],transformResponse:[function(t){const s=this.transitional||bt.transitional,n=s&&s.forcedJSONParsing,o=this.responseType==="json";if(u.isResponse(t)||u.isReadableStream(t))return t;if(t&&u.isString(t)&&(n&&!this.responseType||o)){const r=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(c){if(r)throw c.name==="SyntaxError"?U.from(c,U.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:G.classes.FormData,Blob:G.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};u.forEach(["delete","get","head","post","put","patch"],e=>{bt.headers[e]={}});const wt=bt,On=u.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tn=e=>{const t={};let s,n,o;return e&&e.split(`
`).forEach(function(r){o=r.indexOf(":"),s=r.substring(0,o).trim().toLowerCase(),n=r.substring(o+1).trim(),!(!s||t[s]&&On[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},At=Symbol("internals");function Ae(e){return e&&String(e).trim().toLowerCase()}function Be(e){return e===!1||e==null?e:u.isArray(e)?e.map(Be):String(e)}function An(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const $n=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tt(e,t,s,n,o){if(u.isFunction(n))return n.call(this,t,s);if(o&&(t=s),!!u.isString(t)){if(u.isString(n))return t.indexOf(n)!==-1;if(u.isRegExp(n))return n.test(t)}}function xn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Nn(e,t){const s=u.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(o,i,r){return this[n].call(this,t,o,i,r)},configurable:!0})})}class Xe{constructor(t){t&&this.set(t)}set(t,s,n){const o=this;function i(c,_,p){const g=Ae(_);if(!g)throw new Error("header name must be a non-empty string");const y=u.findKey(o,g);(!y||o[y]===void 0||p===!0||p===void 0&&o[y]!==!1)&&(o[y||_]=Be(c))}const r=(c,_)=>u.forEach(c,(p,g)=>i(p,g,_));if(u.isPlainObject(t)||t instanceof this.constructor)r(t,s);else if(u.isString(t)&&(t=t.trim())&&!$n(t))r(Tn(t),s);else if(u.isObject(t)&&u.isIterable(t)){let c={},_,p;for(const g of t){if(!u.isArray(g))throw TypeError("Object iterator must return a key-value pair");c[p=g[0]]=(_=c[p])?u.isArray(_)?[..._,g[1]]:[_,g[1]]:g[1]}r(c,s)}else t!=null&&i(s,t,n);return this}get(t,s){if(t=Ae(t),t){const n=u.findKey(this,t);if(n){const o=this[n];if(!s)return o;if(s===!0)return An(o);if(u.isFunction(s))return s.call(this,o,n);if(u.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ae(t),t){const n=u.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||tt(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let o=!1;function i(r){if(r=Ae(r),r){const c=u.findKey(n,r);c&&(!s||tt(n,n[c],c,s))&&(delete n[c],o=!0)}}return u.isArray(t)?t.forEach(i):i(t),o}clear(t){const s=Object.keys(this);let n=s.length,o=!1;for(;n--;){const i=s[n];(!t||tt(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const s=this,n={};return u.forEach(this,(o,i)=>{const r=u.findKey(n,i);if(r){s[r]=Be(o),delete s[i];return}const c=t?xn(i):String(i).trim();c!==i&&delete s[i],s[c]=Be(o),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return u.forEach(this,(n,o)=>{n!=null&&n!==!1&&(s[o]=t&&u.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[At]=this[At]={accessors:{}}).accessors,o=this.prototype;function i(r){const c=Ae(r);n[c]||(Nn(o,r),n[c]=!0)}return u.isArray(t)?t.forEach(i):i(t),this}}Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);u.reduceDescriptors(Xe.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});u.freezeMethods(Xe);const ne=Xe;function st(e,t){const s=this||wt,n=t||s,o=ne.from(n.headers);let i=n.data;return u.forEach(e,function(c){i=c.call(s,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function os(e){return!!(e&&e.__CANCEL__)}function Ee(e,t,s){U.call(this,e??"canceled",U.ERR_CANCELED,t,s),this.name="CanceledError"}u.inherits(Ee,U,{__CANCEL__:!0});function as(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new U("Request failed with status code "+s.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Fn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Un(e,t){e=e||10;const s=new Array(e),n=new Array(e);let o=0,i=0,r;return t=t!==void 0?t:1e3,function(_){const p=Date.now(),g=n[i];r||(r=p),s[o]=_,n[o]=p;let y=i,T=0;for(;y!==o;)T+=s[y++],y=y%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),p-r<t)return;const x=g&&p-g;return x?Math.round(T*1e3/x):void 0}}function Ln(e,t){let s=0,n=1e3/t,o,i;const r=(p,g=Date.now())=>{s=g,o=null,i&&(clearTimeout(i),i=null),e(...p)};return[(...p)=>{const g=Date.now(),y=g-s;y>=n?r(p,g):(o=p,i||(i=setTimeout(()=>{i=null,r(o)},n-y)))},()=>o&&r(o)]}const He=(e,t,s=3)=>{let n=0;const o=Un(50,250);return Ln(i=>{const r=i.loaded,c=i.lengthComputable?i.total:void 0,_=r-n,p=o(_),g=r<=c;n=r;const y={loaded:r,total:c,progress:c?r/c:void 0,bytes:_,rate:p||void 0,estimated:p&&c&&g?(c-r)/p:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(y)},s)},$t=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},xt=e=>(...t)=>u.asap(()=>e(...t)),Pn=G.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,G.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(G.origin),G.navigator&&/(msie|trident)/i.test(G.navigator.userAgent)):()=>!0,jn=G.hasStandardBrowserEnv?{write(e,t,s,n,o,i){const r=[e+"="+encodeURIComponent(t)];u.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),u.isString(n)&&r.push("path="+n),u.isString(o)&&r.push("domain="+o),i===!0&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function In(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Bn(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rs(e,t,s){let n=!In(t);return e&&(n||s==!1)?Bn(e,t):t}const Nt=e=>e instanceof ne?{...e}:e;function me(e,t){t=t||{};const s={};function n(p,g,y,T){return u.isPlainObject(p)&&u.isPlainObject(g)?u.merge.call({caseless:T},p,g):u.isPlainObject(g)?u.merge({},g):u.isArray(g)?g.slice():g}function o(p,g,y,T){if(u.isUndefined(g)){if(!u.isUndefined(p))return n(void 0,p,y,T)}else return n(p,g,y,T)}function i(p,g){if(!u.isUndefined(g))return n(void 0,g)}function r(p,g){if(u.isUndefined(g)){if(!u.isUndefined(p))return n(void 0,p)}else return n(void 0,g)}function c(p,g,y){if(y in t)return n(p,g);if(y in e)return n(void 0,p)}const _={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:c,headers:(p,g,y)=>o(Nt(p),Nt(g),y,!0)};return u.forEach(Object.keys({...e,...t}),function(g){const y=_[g]||o,T=y(e[g],t[g],g);u.isUndefined(T)&&y!==c||(s[g]=T)}),s}const is=e=>{const t=me({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:r,auth:c}=t;t.headers=r=ne.from(r),t.url=ts(rs(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&r.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let _;if(u.isFormData(s)){if(G.hasStandardBrowserEnv||G.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((_=r.getContentType())!==!1){const[p,...g]=_?_.split(";").map(y=>y.trim()).filter(Boolean):[];r.setContentType([p||"multipart/form-data",...g].join("; "))}}if(G.hasStandardBrowserEnv&&(n&&u.isFunction(n)&&(n=n(t)),n||n!==!1&&Pn(t.url))){const p=o&&i&&jn.read(i);p&&r.set(o,p)}return t},Dn=typeof XMLHttpRequest<"u",Mn=Dn&&function(e){return new Promise(function(s,n){const o=is(e);let i=o.data;const r=ne.from(o.headers).normalize();let{responseType:c,onUploadProgress:_,onDownloadProgress:p}=o,g,y,T,x,E;function $(){x&&x(),E&&E(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let S=new XMLHttpRequest;S.open(o.method.toUpperCase(),o.url,!0),S.timeout=o.timeout;function R(){if(!S)return;const P=ne.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),B={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:P,config:e,request:S};as(function(D){s(D),$()},function(D){n(D),$()},B),S=null}"onloadend"in S?S.onloadend=R:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(R)},S.onabort=function(){S&&(n(new U("Request aborted",U.ECONNABORTED,e,S)),S=null)},S.onerror=function(){n(new U("Network Error",U.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let M=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const B=o.transitional||ss;o.timeoutErrorMessage&&(M=o.timeoutErrorMessage),n(new U(M,B.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,e,S)),S=null},i===void 0&&r.setContentType(null),"setRequestHeader"in S&&u.forEach(r.toJSON(),function(M,B){S.setRequestHeader(B,M)}),u.isUndefined(o.withCredentials)||(S.withCredentials=!!o.withCredentials),c&&c!=="json"&&(S.responseType=o.responseType),p&&([T,E]=He(p,!0),S.addEventListener("progress",T)),_&&S.upload&&([y,x]=He(_),S.upload.addEventListener("progress",y),S.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(g=P=>{S&&(n(!P||P.type?new Ee(null,e,S):P),S.abort(),S=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const A=Fn(o.url);if(A&&G.protocols.indexOf(A)===-1){n(new U("Unsupported protocol "+A+":",U.ERR_BAD_REQUEST,e));return}S.send(i||null)})},qn=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,o;const i=function(p){if(!o){o=!0,c();const g=p instanceof Error?p:this.reason;n.abort(g instanceof U?g:new Ee(g instanceof Error?g.message:g))}};let r=t&&setTimeout(()=>{r=null,i(new U(`timeout ${t} of ms exceeded`,U.ETIMEDOUT))},t);const c=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:_}=n;return _.unsubscribe=()=>u.asap(c),_}},Hn=qn,Vn=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let n=0,o;for(;n<s;)o=n+t,yield e.slice(n,o),n=o},Kn=async function*(e,t){for await(const s of zn(e))yield*Vn(s,t)},zn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Ft=(e,t,s,n)=>{const o=Kn(e,t);let i=0,r,c=_=>{r||(r=!0,n&&n(_))};return new ReadableStream({async pull(_){try{const{done:p,value:g}=await o.next();if(p){c(),_.close();return}let y=g.byteLength;if(s){let T=i+=y;s(T)}_.enqueue(new Uint8Array(g))}catch(p){throw c(p),p}},cancel(_){return c(_),o.return()}},{highWaterMark:2})},Qe=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ls=Qe&&typeof ReadableStream=="function",Jn=Qe&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),cs=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Wn=ls&&cs(()=>{let e=!1;const t=new Request(G.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ut=64*1024,dt=ls&&cs(()=>u.isReadableStream(new Response("").body)),Ve={stream:dt&&(e=>e.body)};Qe&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ve[t]&&(Ve[t]=u.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new U(`Response type '${t}' is not supported`,U.ERR_NOT_SUPPORT,n)})})})(new Response);const Gn=async e=>{if(e==null)return 0;if(u.isBlob(e))return e.size;if(u.isSpecCompliantForm(e))return(await new Request(G.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(u.isArrayBufferView(e)||u.isArrayBuffer(e))return e.byteLength;if(u.isURLSearchParams(e)&&(e=e+""),u.isString(e))return(await Jn(e)).byteLength},Yn=async(e,t)=>{const s=u.toFiniteNumber(e.getContentLength());return s??Gn(t)},Xn=Qe&&(async e=>{let{url:t,method:s,data:n,signal:o,cancelToken:i,timeout:r,onDownloadProgress:c,onUploadProgress:_,responseType:p,headers:g,withCredentials:y="same-origin",fetchOptions:T}=is(e);p=p?(p+"").toLowerCase():"text";let x=Hn([o,i&&i.toAbortSignal()],r),E;const $=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let S;try{if(_&&Wn&&s!=="get"&&s!=="head"&&(S=await Yn(g,n))!==0){let B=new Request(t,{method:"POST",body:n,duplex:"half"}),j;if(u.isFormData(n)&&(j=B.headers.get("content-type"))&&g.setContentType(j),B.body){const[D,H]=$t(S,He(xt(_)));n=Ft(B.body,Ut,D,H)}}u.isString(y)||(y=y?"include":"omit");const R="credentials"in Request.prototype;E=new Request(t,{...T,signal:x,method:s.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:R?y:void 0});let A=await fetch(E,T);const P=dt&&(p==="stream"||p==="response");if(dt&&(c||P&&$)){const B={};["status","statusText","headers"].forEach(Q=>{B[Q]=A[Q]});const j=u.toFiniteNumber(A.headers.get("content-length")),[D,H]=c&&$t(j,He(xt(c),!0))||[];A=new Response(Ft(A.body,Ut,D,()=>{H&&H(),$&&$()}),B)}p=p||"text";let M=await Ve[u.findKey(Ve,p)||"text"](A,e);return!P&&$&&$(),await new Promise((B,j)=>{as(B,j,{data:M,headers:ne.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:E})})}catch(R){throw $&&$(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new U("Network Error",U.ERR_NETWORK,e,E),{cause:R.cause||R}):U.from(R,R&&R.code,e,E)}}),ft={http:un,xhr:Mn,fetch:Xn};u.forEach(ft,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Lt=e=>`- ${e}`,Qn=e=>u.isFunction(e)||e===null||e===!1,us={getAdapter:e=>{e=u.isArray(e)?e:[e];const{length:t}=e;let s,n;const o={};for(let i=0;i<t;i++){s=e[i];let r;if(n=s,!Qn(s)&&(n=ft[(r=String(s)).toLowerCase()],n===void 0))throw new U(`Unknown adapter '${r}'`);if(n)break;o[r||"#"+i]=n}if(!n){const i=Object.entries(o).map(([c,_])=>`adapter ${c} `+(_===!1?"is not supported by the environment":"is not available in the build"));let r=t?i.length>1?`since :
`+i.map(Lt).join(`
`):" "+Lt(i[0]):"as no adapter specified";throw new U("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n},adapters:ft};function nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function Pt(e){return nt(e),e.headers=ne.from(e.headers),e.data=st.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),us.getAdapter(e.adapter||wt.adapter)(e).then(function(n){return nt(e),n.data=st.call(e,e.transformResponse,n),n.headers=ne.from(n.headers),n},function(n){return os(n)||(nt(e),n&&n.response&&(n.response.data=st.call(e,e.transformResponse,n.response),n.response.headers=ne.from(n.response.headers))),Promise.reject(n)})}const ds="1.11.0",Ze={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ze[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const jt={};Ze.transitional=function(t,s,n){function o(i,r){return"[Axios v"+ds+"] Transitional option '"+i+"'"+r+(n?". "+n:"")}return(i,r,c)=>{if(t===!1)throw new U(o(r," has been removed"+(s?" in "+s:"")),U.ERR_DEPRECATED);return s&&!jt[r]&&(jt[r]=!0,console.warn(o(r," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,r,c):!0}};Ze.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Zn(e,t,s){if(typeof e!="object")throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],r=t[i];if(r){const c=e[i],_=c===void 0||r(c,i,e);if(_!==!0)throw new U("option "+i+" must be "+_,U.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new U("Unknown option "+i,U.ERR_BAD_OPTION)}}const De={assertOptions:Zn,validators:Ze},ae=De.validators;class Ke{constructor(t){this.defaults=t||{},this.interceptors={request:new Tt,response:new Tt}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=me(this.defaults,s);const{transitional:n,paramsSerializer:o,headers:i}=s;n!==void 0&&De.assertOptions(n,{silentJSONParsing:ae.transitional(ae.boolean),forcedJSONParsing:ae.transitional(ae.boolean),clarifyTimeoutError:ae.transitional(ae.boolean)},!1),o!=null&&(u.isFunction(o)?s.paramsSerializer={serialize:o}:De.assertOptions(o,{encode:ae.function,serialize:ae.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),De.assertOptions(s,{baseUrl:ae.spelling("baseURL"),withXsrfToken:ae.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let r=i&&u.merge(i.common,i[s.method]);i&&u.forEach(["delete","get","head","post","put","patch","common"],E=>{delete i[E]}),s.headers=ne.concat(r,i);const c=[];let _=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(s)===!1||(_=_&&$.synchronous,c.unshift($.fulfilled,$.rejected))});const p=[];this.interceptors.response.forEach(function($){p.push($.fulfilled,$.rejected)});let g,y=0,T;if(!_){const E=[Pt.bind(this),void 0];for(E.unshift(...c),E.push(...p),T=E.length,g=Promise.resolve(s);y<T;)g=g.then(E[y++],E[y++]);return g}T=c.length;let x=s;for(y=0;y<T;){const E=c[y++],$=c[y++];try{x=E(x)}catch(S){$.call(this,S);break}}try{g=Pt.call(this,x)}catch(E){return Promise.reject(E)}for(y=0,T=p.length;y<T;)g=g.then(p[y++],p[y++]);return g}getUri(t){t=me(this.defaults,t);const s=rs(t.baseURL,t.url,t.allowAbsoluteUrls);return ts(s,t.params,t.paramsSerializer)}}u.forEach(["delete","get","head","options"],function(t){Ke.prototype[t]=function(s,n){return this.request(me(n||{},{method:t,url:s,data:(n||{}).data}))}});u.forEach(["post","put","patch"],function(t){function s(n){return function(i,r,c){return this.request(me(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:r}))}}Ke.prototype[t]=s(),Ke.prototype[t+"Form"]=s(!0)});const Me=Ke;class kt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i;const r=new Promise(c=>{n.subscribe(c),i=c}).then(o);return r.cancel=function(){n.unsubscribe(i)},r},t(function(i,r,c){n.reason||(n.reason=new Ee(i,r,c),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new kt(function(o){t=o}),cancel:t}}}const eo=kt;function to(e){return function(s){return e.apply(null,s)}}function so(e){return u.isObject(e)&&e.isAxiosError===!0}const ht={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ht).forEach(([e,t])=>{ht[t]=e});const no=ht;function fs(e){const t=new Me(e),s=Ht(Me.prototype.request,t);return u.extend(s,Me.prototype,t,{allOwnKeys:!0}),u.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return fs(me(e,o))},s}const q=fs(wt);q.Axios=Me;q.CanceledError=Ee;q.CancelToken=eo;q.isCancel=os;q.VERSION=ds;q.toFormData=Ye;q.AxiosError=U;q.Cancel=q.CanceledError;q.all=function(t){return Promise.all(t)};q.spread=to;q.isAxiosError=so;q.mergeConfig=me;q.AxiosHeaders=ne;q.formToJSON=e=>ns(u.isHTMLForm(e)?new FormData(e):e);q.getAdapter=us.getAdapter;q.HttpStatusCode=no;q.default=q;const oo=q,ot={baseURL:"",timeout:1e4,retryCount:3,headers:{"Content-Type":"application/json"}},de=oo.create({baseURL:ot.baseURL,timeout:ot.timeout,headers:ot.headers});de.interceptors.request.use(e=>e,e=>Promise.reject(e));de.interceptors.response.use(e=>e.data,e=>(console.error("API Error:",e),Promise.reject(e)));var ao=typeof global=="object"&&global&&global.Object===Object&&global;const ro=ao;var io=typeof self=="object"&&self&&self.Object===Object&&self,lo=ro||io||Function("return this")();const hs=lo;var co=hs.Symbol;const ze=co;var ps=Object.prototype,uo=ps.hasOwnProperty,fo=ps.toString,$e=ze?ze.toStringTag:void 0;function ho(e){var t=uo.call(e,$e),s=e[$e];try{e[$e]=void 0;var n=!0}catch{}var o=fo.call(e);return n&&(t?e[$e]=s:delete e[$e]),o}var po=Object.prototype,mo=po.toString;function vo(e){return mo.call(e)}var go="[object Null]",yo="[object Undefined]",It=ze?ze.toStringTag:void 0;function _o(e){return e==null?e===void 0?yo:go:It&&It in Object(e)?ho(e):vo(e)}function bo(e){return e!=null&&typeof e=="object"}var wo="[object Symbol]";function ko(e){return typeof e=="symbol"||bo(e)&&_o(e)==wo}var So=/\s/;function Co(e){for(var t=e.length;t--&&So.test(e.charAt(t)););return t}var Eo=/^\s+/;function Ro(e){return e&&e.slice(0,Co(e)+1).replace(Eo,"")}function pt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Bt=0/0,Oo=/^[-+]0x[0-9a-f]+$/i,To=/^0b[01]+$/i,Ao=/^0o[0-7]+$/i,$o=parseInt;function Dt(e){if(typeof e=="number")return e;if(ko(e))return Bt;if(pt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=pt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ro(e);var s=To.test(e);return s||Ao.test(e)?$o(e.slice(2),s?2:8):Oo.test(e)?Bt:+e}var xo=function(){return hs.Date.now()};const at=xo;var No="Expected a function",Fo=Math.max,Uo=Math.min;function Lo(e,t,s){var n,o,i,r,c,_,p=0,g=!1,y=!1,T=!0;if(typeof e!="function")throw new TypeError(No);t=Dt(t)||0,pt(s)&&(g=!!s.leading,y="maxWait"in s,i=y?Fo(Dt(s.maxWait)||0,t):i,T="trailing"in s?!!s.trailing:T);function x(j){var D=n,H=o;return n=o=void 0,p=j,r=e.apply(H,D),r}function E(j){return p=j,c=setTimeout(R,t),g?x(j):r}function $(j){var D=j-_,H=j-p,Q=t-D;return y?Uo(Q,i-H):Q}function S(j){var D=j-_,H=j-p;return _===void 0||D>=t||D<0||y&&H>=i}function R(){var j=at();if(S(j))return A(j);c=setTimeout(R,$(j))}function A(j){return c=void 0,T&&n?x(j):(n=o=void 0,r)}function P(){c!==void 0&&clearTimeout(c),p=0,n=_=o=c=void 0}function M(){return c===void 0?r:A(at())}function B(){var j=at(),D=S(j);if(n=arguments,o=this,_=j,D){if(c===void 0)return E(_);if(y)return clearTimeout(c),c=setTimeout(R,t),x(_)}return c===void 0&&(c=setTimeout(R,t)),r}return B.cancel=P,B.flush=M,B}const Po={class:"search-filter"},jo={class:"search-container"},Io={class:"search-input-wrapper"},Bo=["placeholder","onKeydown"],Do={key:0,class:"search-history"},Mo=["onClick","onMouseenter"],qo={class:"history-text"},Ho=["onClick"],Vo={key:1,class:"search-suggestions"},Ko=["onClick","onMouseenter"],zo={class:"suggestion-text"},Jo={key:0,class:"filter-panel"},Wo={class:"filter-section"},Go={class:"filter-options"},Yo=["value"],Xo={class:"filter-section"},Qo={class:"filter-options"},Zo={class:"filter-option"},ea={class:"filter-option"},ta={class:"filter-option"},sa={class:"filter-section"},na={key:0,class:"quick-filters"},oa=["onClick"],aa={key:1,class:"search-stats"},ra={class:"stats-text"},ia={key:0,class:"search-time"},xe="config-search-history",la=mt({__name:"SearchFilter",props:{modelValue:{},placeholder:{default:"搜索..."},searchScopes:{default:()=>[{value:"models",label:"Models"},{value:"rules",label:"Rules"},{value:"roles",label:"Roles"},{value:"commands",label:"Commands"}]},quickFilters:{default:()=>[]},maxHistory:{default:10}},emits:["update:modelValue","search","clear"],setup(e,{expose:t,emit:s}){const n=e,o=s,i=F(n.modelValue||""),r=F(null),c=F(!1),_=F(!1),p=F(!1),g=F(!1),y=F(-1),T=F(!1),x=F([]),E=F([]),$=F(n.searchScopes.map(O=>O.value)),S=F([]),R=F("relevance"),A=F({caseSensitive:!1,wholeWord:!1,highlightMatches:!0}),P=F(0),M=F(0),B=Lo(O=>{if(O.trim()){const v=performance.now();o("search",O,{scopes:$.value,caseSensitive:A.value.caseSensitive,wholeWord:A.value.wholeWord,highlightMatches:A.value.highlightMatches,sortBy:R.value}),M.value=Math.round(performance.now()-v),g.value=!0}},300),j=()=>{o("update:modelValue",i.value),i.value?(c.value=!1,B(i.value),D()):(_.value=!1,o("clear"))},D=()=>{const O=[];if(i.value.length>2){const v=x.value.filter(m=>m.toLowerCase().includes(i.value.toLowerCase()));O.push(...v.slice(0,2));const h=["code","debug","architect","brain","hook","before","after"].filter(m=>m.toLowerCase().includes(i.value.toLowerCase()));O.push(...h.slice(0,3-O.length))}E.value=[...new Set(O)].slice(0,5),_.value=O.length>0},H=()=>{i.value="",o("update:modelValue",""),o("clear"),c.value=!1,_.value=!1,g.value=!1,y.value=-1,r.value&&r.value.focus()},Q=()=>{p.value=!p.value},ve=()=>{T.value=!0,i.value||(c.value=!0,y.value=-1)},Re=()=>{T.value=!1,setTimeout(()=>{T.value||(c.value=!1,_.value=!1)},200)},Z=()=>{i.value&&B(i.value)},Oe=O=>{const v=S.value.indexOf(O);v>-1?S.value.splice(v,1):S.value.push(O),i.value&&B(i.value)},ge=O=>{i.value=O,o("update:modelValue",O),c.value=!1,B(O),ie(O)},ye=O=>{i.value=O,o("update:modelValue",O),_.value=!1,B(O),ie(O)},ie=O=>{const v=O.trim();if(!v)return;const L=x.value.indexOf(v);L>-1&&x.value.splice(L,1),x.value.unshift(v),x.value.length>n.maxHistory&&(x.value=x.value.slice(0,n.maxHistory)),localStorage.setItem(xe,JSON.stringify(x.value))},le=O=>{x.value.splice(O,1),localStorage.setItem(xe,JSON.stringify(x.value)),x.value.length===0&&(c.value=!1)},_e=()=>{x.value=[],localStorage.removeItem(xe),c.value=!1},be=()=>{const O=c.value?x.value:E.value;O.length>0&&(y.value=(y.value+1)%O.length)},N=()=>{const O=c.value?x.value:E.value;O.length>0&&(y.value=y.value<=0?O.length-1:y.value-1)},C=()=>{const O=c.value?x.value:E.value;y.value>=0&&y.value<O.length&&(c.value?ge(O[y.value]):ye(O[y.value]))};rt(x,O=>{localStorage.setItem(xe,JSON.stringify(O))}),rt(()=>n.modelValue,O=>{O!==i.value&&(i.value=O||"")}),t({setSearchResults:O=>{P.value=O},resetFilters:()=>{$.value=n.searchScopes.map(O=>O.value),S.value=[],A.value={caseSensitive:!1,wholeWord:!1,highlightMatches:!0},R.value="relevance"}}),Mt(()=>{try{const O=localStorage.getItem(xe);O&&(x.value=JSON.parse(O))}catch(O){console.error("Failed to load search history:",O)}document.addEventListener("keydown",ue)}),ys(()=>{document.removeEventListener("keydown",ue)});const ue=O=>{var v;(O.metaKey||O.ctrlKey)&&O.key==="k"&&(O.preventDefault(),(v=r.value)==null||v.focus()),O.key==="Escape"&&(p.value?p.value=!1:c.value||_.value?(c.value=!1,_.value=!1):H())};return(O,v)=>(f(),d("div",Po,[a("div",jo,[a("div",Io,[v[6]||(v[6]=a("div",{class:"search-icon"},"🔍",-1)),ee(a("input",{ref_key:"searchInput",ref:r,"onUpdate:modelValue":v[0]||(v[0]=L=>i.value=L),type:"text",placeholder:O.placeholder,onInput:j,onFocus:ve,onBlur:Re,onKeydown:[Pe(fe(be,["prevent"]),["down"]),Pe(fe(N,["prevent"]),["up"]),Pe(fe(C,["prevent"]),["enter"]),Pe(fe(H,["prevent"]),["esc"])]},null,40,Bo),[[qe,i.value]]),i.value?(f(),d("button",{key:0,class:"clear-btn",onClick:H,title:"清除搜索"}," ✕ ")):w("",!0),a("button",{class:Y(["filter-toggle",{active:p.value}]),onClick:Q,title:"筛选选项"}," ⚙️ ",2)]),c.value&&x.value.length>0&&!i.value?(f(),d("div",Do,[a("div",{class:"history-header"},[v[7]||(v[7]=a("span",null,"搜索历史",-1)),a("button",{class:"clear-history",onClick:_e,title:"清除历史"}," 清除 ")]),(f(!0),d(z,null,J(x.value,(L,h)=>(f(),d("div",{key:h,class:Y(["history-item",{highlighted:y.value===h}]),onClick:m=>ge(L),onMouseenter:m=>y.value=h},[v[8]||(v[8]=a("span",{class:"history-icon"},"🕐",-1)),a("span",qo,b(L),1),a("button",{class:"remove-history",onClick:fe(m=>le(h),["stop"]),title:"移除"}," ✕ ",8,Ho)],42,Mo))),128))])):w("",!0),_.value&&E.value.length>0?(f(),d("div",Vo,[(f(!0),d(z,null,J(E.value,(L,h)=>(f(),d("div",{key:h,class:Y(["suggestion-item",{highlighted:y.value===h}]),onClick:m=>ye(L),onMouseenter:m=>y.value=h},[v[9]||(v[9]=a("span",{class:"suggestion-icon"},"💡",-1)),a("span",zo,b(L),1)],42,Ko))),128))])):w("",!0),it(bs,{name:"slide-down"},{default:_s(()=>[p.value?(f(),d("div",Jo,[a("div",Wo,[v[10]||(v[10]=a("h3",null,"搜索范围",-1)),a("div",Go,[(f(!0),d(z,null,J(O.searchScopes,L=>(f(),d("label",{key:L.value,class:"filter-option"},[ee(a("input",{type:"checkbox",value:L.value,"onUpdate:modelValue":v[1]||(v[1]=h=>$.value=h),onChange:Z},null,40,Yo),[[je,$.value]]),a("span",null,b(L.label),1)]))),128))])]),a("div",Xo,[v[14]||(v[14]=a("h3",null,"搜索选项",-1)),a("div",Qo,[a("label",Zo,[ee(a("input",{type:"checkbox","onUpdate:modelValue":v[2]||(v[2]=L=>A.value.caseSensitive=L),onChange:Z},null,544),[[je,A.value.caseSensitive]]),v[11]||(v[11]=a("span",null,"区分大小写",-1))]),a("label",ea,[ee(a("input",{type:"checkbox","onUpdate:modelValue":v[3]||(v[3]=L=>A.value.wholeWord=L),onChange:Z},null,544),[[je,A.value.wholeWord]]),v[12]||(v[12]=a("span",null,"全词匹配",-1))]),a("label",ta,[ee(a("input",{type:"checkbox","onUpdate:modelValue":v[4]||(v[4]=L=>A.value.highlightMatches=L),onChange:Z},null,544),[[je,A.value.highlightMatches]]),v[13]||(v[13]=a("span",null,"高亮匹配",-1))])])]),a("div",sa,[v[16]||(v[16]=a("h3",null,"排序方式",-1)),ee(a("select",{"onUpdate:modelValue":v[5]||(v[5]=L=>R.value=L),onChange:Z,class:"sort-select"},[...v[15]||(v[15]=[a("option",{value:"relevance"},"相关度",-1),a("option",{value:"name"},"名称",-1),a("option",{value:"category"},"类别",-1),a("option",{value:"modified"},"修改时间",-1)])],544),[[ws,R.value]])])])):w("",!0)]),_:1})]),O.quickFilters.length>0?(f(),d("div",na,[v[17]||(v[17]=a("span",{class:"quick-filter-label"},"快速筛选:",-1)),(f(!0),d(z,null,J(O.quickFilters,L=>(f(),d("button",{key:L.value,class:Y(["quick-filter-tag",{active:S.value.includes(L.value)}]),onClick:h=>Oe(L.value)},b(L.label),11,oa))),128))])):w("",!0),g.value&&i.value?(f(),d("div",aa,[a("span",ra,[v[18]||(v[18]=he(" 找到 ",-1)),a("strong",null,b(P.value),1),v[19]||(v[19]=he(" 个结果 ",-1)),M.value?(f(),d("span",ia," ("+b(M.value)+"ms) ",1)):w("",!0)])])):w("",!0)]))}});const ca=vt(la,[["__scopeId","data-v-e8bbc804"]]);class ua{constructor(){Te(this,"STORAGE_KEY","roo-configs");Te(this,"VERSION_KEY","roo-configs-version");Te(this,"BACKUP_KEY","roo-configs-backup");Te(this,"CURRENT_VERSION","1.0.0")}async initialize(){const t=localStorage.getItem(this.VERSION_KEY);t?t!==this.CURRENT_VERSION&&await this.migrateData(t,this.CURRENT_VERSION):await this.createBackup(),localStorage.setItem(this.VERSION_KEY,this.CURRENT_VERSION)}async saveConfig(t,s,n){try{const o=await this.getAllConfigs(),i={id:this.generateId(),name:t,description:n||"",config:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:this.CURRENT_VERSION},r=o.findIndex(_=>_.name===t);r>=0?o[r]={...o[r],config:s,description:n||o[r].description,updatedAt:new Date().toISOString()}:o.push(i);const c=this.compressData(o);localStorage.setItem(this.STORAGE_KEY,c),await this.createBackup()}catch(o){throw console.error("Failed to save config:",o),new Error("保存配置失败")}}async getAllConfigs(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?this.decompressData(t)||[]:[]}catch(t){throw console.error("Failed to load configs:",t),new Error("加载配置失败")}}async loadConfig(t){try{const n=(await this.getAllConfigs()).find(o=>o.id===t);return n?n.config:null}catch(s){throw console.error("Failed to load config:",s),new Error("加载配置失败")}}async deleteConfig(t){try{const n=(await this.getAllConfigs()).filter(i=>i.id!==t),o=this.compressData(n);localStorage.setItem(this.STORAGE_KEY,o),await this.createBackup()}catch(s){throw console.error("Failed to delete config:",s),new Error("删除配置失败")}}async renameConfig(t,s){try{const n=await this.getAllConfigs(),o=n.find(r=>r.id===t);if(!o)throw new Error("配置不存在");o.name=s,o.updatedAt=new Date().toISOString();const i=this.compressData(n);localStorage.setItem(this.STORAGE_KEY,i)}catch(n){throw console.error("Failed to rename config:",n),new Error("重命名配置失败")}}async exportConfig(t){try{const n=(await this.getAllConfigs()).find(c=>c.id===t);if(!n)throw new Error("配置不存在");const o=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),r=document.createElement("a");r.href=i,r.download=`config-${n.name}-${Date.now()}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}catch(s){throw console.error("Failed to export config:",s),new Error("导出配置失败")}}async importConfig(t){try{const s=await t.text(),n=JSON.parse(s);if(!this.validateConfig(n))throw new Error("配置格式无效");n.id=this.generateId(),n.updatedAt=new Date().toISOString();const o=await this.getAllConfigs();o.push(n);const i=this.compressData(o);localStorage.setItem(this.STORAGE_KEY,i),await this.createBackup()}catch(s){throw console.error("Failed to import config:",s),new Error("导入配置失败")}}async createBackup(){try{const t=localStorage.getItem(this.STORAGE_KEY);t&&(localStorage.setItem(this.BACKUP_KEY,t),localStorage.setItem(`${this.BACKUP_KEY}-timestamp`,Date.now().toString()))}catch(t){console.error("Failed to create backup:",t)}}async restoreBackup(){try{const t=localStorage.getItem(this.BACKUP_KEY);return t?(localStorage.setItem(this.STORAGE_KEY,t),!0):!1}catch(t){throw console.error("Failed to restore backup:",t),new Error("恢复备份失败")}}compressData(t){try{const s=JSON.stringify(t);return btoa(unescape(encodeURIComponent(s)))}catch(s){return console.error("Compression failed:",s),JSON.stringify(t)}}decompressData(t){try{const s=decodeURIComponent(escape(atob(t)));return JSON.parse(s)}catch(s){try{return JSON.parse(t)}catch{return console.error("Decompression failed:",s),null}}}async migrateData(t,s){console.log(`Migrating from ${t} to ${s}`),await this.createBackup()}validateConfig(t){return t&&typeof t.id=="string"&&typeof t.name=="string"&&typeof t.config=="object"&&Array.isArray(t.config.models)&&typeof t.config.rules=="object"}generateId(){return`config_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async getStorageStats(){const t=await this.getAllConfigs(),s=localStorage.getItem(this.STORAGE_KEY),n=localStorage.getItem(`${this.BACKUP_KEY}-timestamp`);return{totalConfigs:t.length,totalSize:s?new Blob([s]).size:0,lastBackup:n?new Date(parseInt(n)):void 0}}}const re=new ua,ms=ks("config",()=>{const e=F([]),t=F(!1),s=F(null),n=F({totalConfigs:0,totalSize:0}),o=te(()=>e.value.length>0),i=te(()=>[...e.value].sort((R,A)=>new Date(A.updatedAt).getTime()-new Date(R.updatedAt).getTime())),r=async()=>{try{t.value=!0,await re.initialize(),await c(),await $()}catch(R){s.value=R instanceof Error?R.message:"初始化失败"}finally{t.value=!1}},c=async()=>{try{t.value=!0,s.value=null,e.value=await re.getAllConfigs()}catch(R){throw s.value=R instanceof Error?R.message:"加载配置失败",R}finally{t.value=!1}},_=async(R,A,P)=>{try{return t.value=!0,s.value=null,await re.saveConfig(R,A,P),await c(),await $(),!0}catch(M){throw s.value=M instanceof Error?M.message:"保存配置失败",M}finally{t.value=!1}},p=async R=>{try{return t.value=!0,s.value=null,await re.loadConfig(R)}catch(A){throw s.value=A instanceof Error?A.message:"加载配置失败",A}finally{t.value=!1}},g=async R=>{try{t.value=!0,s.value=null,await re.deleteConfig(R),await c(),await $()}catch(A){throw s.value=A instanceof Error?A.message:"删除配置失败",A}finally{t.value=!1}},y=async(R,A)=>{try{t.value=!0,s.value=null,await re.renameConfig(R,A),await c()}catch(P){throw s.value=P instanceof Error?P.message:"重命名配置失败",P}finally{t.value=!1}},T=async R=>{try{await re.exportConfig(R)}catch(A){throw s.value=A instanceof Error?A.message:"导出配置失败",A}},x=async R=>{try{t.value=!0,s.value=null,await re.importConfig(R),await c(),await $()}catch(A){throw s.value=A instanceof Error?A.message:"导入配置失败",A}finally{t.value=!1}},E=async()=>{try{t.value=!0,s.value=null;const R=await re.restoreBackup();return R&&(await c(),await $()),R}catch(R){throw s.value=R instanceof Error?R.message:"恢复备份失败",R}finally{t.value=!1}},$=async()=>{try{n.value=await re.getStorageStats()}catch(R){console.error("Failed to update storage stats:",R)}};return{savedConfigs:e,isLoading:t,error:s,storageStats:n,hasConfigs:o,sortedConfigs:i,initialize:r,loadConfigs:c,saveConfig:_,loadConfig:p,deleteConfig:g,renameConfig:y,exportConfig:T,importConfig:x,restoreBackup:E,updateStorageStats:$,clearError:()=>{s.value=null}}}),da=Object.freeze(Object.defineProperty({__proto__:null,useConfigStore:ms},Symbol.toStringTag,{value:"Module"})),fa={key:0,class:"config-manager"},ha={class:"modal-content"},pa={class:"modal-header"},ma={key:0,class:"config-form"},va={class:"form-group"},ga={key:0,class:"error-message"},ya={class:"form-group"},_a={class:"form-actions"},ba=["disabled"],wa={key:1,class:"config-list"},ka={key:0,class:"loading"},Sa={key:1,class:"empty-state"},Ca={key:2,class:"configs-container"},Ea={class:"toolbar"},Ra={class:"toolbar-info"},Oa={class:"config-count"},Ta={class:"storage-size"},Aa={class:"toolbar-actions"},$a=["disabled"],xa=["disabled"],Na={class:"configs-grid"},Fa={class:"config-card-header"},Ua={class:"config-info"},La={key:0,class:"description"},Pa={class:"meta"},ja={class:"date"},Ia={key:0,class:"date"},Ba={class:"config-card-content"},Da={class:"config-preview"},Ma={class:"preview-item"},qa={class:"value"},Ha={class:"preview-item"},Va={class:"value"},Ka={class:"preview-item"},za={class:"value"},Ja={class:"config-actions"},Wa=["onClick"],Ga=["onClick"],Ya=["onClick"],Xa=["onClick"],Qa=["onClick"],Za={class:"details-modal-body"},er={key:0,class:"config-details"},tr={class:"details-section"},sr={class:"details-grid"},nr={class:"detail-item"},or={class:"detail-value"},ar={class:"detail-item"},rr={class:"detail-value"},ir={key:0,class:"detail-item"},lr={class:"detail-value"},cr={key:1,class:"detail-item"},ur={class:"detail-value"},dr={key:0,class:"details-section"},fr={class:"models-list"},hr={class:"model-header"},pr={class:"model-slug"},mr={class:"model-name"},vr={class:"model-details"},gr={class:"model-description"},yr={class:"model-meta"},_r={class:"model-provider"},br={class:"model-category"},wr={key:1,class:"details-section"},kr={class:"rules-list"},Sr={class:"rule-header"},Cr={class:"rule-name"},Er={key:0,class:"rule-category"},Rr={class:"rule-content"},Or={key:0,class:"rule-description"},Tr={key:1,class:"rule-tags"},Ar={class:"rule-details-toggle"},$r={class:"rule-code"},xr={key:2,class:"details-section"},Nr={class:"commands-list"},Fr={class:"command-header"},Ur={class:"command-name"},Lr={class:"command-content"},Pr={key:0,class:"command-description"},jr={class:"command-details-toggle"},Ir={class:"command-code"},Br={key:3,class:"details-section"},Dr={class:"roles-list"},Mr={class:"role-header"},qr={class:"role-slug"},Hr={class:"role-name"},Vr={class:"role-content"},Kr={class:"role-description"},zr={key:0,class:"role-traits"},Jr={class:"details-modal-footer"},Wr=mt({__name:"ConfigManager",props:{show:{type:Boolean,default:!1},initialMode:{default:"list"},currentConfig:{default:void 0}},emits:["update:show","apply","close"],setup(e,{emit:t}){const s=e,n=t,o=ms(),i=F(s.initialMode),r=F(""),c=F(""),_=F(!1),p=F({}),g=F(),y=F(!1),T=F(null),x=te(()=>o.savedConfigs),E=te(()=>o.sortedConfigs),$=te(()=>o.hasConfigs),S=te(()=>o.storageStats),R=()=>{n("update:show",!1),ie()},A=N=>{i.value=N,N==="save"&&qt(()=>{const C=document.querySelector('input[type="text"]');C==null||C.focus()})},P=()=>r.value.trim()?x.value.find(C=>C.name===r.value.trim())?(p.value.name="配置名称已存在",!1):(delete p.value.name,!0):(p.value.name="配置名称不能为空",!1),M=async()=>{if(!(!P()||!s.currentConfig))try{_.value=!0,await o.saveConfig(r.value.trim(),s.currentConfig,c.value.trim()||void 0),i.value="list",ie()}catch(N){console.error("Save failed:",N)}finally{_.value=!1}},B=N=>{n("apply",N.config),R()},j=N=>{T.value=N,y.value=!0},D=()=>{y.value=!1,T.value=null},H=async N=>{try{await o.exportConfig(N)}catch(C){console.error("Export failed:",C)}},Q=async N=>{const C=prompt("请输入新的配置名称:",N.name);if(C&&C.trim()&&C.trim()!==N.name)try{await o.renameConfig(N.id,C.trim())}catch(W){console.error("Rename failed:",W)}},ve=async N=>{if(confirm(`确定要删除配置 "${N.name}" 吗？此操作不可恢复。`))try{await o.deleteConfig(N.id)}catch(C){console.error("Delete failed:",C)}},Re=async()=>{try{_.value=!0,await o.loadConfigs(),await o.updateStorageStats()}catch(N){console.error("Refresh failed:",N)}finally{_.value=!1}},Z=()=>{var N;(N=g.value)==null||N.click()},Oe=async N=>{var ce;const C=N.target,W=(ce=C.files)==null?void 0:ce[0];if(W)try{_.value=!0,await o.importConfig(W)}catch(ue){console.error("Import failed:",ue)}finally{_.value=!1,C.value=""}},ge=()=>{const N=new Blob([JSON.stringify(x.value,null,2)],{type:"application/json"}),C=URL.createObjectURL(N),W=document.createElement("a");W.href=C,W.download=`all-configs-${Date.now()}.json`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(C)},ye=async()=>{if(confirm("确定要恢复到最近的备份吗？这将覆盖当前的配置。"))try{const N=await o.restoreBackup();alert(N?"备份恢复成功！":"没有找到可用的备份")}catch(N){console.error("Restore backup failed:",N),alert("恢复备份失败")}},ie=()=>{r.value="",c.value="",p.value={}},le=N=>new Date(N).toLocaleDateString("zh-CN"),_e=N=>N<1024?N+" B":N<1024*1024?(N/1024).toFixed(1)+" KB":(N/(1024*1024)).toFixed(1)+" MB",be=te(()=>i.value==="save"?"保存配置":"我的配置");return rt(()=>s.show,N=>{N&&(i.value=s.initialMode,ie(),o.clearError())}),(N,C)=>{var W,ce,ue,O;return N.show?(f(),d("div",fa,[a("div",{class:"modal-backdrop",onClick:R}),a("div",ha,[a("div",pa,[a("h2",null,b(be.value),1),a("button",{class:"close-btn",onClick:R},"✕")]),i.value==="save"?(f(),d("div",ma,[a("div",va,[C[6]||(C[6]=a("label",null,[he("配置名称 "),a("span",{class:"required"},"*")],-1)),ee(a("input",{"onUpdate:modelValue":C[0]||(C[0]=v=>r.value=v),type:"text",placeholder:"输入配置名称...",class:Y({error:p.value.name}),onInput:P},null,34),[[qe,r.value]]),p.value.name?(f(),d("span",ga,b(p.value.name),1)):w("",!0)]),a("div",ya,[C[7]||(C[7]=a("label",null,"描述（可选）",-1)),ee(a("textarea",{"onUpdate:modelValue":C[1]||(C[1]=v=>c.value=v),placeholder:"添加配置描述...",rows:"3"},null,512),[[qe,c.value]])]),a("div",_a,[a("button",{class:"btn btn-primary",disabled:!r.value.trim()||_.value,onClick:M},b(_.value?"保存中...":"保存配置"),9,ba),a("button",{class:"btn btn-secondary",onClick:R},"取消")])])):i.value==="list"?(f(),d("div",wa,[_.value?(f(),d("div",ka,[...C[8]||(C[8]=[a("div",{class:"loading-spinner"},null,-1),a("p",null,"加载中...",-1)])])):$.value?(f(),d("div",Ca,[a("div",Ea,[a("div",Ra,[a("span",Oa,b(x.value.length)+" 个配置",1),a("span",Ta,"占用空间: "+b(_e(S.value.totalSize)),1)]),a("div",Aa,[a("button",{class:"btn-icon",title:"刷新",onClick:Re,disabled:_.value}," 🔄 ",8,$a),a("button",{class:"btn-icon",title:"导入配置",onClick:Z}," 📥 "),a("button",{class:"btn-icon",title:"导出所有",onClick:ge}," 📤 "),a("button",{class:"btn-icon",title:"恢复备份",onClick:ye,disabled:_.value}," 💾 ",8,xa),a("button",{class:"btn-icon btn-primary",title:"创建新配置",onClick:C[3]||(C[3]=v=>A("save"))}," ➕ ")])]),a("div",Na,[(f(!0),d(z,null,J(E.value,v=>{var L,h,m;return f(),d("div",{key:v.id,class:"config-card"},[a("div",Fa,[a("div",Ua,[a("h3",null,b(v.name),1),v.description?(f(),d("p",La,b(v.description),1)):w("",!0),a("div",Pa,[a("span",ja,"创建于: "+b(le(v.createdAt)),1),v.updatedAt!==v.createdAt?(f(),d("span",Ia," 更新于: "+b(le(v.updatedAt)),1)):w("",!0)])])]),a("div",Ba,[a("div",Da,[a("div",Ma,[C[11]||(C[11]=a("span",{class:"label"},"Models:",-1)),a("span",qa,b(((L=v.config.models)==null?void 0:L.length)||0)+" 个",1)]),a("div",Ha,[C[12]||(C[12]=a("span",{class:"label"},"Roles:",-1)),a("span",Va,b(((h=v.config.roles)==null?void 0:h.length)||0)+" 个",1)]),a("div",Ka,[C[13]||(C[13]=a("span",{class:"label"},"Commands:",-1)),a("span",za,b(((m=v.config.commands)==null?void 0:m.length)||0)+" 个",1)])]),a("div",Ja,[a("button",{class:"btn-sm btn-primary",onClick:l=>B(v),title:"应用此配置"}," 应用 ",8,Wa),a("button",{class:"btn-sm btn-secondary",onClick:l=>j(v),title:"查看详情"}," 详情 ",8,Ga),a("button",{class:"btn-sm",onClick:l=>H(v.id),title:"导出配置"}," 📤 ",8,Ya),a("button",{class:"btn-sm",onClick:l=>Q(v),title:"重命名"}," ✏️ ",8,Xa),a("button",{class:"btn-sm btn-danger",onClick:l=>ve(v),title:"删除配置"}," 🗑️ ",8,Qa)])])])}),128))])])):(f(),d("div",Sa,[C[9]||(C[9]=a("div",{class:"empty-icon"},"📁",-1)),C[10]||(C[10]=a("p",null,"暂无保存的配置",-1)),a("button",{class:"btn btn-primary",onClick:C[2]||(C[2]=v=>A("save"))}," 创建新配置 ")]))])):w("",!0)]),a("input",{ref_key:"fileInput",ref:g,type:"file",accept:".json",style:{display:"none"},onChange:Oe},null,544),y.value?(f(),d("div",{key:0,class:"details-modal",onClick:D},[C[23]||(C[23]=a("div",{class:"details-modal-backdrop"},null,-1)),a("div",{class:"details-modal-content",onClick:C[5]||(C[5]=fe(()=>{},["stop"]))},[a("div",{class:"details-modal-header"},[C[14]||(C[14]=a("h3",null,"配置详情",-1)),a("button",{class:"details-close-btn",onClick:D},"✕")]),a("div",Za,[T.value?(f(),d("div",er,[a("div",tr,[C[19]||(C[19]=a("h4",null,"基本信息",-1)),a("div",sr,[a("div",nr,[C[15]||(C[15]=a("span",{class:"detail-label"},"名称:",-1)),a("span",or,b(T.value.name),1)]),a("div",ar,[C[16]||(C[16]=a("span",{class:"detail-label"},"创建时间:",-1)),a("span",rr,b(le(T.value.createdAt)),1)]),T.value.updatedAt!==T.value.createdAt?(f(),d("div",ir,[C[17]||(C[17]=a("span",{class:"detail-label"},"更新时间:",-1)),a("span",lr,b(le(T.value.updatedAt)),1)])):w("",!0),T.value.description?(f(),d("div",cr,[C[18]||(C[18]=a("span",{class:"detail-label"},"描述:",-1)),a("span",ur,b(T.value.description),1)])):w("",!0)])]),(W=T.value.config.models)!=null&&W.length?(f(),d("div",dr,[a("h4",null,"Models ("+b(T.value.config.models.length)+")",1),a("div",fr,[(f(!0),d(z,null,J(T.value.config.models,v=>(f(),d("div",{key:v.slug,class:"model-item"},[a("div",hr,[a("span",pr,b(v.slug),1),a("span",mr,b(v.name),1)]),a("div",vr,[a("div",gr,b(v.description),1),a("div",yr,[a("span",_r,"提供商: "+b(v.provider),1),a("span",br,"类别: "+b(v.category),1)])])]))),128))])])):w("",!0),(ce=T.value.config.rules)!=null&&ce.length?(f(),d("div",wr,[a("h4",null,"Rules ("+b(T.value.config.rules.length)+")",1),a("div",kr,[(f(!0),d(z,null,J(T.value.config.rules,v=>{var L,h,m,l;return f(),d("div",{key:v.name,class:"rule-item"},[a("div",Sr,[a("span",Cr,b(v.name),1),(L=v.metadata)!=null&&L.category?(f(),d("span",Er,b(v.metadata.category),1)):w("",!0)]),a("div",Rr,[(h=v.metadata)!=null&&h.description?(f(),d("div",Or,b(v.metadata.description),1)):w("",!0),(l=(m=v.metadata)==null?void 0:m.tags)!=null&&l.length?(f(),d("div",Tr,[(f(!0),d(z,null,J(v.metadata.tags,k=>(f(),d("span",{key:k,class:"rule-tag"},b(k),1))),128))])):w("",!0),a("details",Ar,[C[20]||(C[20]=a("summary",null,"查看规则内容",-1)),a("pre",$r,b(v.content),1)])])])}),128))])])):w("",!0),(ue=T.value.config.commands)!=null&&ue.length?(f(),d("div",xr,[a("h4",null,"Commands ("+b(T.value.config.commands.length)+")",1),a("div",Nr,[(f(!0),d(z,null,J(T.value.config.commands,v=>(f(),d("div",{key:v.name,class:"command-item"},[a("div",Fr,[a("span",Ur,b(v.name),1)]),a("div",Lr,[v.description?(f(),d("div",Pr,b(v.description),1)):w("",!0),a("details",jr,[C[21]||(C[21]=a("summary",null,"查看命令内容",-1)),a("pre",Ir,b(v.content),1)])])]))),128))])])):w("",!0),(O=T.value.config.roles)!=null&&O.length?(f(),d("div",Br,[a("h4",null,"Roles ("+b(T.value.config.roles.length)+")",1),a("div",Dr,[(f(!0),d(z,null,J(T.value.config.roles,v=>{var L;return f(),d("div",{key:v.slug,class:"role-item"},[a("div",Mr,[a("span",qr,b(v.slug),1),a("span",Hr,b(v.name),1)]),a("div",Vr,[a("div",Kr,b(v.description),1),(L=v.traits)!=null&&L.length?(f(),d("div",zr,[C[22]||(C[22]=a("strong",null,"特征:",-1)),he(" "+b(v.traits.join(", ")),1)])):w("",!0)])])}),128))])])):w("",!0)])):w("",!0)]),a("div",Jr,[a("button",{class:"btn btn-primary",onClick:C[4]||(C[4]=v=>B(T.value))}," 应用此配置 "),a("button",{class:"btn btn-secondary",onClick:D}," 关闭 ")])])])):w("",!0)])):w("",!0)}}});const Gr=vt(Wr,[["__scopeId","data-v-99aeee88"]]);const Yr={class:"config-selector"},Xr={class:"container"},Qr={class:"global-search-section"},Zr={class:"config-layout"},ei={class:"selection-panel"},ti={class:"tab-navigation"},si={class:"tab-header"},ni=["onClick"],oi={class:"tab-icon"},ai={class:"tab-label"},ri={key:0,class:"required-mark"},ii={class:"tab-content"},li={class:"config-section"},ci={class:"search-box"},ui={class:"items-list"},di=["onClick"],fi={class:"item-header"},hi=["checked","onChange","disabled","title"],pi={class:"item-info"},mi={class:"text-primary"},vi={key:0,class:"required-crown",title:"必选项"},gi={class:"slug text-secondary"},yi={key:0,class:"description text-secondary"},_i={key:1,class:"meta"},bi={class:"category text-inverted"},wi={key:0,class:"tags text-secondary"},ki={key:2,class:"model-rules"},Si={class:"model-rules-header"},Ci={class:"model-rules-actions"},Ei=["onClick","title"],Ri={class:"model-rules-list"},Oi=["onClick"],Ti={class:"rule-header"},Ai=["checked","onChange","disabled"],$i={class:"rule-info"},xi={class:"text-primary"},Ni={key:0,class:"rule-preview"},Fi={key:0,class:"rule-metadata-simple"},Ui={key:0,class:"rule-title"},Li={key:1,class:"rule-description"},Pi={key:2,class:"rule-meta-info"},ji={key:0,class:"category-tag"},Ii={key:1,class:"tags"},Bi={key:1,class:"rule-content-preview"},Di={key:0,class:"rule-metadata-header"},Mi={key:0,class:"meta-description"},qi={key:1},Hi={class:"config-section"},Vi={class:"items-list"},Ki=["onClick"],zi={class:"item-header"},Ji=["checked","onChange"],Wi={class:"item-info"},Gi={class:"text-primary"},Yi={key:0,class:"role-preview"},Xi={key:0,class:"role-metadata-simple"},Qi={key:0,class:"role-title"},Zi={key:1,class:"role-description"},el={key:2,class:"role-traits"},tl={class:"traits-value"},sl={key:1,class:"role-content-preview"},nl={key:0,class:"role-metadata-header"},ol={key:0,class:"meta-description"},al={key:1},rl={class:"config-section"},il={class:"items-list"},ll=["onClick"],cl={class:"item-header"},ul=["checked","onChange"],dl={class:"item-info"},fl={class:"text-primary"},hl={key:0,class:"command-preview"},pl={key:0,class:"command-metadata-simple"},ml={key:0,class:"command-title"},vl={key:1,class:"command-description"},gl={key:2,class:"command-meta-info"},yl={key:0,class:"category-tag"},_l={key:1,class:"tags"},bl={key:1,class:"command-content-preview"},wl={key:0,class:"command-metadata-header"},kl={key:0,class:"meta-description"},Sl={key:1},Cl={class:"preview-panel"},El={class:"preview-section"},Rl={class:"preview-header"},Ol={class:"preview-controls"},Tl={class:"mode-toggle"},Al={key:0,class:"preview-content"},$l={class:"preview-grid"},xl={key:0,class:"preview-card"},Nl={class:"card-header"},Fl={class:"card-content"},Ul={class:"model-name"},Ll={class:"name-text"},Pl={class:"slug-text"},jl={key:0,class:"model-metadata-simple"},Il={key:0,class:"meta-description"},Bl={key:1,class:"model-meta-info"},Dl={key:0,class:"category-tag"},Ml={key:1,class:"tags"},ql={key:1,class:"rules-list"},Hl={class:"rule-name"},Vl={key:1,class:"preview-card"},Kl={class:"card-content"},zl={class:"role-item"},Jl={class:"name-text"},Wl={key:0,class:"role-metadata-simple"},Gl={key:0,class:"meta-description"},Yl={key:1,class:"role-traits"},Xl={class:"traits-value"},Ql={key:2,class:"preview-card"},Zl={class:"card-header"},ec={class:"card-content"},tc={class:"commands-grid"},sc={class:"command-name"},nc={key:0,class:"command-metadata-simple"},oc={key:0,class:"meta-description"},ac={key:1,class:"command-meta-info"},rc={key:0,class:"category-tag"},ic={key:1,class:"preview-card"},lc={class:"card-header"},cc={class:"card-content"},uc={class:"hooks-list"},dc={key:0,class:"hook-item"},fc={key:0,class:"hook-metadata-simple"},hc={key:0,class:"meta-description"},pc={key:1,class:"hook-description"},mc={key:2,class:"hook-meta-info"},vc={class:"category-tag"},gc={key:1,class:"hook-item"},yc={key:0,class:"hook-metadata-simple"},_c={key:0,class:"meta-description"},bc={key:1,class:"hook-description"},wc={key:2,class:"hook-meta-info"},kc={class:"category-tag"},Sc={key:2,class:"empty-preview"},Cc={class:"actions"},Ec=["disabled"],K="orchestrator",Se=100,Rc=300,Oc=mt({__name:"ConfigSelector",setup(e){const s=((h,m)=>{let l;return function(...k){clearTimeout(l),l=window.setTimeout(()=>h.apply(this,k),m)}})(()=>{},Rc),n=F([]),o=F([]),i=F({}),r=F(null),c=F({}),_=F([]),p=F({before:"",after:""}),g=F({}),y=F({}),T=h=>{g.value[h]||(g.value[h]={}),y.value[h]||(y.value[h]=[])},x=F(""),E=F("models"),$=F([{id:"models",label:"模式",icon:"🤖",required:!0},{id:"roles",label:"角色",icon:"🎭",required:!1},{id:"commands",label:"命令",icon:"⚡",required:!1}]),S=F("detailed");F(!1);const R=F(null),A=F(!1),P=F("");F();const M=te(()=>o.value.length>0||Object.keys(y.value).length>0||r.value!==null||_.value.length>0),B=te(()=>o.value.length>0);te(()=>o.value.some(h=>h.slug===K)),te(()=>Object.values(y.value).reduce((h,m)=>h+m.length,0));const j=(h,m)=>{var l;return((l=y.value[h])==null?void 0:l.includes(m))||!1},D=h=>{const m=Object.keys(g.value[h]||{}),l=y.value[h]||[];return m.length>0&&m.every(k=>l.includes(k))},H=te(()=>{const h=x.value.toLowerCase(),m=n.value||[];return h?m.filter(l=>{var k,I,V;return l.name.toLowerCase().includes(h)||l.slug.toLowerCase().includes(h)||((k=l.description)==null?void 0:k.toLowerCase().includes(h))||((I=l.category)==null?void 0:I.toLowerCase().includes(h))||((V=l.tags)==null?void 0:V.some(se=>se.toLowerCase().includes(h)))}):m}),Q=(h,m)=>{console.error(`Failed to ${m}:`,h),h.value=`${m} 失败`},ve=()=>{R.value=null},Re=async()=>{var h;ve();try{const m=await de.post("/api/models");console.log("API Response from /api/models:",m),n.value=m||[],console.log("Models value after assignment:",n.value),console.log("Models length:",(h=n.value)==null?void 0:h.length);const l=(n.value||[]).find(k=>k.slug===K);console.log("Found orchestrator model:",l),l&&(console.log("Adding orchestrator to selected models"),o.value.push(l),console.log("Selected models after push:",o.value),await Z(K))}catch(m){Q(m,"fetch models")}},Z=async h=>{ve();try{const l=await de.post("/api/rules/get",{slug:h})||{};T(h),g.value[h]=l,h===K?y.value[h]=Object.keys(l):y.value[h]=[]}catch(m){Q(m,`fetch rules for ${h}`)}},Oe=async()=>{try{const h=await de.post("/api/roles");i.value=h||{}}catch(h){console.error("Failed to fetch roles:",h)}},ge=async()=>{try{const h=await de.post("/api/commands");console.log(h),c.value=h||{}}catch(h){console.error("Failed to fetch commands:",h)}},ye=async()=>{try{const[h,m]=await Promise.all([de.post("/api/hooks/before"),de.post("/api/hooks/after")]);p.value={before:h||"",after:m||""}}catch(h){console.error("Failed to fetch hooks:",h)}},ie=async h=>{const m=o.value.findIndex(l=>l.slug===h.slug);if(m>-1){if(h.slug===K)return;o.value.splice(m,1),delete y.value[h.slug],delete g.value[h.slug]}else{o.value.push(h);try{const k=await de.post("/api/rules/get",{slug:h.slug})||{};T(h.slug),g.value[h.slug]=k,h.slug===K?y.value[h.slug]=Object.keys(k):y.value[h.slug]=[]}catch(l){console.error(`Failed to fetch rules for ${h.slug}:`,l)}}},le=(h,m)=>{var l;((l=r.value)==null?void 0:l.name)===h?r.value=null:r.value={name:h,content:m.content}},_e=(h,m)=>{const l=_.value.findIndex(k=>k.name===h);l>-1?_.value.splice(l,1):_.value.push({name:h,content:m.content})},be=(h,m,l)=>{if(h===K)return;T(h);const k=y.value[h].indexOf(m);k>-1?y.value[h].splice(k,1):y.value[h].push(m)},N=h=>{if(h===K)return;const m=Object.keys(g.value[h]||{});y.value[h],D(h)?y.value[h]=[]:y.value[h]=[...m]},C=()=>{const h=o.value.find(m=>m.slug===K);o.value=h?[h]:[],g.value={},y.value={},r.value=null,_.value=[],x.value="",h&&Z(h.slug)},W=()=>{const h={models:o.value,rules:{},roles:r.value?[r.value]:[],commands:_.value,hooks:p.value};o.value.forEach(V=>{const se=y.value[V.slug]||[];h.rules[V.slug]=se.map(we=>{var St;const ke=(St=g.value[V.slug])==null?void 0:St[we];return{name:we,content:(ke==null?void 0:ke.content)||""}})});const m=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),l=URL.createObjectURL(m),k=document.createElement("a");k.href=l;const I=o.value.map(V=>V.slug).join("-");k.download=`config-${I}-${Date.now()}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(l)};console.log("🎯 ConfigSelector 组件开始初始化"),Mt(async()=>{console.log("🚀 ConfigSelector 组件已挂载，开始获取数据");try{await Promise.all([Re(),Oe(),ge(),ye()]),console.log("✅ 所有初始数据获取完成")}catch(h){console.error("❌ 初始数据获取失败:",h)}qt(()=>{var h,m;if(console.log("🔄 nextTick 回调执行"),console.log("当前 models 长度:",(h=n.value||[])==null?void 0:h.length),console.log("当前 selectedModels:",o.value),(((m=n.value||[])==null?void 0:m.length)||0)>0&&!(o.value||[]).some(l=>l.slug===K)){console.log("准备自动选择 orchestrator");const l=(n.value||[]).find(k=>k.slug===K);l&&(console.log("添加 orchestrator 到已选择"),o.value.push(l),Z(l.slug))}else console.log("orchestrator 已经存在或 models 为空")})});const ce=(h,m)=>{P.value=h},ue=h=>{ce(P.value)},O=()=>{A.value=!0},v=async h=>{const m={models:o.value,rules:{},roles:r.value?[r.value]:[],commands:_.value,hooks:p.value};o.value.forEach(I=>{const V=y.value[I.slug]||[];m.rules[I.slug]=V.map(se=>{var ke;const we=(ke=g.value[I.slug])==null?void 0:ke[se];return{name:se,content:(we==null?void 0:we.content)||""}})});const{useConfigStore:l}=await Ss(()=>Promise.resolve().then(()=>da),void 0),k=l();try{await k.saveConfig(h,m)}catch(I){console.error("保存配置失败:",I)}},L=async h=>{if(C(),h.models&&Array.isArray(h.models)){o.value=h.models;for(const m of h.models)await Z(m.slug),h.rules&&h.rules[m.slug]&&(y.value[m.slug]=h.rules[m.slug].map(l=>l.name))}if(h.roles&&h.roles.length>0){const m=h.roles[0];r.value=m}h.commands&&Array.isArray(h.commands)&&(_.value=h.commands)};return(h,m)=>(f(),d("div",Yr,[a("div",Xr,[m[23]||(m[23]=a("div",{class:"header"},[a("h1",null,"配置选择器"),a("p",{class:"description"},"选择您需要的 models、rules、roles 和 commands")],-1)),a("div",Qr,[it(ca,{"initial-query":P.value,placeholder:"搜索 modes, rules, roles, commands...",scopes:[{value:"all",label:"全部"},{value:"models",label:"Modes"},{value:"rules",label:"Rules"},{value:"roles",label:"Roles"},{value:"commands",label:"Commands"}],"quick-filters":[{value:"selected",label:"已选择"},{value:"recent",label:"最近更新"}],onSearch:ce,onFilterChange:ue},null,8,["initial-query"])]),a("div",Zr,[a("div",ei,[a("div",ti,[a("div",si,[(f(!0),d(z,null,J($.value,l=>(f(),d("div",{key:l.id,class:Y(["tab-item",{active:E.value===l.id}]),onClick:k=>E.value=l.id},[a("span",oi,b(l.icon),1),a("span",ai,b(l.label),1),l.required?(f(),d("span",ri,"*")):w("",!0)],10,ni))),128))])]),a("div",ii,[ee(a("div",li,[m[7]||(m[7]=a("h2",null,[he("模式 "),a("span",{class:"required"},"*")],-1)),a("div",ci,[m[6]||(m[6]=a("div",{class:"search-icon"},"🔍",-1)),ee(a("input",{"onUpdate:modelValue":m[0]||(m[0]=l=>x.value=l),type:"text",placeholder:"搜索模式...",onInput:m[1]||(m[1]=(...l)=>Ct(s)&&Ct(s)(...l))},null,544),[[qe,x.value]]),x.value?(f(),d("button",{key:0,class:"clear-btn",onClick:m[2]||(m[2]=l=>{x.value=""})}," ✕ ")):w("",!0)]),a("div",ui,[(f(!0),d(z,null,J(H.value,l=>(f(),d("div",{key:l.slug,class:Y(["item-card",{selected:o.value.some(k=>k.slug===l.slug)}]),onClick:k=>ie(l)},[a("div",fi,[a("input",{type:"checkbox",checked:o.value.some(k=>k.slug===l.slug),onChange:k=>ie(l),disabled:l.slug===K,title:l.slug===K?"Orchestrator模式为必选项，不可取消":"",class:Y(["custom-checkbox",{"required-checkbox":l.slug===K}])},null,42,hi),a("div",pi,[a("h3",mi,[he(b(l.name)+" ",1),l.slug===K?(f(),d("span",vi,"👑")):w("",!0)]),a("p",gi,b(l.slug),1)])]),l.description?(f(),d("p",yi,b(l.description),1)):w("",!0),l.category?(f(),d("div",_i,[a("span",bi,b(l.category),1),l.tags?(f(),d("span",wi,b(l.tags.join(", ")),1)):w("",!0)])):w("",!0),o.value.some(k=>k.slug===l.slug)&&g.value[l.slug]?(f(),d("div",ki,[a("div",Si,[a("h4",null,b(l.name)+" 的规则",1),a("div",Ci,[a("button",{class:"action-btn",onClick:fe(k=>N(l.slug),["stop"]),title:D(l.slug)?"取消全选":"全选"},b(D(l.slug)?"取消全选":"全选"),9,Ei)])]),a("div",Ri,[(f(!0),d(z,null,J(g.value[l.slug]||{},(k,I)=>(f(),d("div",{key:I,class:Y(["rule-item",{selected:j(l.slug,I),disabled:l.slug===K}]),onClick:fe(V=>l.slug!==K&&be(l.slug,I),["stop"])},[a("div",Ti,[a("input",{type:"checkbox",checked:j(l.slug,I),onChange:fe(V=>be(l.slug,I),["stop"]),disabled:l.slug===K,class:"custom-checkbox"},null,40,Ai),a("div",$i,[a("h5",xi,b(I),1)])]),k.content||k.metadata?(f(),d("div",Ni,[S.value==="simple"&&k.metadata?(f(),d("div",Fi,[k.metadata.title?(f(),d("h5",Ui,b(k.metadata.title),1)):w("",!0),k.metadata.description?(f(),d("p",Li,b(k.metadata.description),1)):w("",!0),k.metadata.category||k.metadata.tags?(f(),d("div",Pi,[k.metadata.category?(f(),d("span",ji,b(k.metadata.category),1)):w("",!0),k.metadata.tags&&k.metadata.tags.length>0?(f(),d("span",Ii,b(k.metadata.tags.join(", ")),1)):w("",!0)])):w("",!0)])):(f(),d("div",Bi,[k.metadata?(f(),d("div",Di,[a("h5",null,b(k.metadata.title||I),1),k.metadata.description?(f(),d("p",Mi,b(k.metadata.description),1)):w("",!0)])):w("",!0),k.content?(f(),d("pre",qi,b(k.content.substring(0,Se))+b(k.content.length>Se?"...":""),1)):w("",!0)]))])):w("",!0)],10,Oi))),128))])])):w("",!0)],10,di))),128))])],512),[[et,E.value==="models"]])]),ee(a("div",Hi,[m[9]||(m[9]=a("h2",null,"角色（可选）",-1)),a("div",Vi,[(f(!0),d(z,null,J(i.value,(l,k)=>{var I,V;return f(),d("div",{key:k,class:Y(["item-card",{selected:((I=r.value)==null?void 0:I.name)===k}]),onClick:se=>le(k,l)},[a("div",zi,[a("input",{type:"radio",name:"role",checked:((V=r.value)==null?void 0:V.name)===k,onChange:se=>le(k,l),class:"custom-radio"},null,40,Ji),a("div",Wi,[a("h3",Gi,b(k),1)])]),l.content||l.metadata?(f(),d("div",Yi,[S.value==="simple"&&l.metadata?(f(),d("div",Xi,[l.metadata.title?(f(),d("h5",Qi,b(l.metadata.title),1)):w("",!0),l.metadata.description?(f(),d("p",Zi,b(l.metadata.description),1)):w("",!0),l.metadata.traits?(f(),d("div",el,[m[8]||(m[8]=a("span",{class:"traits-label"},"特质:",-1)),a("span",tl,b(Array.isArray(l.metadata.traits)?l.metadata.traits.join(", "):l.metadata.traits),1)])):w("",!0)])):(f(),d("div",sl,[l.metadata?(f(),d("div",nl,[a("h5",null,b(l.metadata.title||k),1),l.metadata.description?(f(),d("p",ol,b(l.metadata.description),1)):w("",!0)])):w("",!0),l.content?(f(),d("p",al,b(l.content.substring(0,Se))+b(l.content.length>Se?"...":""),1)):w("",!0)]))])):w("",!0)],10,Ki)}),128))])],512),[[et,E.value==="roles"]]),ee(a("div",rl,[m[10]||(m[10]=a("h2",null,"命令（可选）",-1)),a("div",il,[(f(!0),d(z,null,J(c.value,(l,k)=>(f(),d("div",{key:k,class:Y(["item-card",{selected:_.value.some(I=>I.name===k)}]),onClick:I=>_e(k,l)},[a("div",cl,[a("input",{type:"checkbox",checked:_.value.some(I=>I.name===k),onChange:I=>_e(k,l),class:"custom-checkbox"},null,40,ul),a("div",dl,[a("h3",fl,b(k),1)])]),l.content||l.metadata?(f(),d("div",hl,[S.value==="simple"&&l.metadata?(f(),d("div",pl,[l.metadata.title?(f(),d("h5",ml,b(l.metadata.title),1)):w("",!0),l.metadata.description?(f(),d("p",vl,b(l.metadata.description),1)):w("",!0),l.metadata.category||l.metadata.tags?(f(),d("div",gl,[l.metadata.category?(f(),d("span",yl,b(l.metadata.category),1)):w("",!0),l.metadata.tags&&l.metadata.tags.length>0?(f(),d("span",_l,b(l.metadata.tags.join(", ")),1)):w("",!0)])):w("",!0)])):(f(),d("div",bl,[l.metadata?(f(),d("div",wl,[a("h5",null,b(l.metadata.title||k),1),l.metadata.description?(f(),d("p",kl,b(l.metadata.description),1)):w("",!0)])):w("",!0),l.content?(f(),d("pre",Sl,b(l.content.substring(0,Se))+b(l.content.length>Se?"...":""),1)):w("",!0)]))])):w("",!0)],10,ll))),128))])],512),[[et,E.value==="commands"]])]),a("div",Cl,[a("div",El,[a("div",Rl,[m[11]||(m[11]=a("h2",null,"配置预览",-1)),a("div",Ol,[a("div",Tl,[a("button",{class:Y(["mode-btn",{active:S.value==="detailed"}]),onClick:m[3]||(m[3]=l=>S.value="detailed")}," 详细 ",2),a("button",{class:Y(["mode-btn",{active:S.value==="simple"}]),onClick:m[4]||(m[4]=l=>S.value="simple")}," 简洁 ",2)])])]),M.value?(f(),d("div",Al,[a("div",$l,[o.value.length>0?(f(),d("div",xl,[a("div",Nl,[m[12]||(m[12]=a("div",{class:"card-icon"},"🤖",-1)),a("h3",null,"模式 ("+b(o.value.length)+")",1)]),a("div",Fl,[(f(!0),d(z,null,J(o.value,l=>(f(),d("div",{key:l.slug,class:"model-item"},[a("div",Ul,[a("span",Ll,b(l.name),1),a("span",Pl,"("+b(l.slug)+")",1)]),S.value==="simple"&&l.metadata?(f(),d("div",jl,[l.metadata.description?(f(),d("p",Il,b(l.metadata.description),1)):w("",!0),l.metadata.category||l.metadata.tags?(f(),d("div",Bl,[l.metadata.category?(f(),d("span",Dl,b(l.metadata.category),1)):w("",!0),l.metadata.tags&&l.metadata.tags.length>0?(f(),d("span",Ml,b(l.metadata.tags.join(", ")),1)):w("",!0)])):w("",!0)])):y.value[l.slug]&&y.value[l.slug].length>0?(f(),d("div",ql,[(f(!0),d(z,null,J(y.value[l.slug],k=>{var I,V,se;return f(),d("div",{key:k,class:"rule-item-small"},[a("span",Hl,b(((se=(V=(I=g.value[l.slug])==null?void 0:I[k])==null?void 0:V.metadata)==null?void 0:se.title)||k),1)])}),128))])):w("",!0)]))),128))])])):w("",!0),r.value?(f(),d("div",Vl,[m[14]||(m[14]=a("div",{class:"card-header"},[a("div",{class:"card-icon"},"🎭"),a("h3",null,"选择的角色")],-1)),a("div",Kl,[a("div",zl,[a("span",Jl,b(r.value.name),1),S.value==="simple"&&r.value.metadata?(f(),d("div",Wl,[r.value.metadata.description?(f(),d("p",Gl,b(r.value.metadata.description),1)):w("",!0),r.value.metadata.traits?(f(),d("div",Yl,[m[13]||(m[13]=a("span",{class:"traits-label"},"特质:",-1)),a("span",Xl,b(Array.isArray(r.value.metadata.traits)?r.value.metadata.traits.join(", "):r.value.metadata.traits),1)])):w("",!0)])):w("",!0)])])])):w("",!0),_.value.length>0?(f(),d("div",Ql,[a("div",Zl,[m[15]||(m[15]=a("div",{class:"card-icon"},"⚡",-1)),a("h3",null,"命令 ("+b(_.value.length)+")",1)]),a("div",ec,[a("div",tc,[(f(!0),d(z,null,J(_.value,l=>(f(),d("div",{key:l.name,class:"command-chip"},[a("span",sc,b(l.name),1),S.value==="simple"&&l.metadata?(f(),d("div",nc,[l.metadata.description?(f(),d("p",oc,b(l.metadata.description),1)):w("",!0),l.metadata.category||l.metadata.priority?(f(),d("div",ac,[l.metadata.category?(f(),d("span",rc,b(l.metadata.category),1)):w("",!0),l.metadata.priority?(f(),d("span",{key:1,class:Y(["priority-tag",l.metadata.priority])},b(l.metadata.priority),3)):w("",!0)])):w("",!0)])):w("",!0)]))),128))])])])):w("",!0)])])):w("",!0),p.value.before||p.value.after?(f(),d("div",ic,[a("div",lc,[m[16]||(m[16]=a("div",{class:"card-icon"},"🔗",-1)),a("h3",null,"钩子 ("+b((p.value.before?1:0)+(p.value.after?1:0))+")",1)]),a("div",cc,[a("div",uc,[p.value.before?(f(),d("div",dc,[m[17]||(m[17]=a("div",{class:"hook-name"},[a("span",{class:"name-text"},"before"),a("span",{class:"hook-type"},"前置钩子")],-1)),S.value==="simple"&&p.value.before.metadata?(f(),d("div",fc,[p.value.before.metadata.title?(f(),d("p",hc,b(p.value.before.metadata.title),1)):w("",!0),p.value.before.metadata.description?(f(),d("p",pc,b(p.value.before.metadata.description),1)):w("",!0),p.value.before.metadata.category?(f(),d("div",mc,[a("span",vc,b(p.value.before.metadata.category),1)])):w("",!0)])):w("",!0)])):w("",!0),p.value.after?(f(),d("div",gc,[m[18]||(m[18]=a("div",{class:"hook-name"},[a("span",{class:"name-text"},"after"),a("span",{class:"hook-type"},"后置钩子")],-1)),S.value==="simple"&&p.value.after.metadata?(f(),d("div",yc,[p.value.after.metadata.title?(f(),d("p",_c,b(p.value.after.metadata.title),1)):w("",!0),p.value.after.metadata.description?(f(),d("p",bc,b(p.value.after.metadata.description),1)):w("",!0),p.value.after.metadata.category?(f(),d("div",wc,[a("span",kc,b(p.value.after.metadata.category),1)])):w("",!0)])):w("",!0)])):w("",!0)])])])):(f(),d("div",Sc,[...m[19]||(m[19]=[a("div",{class:"empty-icon"},"📋",-1),a("p",null,"请选择配置项以查看预览",-1)])]))]),a("div",Cc,[a("button",{class:"btn btn-primary",disabled:!B.value,onClick:W},[...m[20]||(m[20]=[a("span",{class:"btn-icon"},"📥",-1),he(" 导出配置 ",-1)])],8,Ec),a("button",{class:"btn btn-secondary",onClick:O},[...m[21]||(m[21]=[a("span",{class:"btn-icon"},"💾",-1),he(" 保存配置 ",-1)])]),a("button",{class:"btn btn-secondary",onClick:C},[...m[22]||(m[22]=[a("span",{class:"btn-icon"},"🔄",-1),he(" 重置选择 ",-1)])])])])])]),it(Gr,{show:A.value,"onUpdate:show":m[5]||(m[5]=l=>A.value=l),onSave:v,onLoad:L},null,8,["show"])]))}});const $c=vt(Oc,[["__scopeId","data-v-be5fdc7d"]]);export{$c as default};
