var gs=Object.defineProperty;var ys=(e,t,s)=>t in e?gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ae=(e,t,s)=>(ys(e,typeof t!="symbol"?t+"":t,s),s);import{d as gt,g as F,h as lt,i as qt,j as _s,c as f,a,k as te,v as Ve,l as je,m as pe,n as w,p as Y,F as V,q as K,e as ct,w as bs,T as ws,b as me,t as b,o as h,s as Be,u as ks,_ as yt,x as Ss,y as se,z as Ht,A as st,B as Et,C as Cs}from"./index-ff56d5da.js";function Vt(e,t){return function(){return e.apply(t,arguments)}}const{toString:Es}=Object.prototype,{getPrototypeOf:_t}=Object,{iterator:Ge,toStringTag:Kt}=Symbol,Ye=(e=>t=>{const s=Es.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),oe=e=>(e=e.toLowerCase(),t=>Ye(t)===e),Xe=e=>t=>typeof t===e,{isArray:Ce}=Array,Fe=Xe("undefined");function Ue(e){return e!==null&&!Fe(e)&&e.constructor!==null&&!Fe(e.constructor)&&Q(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zt=oe("ArrayBuffer");function Rs(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zt(e.buffer),t}const Os=Xe("string"),Q=Xe("function"),Jt=Xe("number"),Le=e=>e!==null&&typeof e=="object",Ts=e=>e===!0||e===!1,De=e=>{if(Ye(e)!=="object")return!1;const t=_t(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Kt in e)&&!(Ge in e)},As=e=>{if(!Le(e)||Ue(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$s=oe("Date"),xs=oe("File"),Ns=oe("Blob"),Fs=oe("FileList"),Us=e=>Le(e)&&Q(e.pipe),Ls=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Q(e.append)&&((t=Ye(e))==="formdata"||t==="object"&&Q(e.toString)&&e.toString()==="[object FormData]"))},Ps=oe("URLSearchParams"),[Is,js,Bs,Ds]=["ReadableStream","Request","Response","Headers"].map(oe),Ms=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pe(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),Ce(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Ue(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),r=i.length;let c;for(n=0;n<r;n++)c=i[n],t.call(null,e[c],c,e)}}function Wt(e,t){if(Ue(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,o;for(;n-- >0;)if(o=s[n],t===o.toLowerCase())return o;return null}const ve=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Gt=e=>!Fe(e)&&e!==ve;function ut(){const{caseless:e}=Gt(this)&&this||{},t={},s=(n,o)=>{const i=e&&Wt(t,o)||o;De(t[i])&&De(n)?t[i]=ut(t[i],n):De(n)?t[i]=ut({},n):Ce(n)?t[i]=n.slice():t[i]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Pe(arguments[n],s);return t}const qs=(e,t,s,{allOwnKeys:n}={})=>(Pe(t,(o,i)=>{s&&Q(o)?e[i]=Vt(o,s):e[i]=o},{allOwnKeys:n}),e),Hs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Vs=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Ks=(e,t,s,n)=>{let o,i,r;const c={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)r=o[i],(!n||n(r,e,t))&&!c[r]&&(t[r]=e[r],c[r]=!0);e=s!==!1&&_t(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},zs=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Js=e=>{if(!e)return null;if(Ce(e))return e;let t=e.length;if(!Jt(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Ws=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&_t(Uint8Array)),Gs=(e,t)=>{const n=(e&&e[Ge]).call(e);let o;for(;(o=n.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Ys=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Xs=oe("HTMLFormElement"),Qs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,o){return n.toUpperCase()+o}),Rt=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Zs=oe("RegExp"),Yt=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Pe(s,(o,i)=>{let r;(r=t(o,i,e))!==!1&&(n[i]=r||o)}),Object.defineProperties(e,n)},en=e=>{Yt(e,(t,s)=>{if(Q(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(Q(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},tn=(e,t)=>{const s={},n=o=>{o.forEach(i=>{s[i]=!0})};return Ce(e)?n(e):n(String(e).split(t)),s},sn=()=>{},nn=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function on(e){return!!(e&&Q(e.append)&&e[Kt]==="FormData"&&e[Ge])}const an=e=>{const t=new Array(10),s=(n,o)=>{if(Le(n)){if(t.indexOf(n)>=0)return;if(Ue(n))return n;if(!("toJSON"in n)){t[o]=n;const i=Ce(n)?[]:{};return Pe(n,(r,c)=>{const _=s(r,o+1);!Fe(_)&&(i[c]=_)}),t[o]=void 0,i}}return n};return s(e,0)},rn=oe("AsyncFunction"),ln=e=>e&&(Le(e)||Q(e))&&Q(e.then)&&Q(e.catch),Xt=((e,t)=>e?setImmediate:t?((s,n)=>(ve.addEventListener("message",({source:o,data:i})=>{o===ve&&i===s&&n.length&&n.shift()()},!1),o=>{n.push(o),ve.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Q(ve.postMessage)),cn=typeof queueMicrotask<"u"?queueMicrotask.bind(ve):typeof process<"u"&&process.nextTick||Xt,un=e=>e!=null&&Q(e[Ge]),u={isArray:Ce,isArrayBuffer:zt,isBuffer:Ue,isFormData:Ls,isArrayBufferView:Rs,isString:Os,isNumber:Jt,isBoolean:Ts,isObject:Le,isPlainObject:De,isEmptyObject:As,isReadableStream:Is,isRequest:js,isResponse:Bs,isHeaders:Ds,isUndefined:Fe,isDate:$s,isFile:xs,isBlob:Ns,isRegExp:Zs,isFunction:Q,isStream:Us,isURLSearchParams:Ps,isTypedArray:Ws,isFileList:Fs,forEach:Pe,merge:ut,extend:qs,trim:Ms,stripBOM:Hs,inherits:Vs,toFlatObject:Ks,kindOf:Ye,kindOfTest:oe,endsWith:zs,toArray:Js,forEachEntry:Gs,matchAll:Ys,isHTMLForm:Xs,hasOwnProperty:Rt,hasOwnProp:Rt,reduceDescriptors:Yt,freezeMethods:en,toObjectSet:tn,toCamelCase:Qs,noop:sn,toFiniteNumber:nn,findKey:Wt,global:ve,isContextDefined:Gt,isSpecCompliantForm:on,toJSONObject:an,isAsyncFn:rn,isThenable:ln,setImmediate:Xt,asap:cn,isIterable:un};function U(e,t,s,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}u.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:u.toJSONObject(this.config),code:this.code,status:this.status}}});const Qt=U.prototype,Zt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zt[e]={value:e}});Object.defineProperties(U,Zt);Object.defineProperty(Qt,"isAxiosError",{value:!0});U.from=(e,t,s,n,o,i)=>{const r=Object.create(Qt);return u.toFlatObject(e,r,function(_){return _!==Error.prototype},c=>c!=="isAxiosError"),U.call(r,e.message,t,s,n,o),r.cause=e,r.name=e.name,i&&Object.assign(r,i),r};const dn=null;function dt(e){return u.isPlainObject(e)||u.isArray(e)}function es(e){return u.endsWith(e,"[]")?e.slice(0,-2):e}function Ot(e,t,s){return e?e.concat(t).map(function(o,i){return o=es(o),!s&&i?"["+o+"]":o}).join(s?".":""):t}function fn(e){return u.isArray(e)&&!e.some(dt)}const hn=u.toFlatObject(u,{},null,function(t){return/^is[A-Z]/.test(t)});function Qe(e,t,s){if(!u.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=u.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function($,k){return!u.isUndefined(k[$])});const n=s.metaTokens,o=s.visitor||g,i=s.dots,r=s.indexes,_=(s.Blob||typeof Blob<"u"&&Blob)&&u.isSpecCompliantForm(t);if(!u.isFunction(o))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(u.isDate(E))return E.toISOString();if(u.isBoolean(E))return E.toString();if(!_&&u.isBlob(E))throw new U("Blob is not supported. Use a Buffer instead.");return u.isArrayBuffer(E)||u.isTypedArray(E)?_&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function g(E,$,k){let R=E;if(E&&!k&&typeof E=="object"){if(u.endsWith($,"{}"))$=n?$:$.slice(0,-2),E=JSON.stringify(E);else if(u.isArray(E)&&fn(E)||(u.isFileList(E)||u.endsWith($,"[]"))&&(R=u.toArray(E)))return $=es($),R.forEach(function(P,M){!(u.isUndefined(P)||P===null)&&t.append(r===!0?Ot([$],M,i):r===null?$:$+"[]",p(P))}),!1}return dt(E)?!0:(t.append(Ot(k,$,i),p(E)),!1)}const y=[],T=Object.assign(hn,{defaultVisitor:g,convertValue:p,isVisitable:dt});function x(E,$){if(!u.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+$.join("."));y.push(E),u.forEach(E,function(R,A){(!(u.isUndefined(R)||R===null)&&o.call(t,R,u.isString(A)?A.trim():A,$,T))===!0&&x(R,$?$.concat(A):[A])}),y.pop()}}if(!u.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Tt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function bt(e,t){this._pairs=[],e&&Qe(e,this,t)}const ts=bt.prototype;ts.append=function(t,s){this._pairs.push([t,s])};ts.toString=function(t){const s=t?function(n){return t.call(this,n,Tt)}:Tt;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function pn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ss(e,t,s){if(!t)return e;const n=s&&s.encode||pn;u.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let i;if(o?i=o(t,s):i=u.isURLSearchParams(t)?t.toString():new bt(t,s).toString(n),i){const r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class mn{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){u.forEach(this.handlers,function(n){n!==null&&t(n)})}}const At=mn,ns={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vn=typeof URLSearchParams<"u"?URLSearchParams:bt,gn=typeof FormData<"u"?FormData:null,yn=typeof Blob<"u"?Blob:null,_n={isBrowser:!0,classes:{URLSearchParams:vn,FormData:gn,Blob:yn},protocols:["http","https","file","blob","url","data"]},wt=typeof window<"u"&&typeof document<"u",ft=typeof navigator=="object"&&navigator||void 0,bn=wt&&(!ft||["ReactNative","NativeScript","NS"].indexOf(ft.product)<0),wn=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),kn=wt&&window.location.href||"http://localhost",Sn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wt,hasStandardBrowserEnv:bn,hasStandardBrowserWebWorkerEnv:wn,navigator:ft,origin:kn},Symbol.toStringTag,{value:"Module"})),G={...Sn,..._n};function Cn(e,t){return Qe(e,new G.classes.URLSearchParams,{visitor:function(s,n,o,i){return G.isNode&&u.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function En(e){return u.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Rn(e){const t={},s=Object.keys(e);let n;const o=s.length;let i;for(n=0;n<o;n++)i=s[n],t[i]=e[i];return t}function os(e){function t(s,n,o,i){let r=s[i++];if(r==="__proto__")return!0;const c=Number.isFinite(+r),_=i>=s.length;return r=!r&&u.isArray(o)?o.length:r,_?(u.hasOwnProp(o,r)?o[r]=[o[r],n]:o[r]=n,!c):((!o[r]||!u.isObject(o[r]))&&(o[r]=[]),t(s,n,o[r],i)&&u.isArray(o[r])&&(o[r]=Rn(o[r])),!c)}if(u.isFormData(e)&&u.isFunction(e.entries)){const s={};return u.forEachEntry(e,(n,o)=>{t(En(n),o,s,0)}),s}return null}function On(e,t,s){if(u.isString(e))try{return(t||JSON.parse)(e),u.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const kt={transitional:ns,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",o=n.indexOf("application/json")>-1,i=u.isObject(t);if(i&&u.isHTMLForm(t)&&(t=new FormData(t)),u.isFormData(t))return o?JSON.stringify(os(t)):t;if(u.isArrayBuffer(t)||u.isBuffer(t)||u.isStream(t)||u.isFile(t)||u.isBlob(t)||u.isReadableStream(t))return t;if(u.isArrayBufferView(t))return t.buffer;if(u.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Cn(t,this.formSerializer).toString();if((c=u.isFileList(t))||n.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return Qe(c?{"files[]":t}:t,_&&new _,this.formSerializer)}}return i||o?(s.setContentType("application/json",!1),On(t)):t}],transformResponse:[function(t){const s=this.transitional||kt.transitional,n=s&&s.forcedJSONParsing,o=this.responseType==="json";if(u.isResponse(t)||u.isReadableStream(t))return t;if(t&&u.isString(t)&&(n&&!this.responseType||o)){const r=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(c){if(r)throw c.name==="SyntaxError"?U.from(c,U.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:G.classes.FormData,Blob:G.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};u.forEach(["delete","get","head","post","put","patch"],e=>{kt.headers[e]={}});const St=kt,Tn=u.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),An=e=>{const t={};let s,n,o;return e&&e.split(`
`).forEach(function(r){o=r.indexOf(":"),s=r.substring(0,o).trim().toLowerCase(),n=r.substring(o+1).trim(),!(!s||t[s]&&Tn[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},$t=Symbol("internals");function $e(e){return e&&String(e).trim().toLowerCase()}function Me(e){return e===!1||e==null?e:u.isArray(e)?e.map(Me):String(e)}function $n(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const xn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function nt(e,t,s,n,o){if(u.isFunction(n))return n.call(this,t,s);if(o&&(t=s),!!u.isString(t)){if(u.isString(n))return t.indexOf(n)!==-1;if(u.isRegExp(n))return n.test(t)}}function Nn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Fn(e,t){const s=u.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(o,i,r){return this[n].call(this,t,o,i,r)},configurable:!0})})}class Ze{constructor(t){t&&this.set(t)}set(t,s,n){const o=this;function i(c,_,p){const g=$e(_);if(!g)throw new Error("header name must be a non-empty string");const y=u.findKey(o,g);(!y||o[y]===void 0||p===!0||p===void 0&&o[y]!==!1)&&(o[y||_]=Me(c))}const r=(c,_)=>u.forEach(c,(p,g)=>i(p,g,_));if(u.isPlainObject(t)||t instanceof this.constructor)r(t,s);else if(u.isString(t)&&(t=t.trim())&&!xn(t))r(An(t),s);else if(u.isObject(t)&&u.isIterable(t)){let c={},_,p;for(const g of t){if(!u.isArray(g))throw TypeError("Object iterator must return a key-value pair");c[p=g[0]]=(_=c[p])?u.isArray(_)?[..._,g[1]]:[_,g[1]]:g[1]}r(c,s)}else t!=null&&i(s,t,n);return this}get(t,s){if(t=$e(t),t){const n=u.findKey(this,t);if(n){const o=this[n];if(!s)return o;if(s===!0)return $n(o);if(u.isFunction(s))return s.call(this,o,n);if(u.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=$e(t),t){const n=u.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||nt(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let o=!1;function i(r){if(r=$e(r),r){const c=u.findKey(n,r);c&&(!s||nt(n,n[c],c,s))&&(delete n[c],o=!0)}}return u.isArray(t)?t.forEach(i):i(t),o}clear(t){const s=Object.keys(this);let n=s.length,o=!1;for(;n--;){const i=s[n];(!t||nt(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const s=this,n={};return u.forEach(this,(o,i)=>{const r=u.findKey(n,i);if(r){s[r]=Me(o),delete s[i];return}const c=t?Nn(i):String(i).trim();c!==i&&delete s[i],s[c]=Me(o),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return u.forEach(this,(n,o)=>{n!=null&&n!==!1&&(s[o]=t&&u.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[$t]=this[$t]={accessors:{}}).accessors,o=this.prototype;function i(r){const c=$e(r);n[c]||(Fn(o,r),n[c]=!0)}return u.isArray(t)?t.forEach(i):i(t),this}}Ze.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);u.reduceDescriptors(Ze.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});u.freezeMethods(Ze);const ne=Ze;function ot(e,t){const s=this||St,n=t||s,o=ne.from(n.headers);let i=n.data;return u.forEach(e,function(c){i=c.call(s,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function as(e){return!!(e&&e.__CANCEL__)}function Ee(e,t,s){U.call(this,e??"canceled",U.ERR_CANCELED,t,s),this.name="CanceledError"}u.inherits(Ee,U,{__CANCEL__:!0});function rs(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new U("Request failed with status code "+s.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Un(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ln(e,t){e=e||10;const s=new Array(e),n=new Array(e);let o=0,i=0,r;return t=t!==void 0?t:1e3,function(_){const p=Date.now(),g=n[i];r||(r=p),s[o]=_,n[o]=p;let y=i,T=0;for(;y!==o;)T+=s[y++],y=y%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),p-r<t)return;const x=g&&p-g;return x?Math.round(T*1e3/x):void 0}}function Pn(e,t){let s=0,n=1e3/t,o,i;const r=(p,g=Date.now())=>{s=g,o=null,i&&(clearTimeout(i),i=null),e(...p)};return[(...p)=>{const g=Date.now(),y=g-s;y>=n?r(p,g):(o=p,i||(i=setTimeout(()=>{i=null,r(o)},n-y)))},()=>o&&r(o)]}const Ke=(e,t,s=3)=>{let n=0;const o=Ln(50,250);return Pn(i=>{const r=i.loaded,c=i.lengthComputable?i.total:void 0,_=r-n,p=o(_),g=r<=c;n=r;const y={loaded:r,total:c,progress:c?r/c:void 0,bytes:_,rate:p||void 0,estimated:p&&c&&g?(c-r)/p:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(y)},s)},xt=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Nt=e=>(...t)=>u.asap(()=>e(...t)),In=G.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,G.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(G.origin),G.navigator&&/(msie|trident)/i.test(G.navigator.userAgent)):()=>!0,jn=G.hasStandardBrowserEnv?{write(e,t,s,n,o,i){const r=[e+"="+encodeURIComponent(t)];u.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),u.isString(n)&&r.push("path="+n),u.isString(o)&&r.push("domain="+o),i===!0&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Dn(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function is(e,t,s){let n=!Bn(t);return e&&(n||s==!1)?Dn(e,t):t}const Ft=e=>e instanceof ne?{...e}:e;function ge(e,t){t=t||{};const s={};function n(p,g,y,T){return u.isPlainObject(p)&&u.isPlainObject(g)?u.merge.call({caseless:T},p,g):u.isPlainObject(g)?u.merge({},g):u.isArray(g)?g.slice():g}function o(p,g,y,T){if(u.isUndefined(g)){if(!u.isUndefined(p))return n(void 0,p,y,T)}else return n(p,g,y,T)}function i(p,g){if(!u.isUndefined(g))return n(void 0,g)}function r(p,g){if(u.isUndefined(g)){if(!u.isUndefined(p))return n(void 0,p)}else return n(void 0,g)}function c(p,g,y){if(y in t)return n(p,g);if(y in e)return n(void 0,p)}const _={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:c,headers:(p,g,y)=>o(Ft(p),Ft(g),y,!0)};return u.forEach(Object.keys({...e,...t}),function(g){const y=_[g]||o,T=y(e[g],t[g],g);u.isUndefined(T)&&y!==c||(s[g]=T)}),s}const ls=e=>{const t=ge({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:r,auth:c}=t;t.headers=r=ne.from(r),t.url=ss(is(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&r.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let _;if(u.isFormData(s)){if(G.hasStandardBrowserEnv||G.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((_=r.getContentType())!==!1){const[p,...g]=_?_.split(";").map(y=>y.trim()).filter(Boolean):[];r.setContentType([p||"multipart/form-data",...g].join("; "))}}if(G.hasStandardBrowserEnv&&(n&&u.isFunction(n)&&(n=n(t)),n||n!==!1&&In(t.url))){const p=o&&i&&jn.read(i);p&&r.set(o,p)}return t},Mn=typeof XMLHttpRequest<"u",qn=Mn&&function(e){return new Promise(function(s,n){const o=ls(e);let i=o.data;const r=ne.from(o.headers).normalize();let{responseType:c,onUploadProgress:_,onDownloadProgress:p}=o,g,y,T,x,E;function $(){x&&x(),E&&E(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function R(){if(!k)return;const P=ne.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),B={data:!c||c==="text"||c==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:P,config:e,request:k};rs(function(D){s(D),$()},function(D){n(D),$()},B),k=null}"onloadend"in k?k.onloadend=R:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(R)},k.onabort=function(){k&&(n(new U("Request aborted",U.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new U("Network Error",U.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let M=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const B=o.transitional||ns;o.timeoutErrorMessage&&(M=o.timeoutErrorMessage),n(new U(M,B.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,e,k)),k=null},i===void 0&&r.setContentType(null),"setRequestHeader"in k&&u.forEach(r.toJSON(),function(M,B){k.setRequestHeader(B,M)}),u.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),c&&c!=="json"&&(k.responseType=o.responseType),p&&([T,E]=Ke(p,!0),k.addEventListener("progress",T)),_&&k.upload&&([y,x]=Ke(_),k.upload.addEventListener("progress",y),k.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(g=P=>{k&&(n(!P||P.type?new Ee(null,e,k):P),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const A=Un(o.url);if(A&&G.protocols.indexOf(A)===-1){n(new U("Unsupported protocol "+A+":",U.ERR_BAD_REQUEST,e));return}k.send(i||null)})},Hn=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,o;const i=function(p){if(!o){o=!0,c();const g=p instanceof Error?p:this.reason;n.abort(g instanceof U?g:new Ee(g instanceof Error?g.message:g))}};let r=t&&setTimeout(()=>{r=null,i(new U(`timeout ${t} of ms exceeded`,U.ETIMEDOUT))},t);const c=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:_}=n;return _.unsubscribe=()=>u.asap(c),_}},Vn=Hn,Kn=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let n=0,o;for(;n<s;)o=n+t,yield e.slice(n,o),n=o},zn=async function*(e,t){for await(const s of Jn(e))yield*Kn(s,t)},Jn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Ut=(e,t,s,n)=>{const o=zn(e,t);let i=0,r,c=_=>{r||(r=!0,n&&n(_))};return new ReadableStream({async pull(_){try{const{done:p,value:g}=await o.next();if(p){c(),_.close();return}let y=g.byteLength;if(s){let T=i+=y;s(T)}_.enqueue(new Uint8Array(g))}catch(p){throw c(p),p}},cancel(_){return c(_),o.return()}},{highWaterMark:2})},et=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cs=et&&typeof ReadableStream=="function",Wn=et&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),us=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Gn=cs&&us(()=>{let e=!1;const t=new Request(G.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Lt=64*1024,ht=cs&&us(()=>u.isReadableStream(new Response("").body)),ze={stream:ht&&(e=>e.body)};et&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ze[t]&&(ze[t]=u.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new U(`Response type '${t}' is not supported`,U.ERR_NOT_SUPPORT,n)})})})(new Response);const Yn=async e=>{if(e==null)return 0;if(u.isBlob(e))return e.size;if(u.isSpecCompliantForm(e))return(await new Request(G.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(u.isArrayBufferView(e)||u.isArrayBuffer(e))return e.byteLength;if(u.isURLSearchParams(e)&&(e=e+""),u.isString(e))return(await Wn(e)).byteLength},Xn=async(e,t)=>{const s=u.toFiniteNumber(e.getContentLength());return s??Yn(t)},Qn=et&&(async e=>{let{url:t,method:s,data:n,signal:o,cancelToken:i,timeout:r,onDownloadProgress:c,onUploadProgress:_,responseType:p,headers:g,withCredentials:y="same-origin",fetchOptions:T}=ls(e);p=p?(p+"").toLowerCase():"text";let x=Vn([o,i&&i.toAbortSignal()],r),E;const $=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let k;try{if(_&&Gn&&s!=="get"&&s!=="head"&&(k=await Xn(g,n))!==0){let B=new Request(t,{method:"POST",body:n,duplex:"half"}),I;if(u.isFormData(n)&&(I=B.headers.get("content-type"))&&g.setContentType(I),B.body){const[D,z]=xt(k,Ke(Nt(_)));n=Ut(B.body,Lt,D,z)}}u.isString(y)||(y=y?"include":"omit");const R="credentials"in Request.prototype;E=new Request(t,{...T,signal:x,method:s.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:R?y:void 0});let A=await fetch(E,T);const P=ht&&(p==="stream"||p==="response");if(ht&&(c||P&&$)){const B={};["status","statusText","headers"].forEach(Z=>{B[Z]=A[Z]});const I=u.toFiniteNumber(A.headers.get("content-length")),[D,z]=c&&xt(I,Ke(Nt(c),!0))||[];A=new Response(Ut(A.body,Lt,D,()=>{z&&z(),$&&$()}),B)}p=p||"text";let M=await ze[u.findKey(ze,p)||"text"](A,e);return!P&&$&&$(),await new Promise((B,I)=>{rs(B,I,{data:M,headers:ne.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:E})})}catch(R){throw $&&$(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new U("Network Error",U.ERR_NETWORK,e,E),{cause:R.cause||R}):U.from(R,R&&R.code,e,E)}}),pt={http:dn,xhr:qn,fetch:Qn};u.forEach(pt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Pt=e=>`- ${e}`,Zn=e=>u.isFunction(e)||e===null||e===!1,ds={getAdapter:e=>{e=u.isArray(e)?e:[e];const{length:t}=e;let s,n;const o={};for(let i=0;i<t;i++){s=e[i];let r;if(n=s,!Zn(s)&&(n=pt[(r=String(s)).toLowerCase()],n===void 0))throw new U(`Unknown adapter '${r}'`);if(n)break;o[r||"#"+i]=n}if(!n){const i=Object.entries(o).map(([c,_])=>`adapter ${c} `+(_===!1?"is not supported by the environment":"is not available in the build"));let r=t?i.length>1?`since :
`+i.map(Pt).join(`
`):" "+Pt(i[0]):"as no adapter specified";throw new U("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n},adapters:pt};function at(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function It(e){return at(e),e.headers=ne.from(e.headers),e.data=ot.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ds.getAdapter(e.adapter||St.adapter)(e).then(function(n){return at(e),n.data=ot.call(e,e.transformResponse,n),n.headers=ne.from(n.headers),n},function(n){return as(n)||(at(e),n&&n.response&&(n.response.data=ot.call(e,e.transformResponse,n.response),n.response.headers=ne.from(n.response.headers))),Promise.reject(n)})}const fs="1.11.0",tt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const jt={};tt.transitional=function(t,s,n){function o(i,r){return"[Axios v"+fs+"] Transitional option '"+i+"'"+r+(n?". "+n:"")}return(i,r,c)=>{if(t===!1)throw new U(o(r," has been removed"+(s?" in "+s:"")),U.ERR_DEPRECATED);return s&&!jt[r]&&(jt[r]=!0,console.warn(o(r," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,r,c):!0}};tt.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function eo(e,t,s){if(typeof e!="object")throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],r=t[i];if(r){const c=e[i],_=c===void 0||r(c,i,e);if(_!==!0)throw new U("option "+i+" must be "+_,U.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new U("Unknown option "+i,U.ERR_BAD_OPTION)}}const qe={assertOptions:eo,validators:tt},ae=qe.validators;class Je{constructor(t){this.defaults=t||{},this.interceptors={request:new At,response:new At}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ge(this.defaults,s);const{transitional:n,paramsSerializer:o,headers:i}=s;n!==void 0&&qe.assertOptions(n,{silentJSONParsing:ae.transitional(ae.boolean),forcedJSONParsing:ae.transitional(ae.boolean),clarifyTimeoutError:ae.transitional(ae.boolean)},!1),o!=null&&(u.isFunction(o)?s.paramsSerializer={serialize:o}:qe.assertOptions(o,{encode:ae.function,serialize:ae.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),qe.assertOptions(s,{baseUrl:ae.spelling("baseURL"),withXsrfToken:ae.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let r=i&&u.merge(i.common,i[s.method]);i&&u.forEach(["delete","get","head","post","put","patch","common"],E=>{delete i[E]}),s.headers=ne.concat(r,i);const c=[];let _=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(s)===!1||(_=_&&$.synchronous,c.unshift($.fulfilled,$.rejected))});const p=[];this.interceptors.response.forEach(function($){p.push($.fulfilled,$.rejected)});let g,y=0,T;if(!_){const E=[It.bind(this),void 0];for(E.unshift(...c),E.push(...p),T=E.length,g=Promise.resolve(s);y<T;)g=g.then(E[y++],E[y++]);return g}T=c.length;let x=s;for(y=0;y<T;){const E=c[y++],$=c[y++];try{x=E(x)}catch(k){$.call(this,k);break}}try{g=It.call(this,x)}catch(E){return Promise.reject(E)}for(y=0,T=p.length;y<T;)g=g.then(p[y++],p[y++]);return g}getUri(t){t=ge(this.defaults,t);const s=is(t.baseURL,t.url,t.allowAbsoluteUrls);return ss(s,t.params,t.paramsSerializer)}}u.forEach(["delete","get","head","options"],function(t){Je.prototype[t]=function(s,n){return this.request(ge(n||{},{method:t,url:s,data:(n||{}).data}))}});u.forEach(["post","put","patch"],function(t){function s(n){return function(i,r,c){return this.request(ge(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:r}))}}Je.prototype[t]=s(),Je.prototype[t+"Form"]=s(!0)});const He=Je;class Ct{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i;const r=new Promise(c=>{n.subscribe(c),i=c}).then(o);return r.cancel=function(){n.unsubscribe(i)},r},t(function(i,r,c){n.reason||(n.reason=new Ee(i,r,c),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Ct(function(o){t=o}),cancel:t}}}const to=Ct;function so(e){return function(s){return e.apply(null,s)}}function no(e){return u.isObject(e)&&e.isAxiosError===!0}const mt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mt).forEach(([e,t])=>{mt[t]=e});const oo=mt;function hs(e){const t=new He(e),s=Vt(He.prototype.request,t);return u.extend(s,He.prototype,t,{allOwnKeys:!0}),u.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return hs(ge(e,o))},s}const q=hs(St);q.Axios=He;q.CanceledError=Ee;q.CancelToken=to;q.isCancel=as;q.VERSION=fs;q.toFormData=Qe;q.AxiosError=U;q.Cancel=q.CanceledError;q.all=function(t){return Promise.all(t)};q.spread=so;q.isAxiosError=no;q.mergeConfig=ge;q.AxiosHeaders=ne;q.formToJSON=e=>os(u.isHTMLForm(e)?new FormData(e):e);q.getAdapter=ds.getAdapter;q.HttpStatusCode=oo;q.default=q;const ao=q,rt={baseURL:"",timeout:1e4,retryCount:3,headers:{"Content-Type":"application/json"}},he=ao.create({baseURL:rt.baseURL,timeout:rt.timeout,headers:rt.headers});he.interceptors.request.use(e=>e,e=>Promise.reject(e));he.interceptors.response.use(e=>e.data,e=>(console.error("API Error:",e),Promise.reject(e)));var ro=typeof global=="object"&&global&&global.Object===Object&&global;const io=ro;var lo=typeof self=="object"&&self&&self.Object===Object&&self,co=io||lo||Function("return this")();const ps=co;var uo=ps.Symbol;const We=uo;var ms=Object.prototype,fo=ms.hasOwnProperty,ho=ms.toString,xe=We?We.toStringTag:void 0;function po(e){var t=fo.call(e,xe),s=e[xe];try{e[xe]=void 0;var n=!0}catch{}var o=ho.call(e);return n&&(t?e[xe]=s:delete e[xe]),o}var mo=Object.prototype,vo=mo.toString;function go(e){return vo.call(e)}var yo="[object Null]",_o="[object Undefined]",Bt=We?We.toStringTag:void 0;function bo(e){return e==null?e===void 0?_o:yo:Bt&&Bt in Object(e)?po(e):go(e)}function wo(e){return e!=null&&typeof e=="object"}var ko="[object Symbol]";function So(e){return typeof e=="symbol"||wo(e)&&bo(e)==ko}var Co=/\s/;function Eo(e){for(var t=e.length;t--&&Co.test(e.charAt(t)););return t}var Ro=/^\s+/;function Oo(e){return e&&e.slice(0,Eo(e)+1).replace(Ro,"")}function vt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Dt=0/0,To=/^[-+]0x[0-9a-f]+$/i,Ao=/^0b[01]+$/i,$o=/^0o[0-7]+$/i,xo=parseInt;function Mt(e){if(typeof e=="number")return e;if(So(e))return Dt;if(vt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Oo(e);var s=Ao.test(e);return s||$o.test(e)?xo(e.slice(2),s?2:8):To.test(e)?Dt:+e}var No=function(){return ps.Date.now()};const it=No;var Fo="Expected a function",Uo=Math.max,Lo=Math.min;function Po(e,t,s){var n,o,i,r,c,_,p=0,g=!1,y=!1,T=!0;if(typeof e!="function")throw new TypeError(Fo);t=Mt(t)||0,vt(s)&&(g=!!s.leading,y="maxWait"in s,i=y?Uo(Mt(s.maxWait)||0,t):i,T="trailing"in s?!!s.trailing:T);function x(I){var D=n,z=o;return n=o=void 0,p=I,r=e.apply(z,D),r}function E(I){return p=I,c=setTimeout(R,t),g?x(I):r}function $(I){var D=I-_,z=I-p,Z=t-D;return y?Lo(Z,i-z):Z}function k(I){var D=I-_,z=I-p;return _===void 0||D>=t||D<0||y&&z>=i}function R(){var I=it();if(k(I))return A(I);c=setTimeout(R,$(I))}function A(I){return c=void 0,T&&n?x(I):(n=o=void 0,r)}function P(){c!==void 0&&clearTimeout(c),p=0,n=_=o=c=void 0}function M(){return c===void 0?r:A(it())}function B(){var I=it(),D=k(I);if(n=arguments,o=this,_=I,D){if(c===void 0)return E(_);if(y)return clearTimeout(c),c=setTimeout(R,t),x(_)}return c===void 0&&(c=setTimeout(R,t)),r}return B.cancel=P,B.flush=M,B}const Io={class:"search-filter"},jo={class:"search-container"},Bo={class:"search-input-wrapper"},Do=["placeholder","onKeydown"],Mo={key:0,class:"search-history"},qo=["onClick","onMouseenter"],Ho={class:"history-text"},Vo=["onClick"],Ko={key:1,class:"search-suggestions"},zo=["onClick","onMouseenter"],Jo={class:"suggestion-text"},Wo={key:0,class:"filter-panel"},Go={class:"filter-section"},Yo={class:"filter-options"},Xo=["value"],Qo={class:"filter-section"},Zo={class:"filter-options"},ea={class:"filter-option"},ta={class:"filter-option"},sa={class:"filter-option"},na={class:"filter-section"},oa={key:0,class:"quick-filters"},aa=["onClick"],ra={key:1,class:"search-stats"},ia={class:"stats-text"},la={key:0,class:"search-time"},Ne="config-search-history",ca=gt({__name:"SearchFilter",props:{modelValue:{},placeholder:{default:"搜索..."},searchScopes:{default:()=>[{value:"models",label:"Models"},{value:"rules",label:"Rules"},{value:"roles",label:"Roles"},{value:"commands",label:"Commands"}]},quickFilters:{default:()=>[]},maxHistory:{default:10}},emits:["update:modelValue","search","clear"],setup(e,{expose:t,emit:s}){const n=e,o=s,i=F(n.modelValue||""),r=F(null),c=F(!1),_=F(!1),p=F(!1),g=F(!1),y=F(-1),T=F(!1),x=F([]),E=F([]),$=F(n.searchScopes.map(O=>O.value)),k=F([]),R=F("relevance"),A=F({caseSensitive:!1,wholeWord:!1,highlightMatches:!0}),P=F(0),M=F(0),B=Po(O=>{if(O.trim()){const v=performance.now();o("search",O,{scopes:$.value,caseSensitive:A.value.caseSensitive,wholeWord:A.value.wholeWord,highlightMatches:A.value.highlightMatches,sortBy:R.value}),M.value=Math.round(performance.now()-v),g.value=!0}},300),I=()=>{o("update:modelValue",i.value),i.value?(c.value=!1,B(i.value),D()):(_.value=!1,o("clear"))},D=()=>{const O=[];if(i.value.length>2){const v=x.value.filter(m=>m.toLowerCase().includes(i.value.toLowerCase()));O.push(...v.slice(0,2));const d=["code","debug","architect","brain","hook","before","after"].filter(m=>m.toLowerCase().includes(i.value.toLowerCase()));O.push(...d.slice(0,3-O.length))}E.value=[...new Set(O)].slice(0,5),_.value=O.length>0},z=()=>{i.value="",o("update:modelValue",""),o("clear"),c.value=!1,_.value=!1,g.value=!1,y.value=-1,r.value&&r.value.focus()},Z=()=>{p.value=!p.value},ye=()=>{T.value=!0,i.value||(c.value=!0,y.value=-1)},Re=()=>{T.value=!1,setTimeout(()=>{T.value||(c.value=!1,_.value=!1)},200)},ee=()=>{i.value&&B(i.value)},Oe=O=>{const v=k.value.indexOf(O);v>-1?k.value.splice(v,1):k.value.push(O),i.value&&B(i.value)},_e=O=>{i.value=O,o("update:modelValue",O),c.value=!1,B(O),ie(O)},be=O=>{i.value=O,o("update:modelValue",O),_.value=!1,B(O),ie(O)},ie=O=>{const v=O.trim();if(!v)return;const L=x.value.indexOf(v);L>-1&&x.value.splice(L,1),x.value.unshift(v),x.value.length>n.maxHistory&&(x.value=x.value.slice(0,n.maxHistory)),localStorage.setItem(Ne,JSON.stringify(x.value))},le=O=>{x.value.splice(O,1),localStorage.setItem(Ne,JSON.stringify(x.value)),x.value.length===0&&(c.value=!1)},we=()=>{x.value=[],localStorage.removeItem(Ne),c.value=!1},ke=()=>{const O=c.value?x.value:E.value;O.length>0&&(y.value=(y.value+1)%O.length)},N=()=>{const O=c.value?x.value:E.value;O.length>0&&(y.value=y.value<=0?O.length-1:y.value-1)},C=()=>{const O=c.value?x.value:E.value;y.value>=0&&y.value<O.length&&(c.value?_e(O[y.value]):be(O[y.value]))};lt(x,O=>{localStorage.setItem(Ne,JSON.stringify(O))}),lt(()=>n.modelValue,O=>{O!==i.value&&(i.value=O||"")}),t({setSearchResults:O=>{P.value=O},resetFilters:()=>{$.value=n.searchScopes.map(O=>O.value),k.value=[],A.value={caseSensitive:!1,wholeWord:!1,highlightMatches:!0},R.value="relevance"}}),qt(()=>{try{const O=localStorage.getItem(Ne);O&&(x.value=JSON.parse(O))}catch(O){console.error("Failed to load search history:",O)}document.addEventListener("keydown",ue)}),_s(()=>{document.removeEventListener("keydown",ue)});const ue=O=>{var v;(O.metaKey||O.ctrlKey)&&O.key==="k"&&(O.preventDefault(),(v=r.value)==null||v.focus()),O.key==="Escape"&&(p.value?p.value=!1:c.value||_.value?(c.value=!1,_.value=!1):z())};return(O,v)=>(h(),f("div",Io,[a("div",jo,[a("div",Bo,[v[6]||(v[6]=a("div",{class:"search-icon"},"🔍",-1)),te(a("input",{ref_key:"searchInput",ref:r,"onUpdate:modelValue":v[0]||(v[0]=L=>i.value=L),type:"text",placeholder:O.placeholder,onInput:I,onFocus:ye,onBlur:Re,onKeydown:[je(pe(ke,["prevent"]),["down"]),je(pe(N,["prevent"]),["up"]),je(pe(C,["prevent"]),["enter"]),je(pe(z,["prevent"]),["esc"])]},null,40,Do),[[Ve,i.value]]),i.value?(h(),f("button",{key:0,class:"clear-btn",onClick:z,title:"清除搜索"}," ✕ ")):w("",!0),a("button",{class:Y(["filter-toggle",{active:p.value}]),onClick:Z,title:"筛选选项"}," ⚙️ ",2)]),c.value&&x.value.length>0&&!i.value?(h(),f("div",Mo,[a("div",{class:"history-header"},[v[7]||(v[7]=a("span",null,"搜索历史",-1)),a("button",{class:"clear-history",onClick:we,title:"清除历史"}," 清除 ")]),(h(!0),f(V,null,K(x.value,(L,d)=>(h(),f("div",{key:d,class:Y(["history-item",{highlighted:y.value===d}]),onClick:m=>_e(L),onMouseenter:m=>y.value=d},[v[8]||(v[8]=a("span",{class:"history-icon"},"🕐",-1)),a("span",Ho,b(L),1),a("button",{class:"remove-history",onClick:pe(m=>le(d),["stop"]),title:"移除"}," ✕ ",8,Vo)],42,qo))),128))])):w("",!0),_.value&&E.value.length>0?(h(),f("div",Ko,[(h(!0),f(V,null,K(E.value,(L,d)=>(h(),f("div",{key:d,class:Y(["suggestion-item",{highlighted:y.value===d}]),onClick:m=>be(L),onMouseenter:m=>y.value=d},[v[9]||(v[9]=a("span",{class:"suggestion-icon"},"💡",-1)),a("span",Jo,b(L),1)],42,zo))),128))])):w("",!0),ct(ws,{name:"slide-down"},{default:bs(()=>[p.value?(h(),f("div",Wo,[a("div",Go,[v[10]||(v[10]=a("h3",null,"搜索范围",-1)),a("div",Yo,[(h(!0),f(V,null,K(O.searchScopes,L=>(h(),f("label",{key:L.value,class:"filter-option"},[te(a("input",{type:"checkbox",value:L.value,"onUpdate:modelValue":v[1]||(v[1]=d=>$.value=d),onChange:ee},null,40,Xo),[[Be,$.value]]),a("span",null,b(L.label),1)]))),128))])]),a("div",Qo,[v[14]||(v[14]=a("h3",null,"搜索选项",-1)),a("div",Zo,[a("label",ea,[te(a("input",{type:"checkbox","onUpdate:modelValue":v[2]||(v[2]=L=>A.value.caseSensitive=L),onChange:ee},null,544),[[Be,A.value.caseSensitive]]),v[11]||(v[11]=a("span",null,"区分大小写",-1))]),a("label",ta,[te(a("input",{type:"checkbox","onUpdate:modelValue":v[3]||(v[3]=L=>A.value.wholeWord=L),onChange:ee},null,544),[[Be,A.value.wholeWord]]),v[12]||(v[12]=a("span",null,"全词匹配",-1))]),a("label",sa,[te(a("input",{type:"checkbox","onUpdate:modelValue":v[4]||(v[4]=L=>A.value.highlightMatches=L),onChange:ee},null,544),[[Be,A.value.highlightMatches]]),v[13]||(v[13]=a("span",null,"高亮匹配",-1))])])]),a("div",na,[v[16]||(v[16]=a("h3",null,"排序方式",-1)),te(a("select",{"onUpdate:modelValue":v[5]||(v[5]=L=>R.value=L),onChange:ee,class:"sort-select"},[...v[15]||(v[15]=[a("option",{value:"relevance"},"相关度",-1),a("option",{value:"name"},"名称",-1),a("option",{value:"category"},"类别",-1),a("option",{value:"modified"},"修改时间",-1)])],544),[[ks,R.value]])])])):w("",!0)]),_:1})]),O.quickFilters.length>0?(h(),f("div",oa,[v[17]||(v[17]=a("span",{class:"quick-filter-label"},"快速筛选:",-1)),(h(!0),f(V,null,K(O.quickFilters,L=>(h(),f("button",{key:L.value,class:Y(["quick-filter-tag",{active:k.value.includes(L.value)}]),onClick:d=>Oe(L.value)},b(L.label),11,aa))),128))])):w("",!0),g.value&&i.value?(h(),f("div",ra,[a("span",ia,[v[18]||(v[18]=me(" 找到 ",-1)),a("strong",null,b(P.value),1),v[19]||(v[19]=me(" 个结果 ",-1)),M.value?(h(),f("span",la," ("+b(M.value)+"ms) ",1)):w("",!0)])])):w("",!0)]))}});const ua=yt(ca,[["__scopeId","data-v-e8bbc804"]]);class da{constructor(){Ae(this,"STORAGE_KEY","roo-configs");Ae(this,"VERSION_KEY","roo-configs-version");Ae(this,"BACKUP_KEY","roo-configs-backup");Ae(this,"CURRENT_VERSION","1.0.0")}async initialize(){const t=localStorage.getItem(this.VERSION_KEY);t?t!==this.CURRENT_VERSION&&await this.migrateData(t,this.CURRENT_VERSION):await this.createBackup(),localStorage.setItem(this.VERSION_KEY,this.CURRENT_VERSION)}async saveConfig(t,s,n){try{const o=await this.getAllConfigs(),i={id:this.generateId(),name:t,description:n||"",config:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:this.CURRENT_VERSION},r=o.findIndex(_=>_.name===t);r>=0?o[r]={...o[r],config:s,description:n||o[r].description,updatedAt:new Date().toISOString()}:o.push(i);const c=this.compressData(o);localStorage.setItem(this.STORAGE_KEY,c),await this.createBackup()}catch(o){throw console.error("Failed to save config:",o),new Error("保存配置失败")}}async getAllConfigs(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?this.decompressData(t)||[]:[]}catch(t){throw console.error("Failed to load configs:",t),new Error("加载配置失败")}}async loadConfig(t){try{const n=(await this.getAllConfigs()).find(o=>o.id===t);return n?n.config:null}catch(s){throw console.error("Failed to load config:",s),new Error("加载配置失败")}}async deleteConfig(t){try{const n=(await this.getAllConfigs()).filter(i=>i.id!==t),o=this.compressData(n);localStorage.setItem(this.STORAGE_KEY,o),await this.createBackup()}catch(s){throw console.error("Failed to delete config:",s),new Error("删除配置失败")}}async renameConfig(t,s){try{const n=await this.getAllConfigs(),o=n.find(r=>r.id===t);if(!o)throw new Error("配置不存在");o.name=s,o.updatedAt=new Date().toISOString();const i=this.compressData(n);localStorage.setItem(this.STORAGE_KEY,i)}catch(n){throw console.error("Failed to rename config:",n),new Error("重命名配置失败")}}async exportConfig(t){try{const n=(await this.getAllConfigs()).find(c=>c.id===t);if(!n)throw new Error("配置不存在");const o=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),r=document.createElement("a");r.href=i,r.download=`config-${n.name}-${Date.now()}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}catch(s){throw console.error("Failed to export config:",s),new Error("导出配置失败")}}async importConfig(t){try{const s=await t.text(),n=JSON.parse(s);if(!this.validateConfig(n))throw new Error("配置格式无效");n.id=this.generateId(),n.updatedAt=new Date().toISOString();const o=await this.getAllConfigs();o.push(n);const i=this.compressData(o);localStorage.setItem(this.STORAGE_KEY,i),await this.createBackup()}catch(s){throw console.error("Failed to import config:",s),new Error("导入配置失败")}}async createBackup(){try{const t=localStorage.getItem(this.STORAGE_KEY);t&&(localStorage.setItem(this.BACKUP_KEY,t),localStorage.setItem(`${this.BACKUP_KEY}-timestamp`,Date.now().toString()))}catch(t){console.error("Failed to create backup:",t)}}async restoreBackup(){try{const t=localStorage.getItem(this.BACKUP_KEY);return t?(localStorage.setItem(this.STORAGE_KEY,t),!0):!1}catch(t){throw console.error("Failed to restore backup:",t),new Error("恢复备份失败")}}compressData(t){try{const s=JSON.stringify(t);return btoa(unescape(encodeURIComponent(s)))}catch(s){return console.error("Compression failed:",s),JSON.stringify(t)}}decompressData(t){try{const s=decodeURIComponent(escape(atob(t)));return JSON.parse(s)}catch(s){try{return JSON.parse(t)}catch{return console.error("Decompression failed:",s),null}}}async migrateData(t,s){console.log(`Migrating from ${t} to ${s}`),await this.createBackup()}validateConfig(t){return t&&typeof t.id=="string"&&typeof t.name=="string"&&typeof t.config=="object"&&Array.isArray(t.config.models)&&typeof t.config.rules=="object"}generateId(){return`config_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async getStorageStats(){const t=await this.getAllConfigs(),s=localStorage.getItem(this.STORAGE_KEY),n=localStorage.getItem(`${this.BACKUP_KEY}-timestamp`);return{totalConfigs:t.length,totalSize:s?new Blob([s]).size:0,lastBackup:n?new Date(parseInt(n)):void 0}}}const re=new da,vs=Ss("config",()=>{const e=F([]),t=F(!1),s=F(null),n=F({totalConfigs:0,totalSize:0}),o=se(()=>e.value.length>0),i=se(()=>[...e.value].sort((R,A)=>new Date(A.updatedAt).getTime()-new Date(R.updatedAt).getTime())),r=async()=>{try{t.value=!0,await re.initialize(),await c(),await $()}catch(R){s.value=R instanceof Error?R.message:"初始化失败"}finally{t.value=!1}},c=async()=>{try{t.value=!0,s.value=null,e.value=await re.getAllConfigs()}catch(R){throw s.value=R instanceof Error?R.message:"加载配置失败",R}finally{t.value=!1}},_=async(R,A,P)=>{try{return t.value=!0,s.value=null,await re.saveConfig(R,A,P),await c(),await $(),!0}catch(M){throw s.value=M instanceof Error?M.message:"保存配置失败",M}finally{t.value=!1}},p=async R=>{try{return t.value=!0,s.value=null,await re.loadConfig(R)}catch(A){throw s.value=A instanceof Error?A.message:"加载配置失败",A}finally{t.value=!1}},g=async R=>{try{t.value=!0,s.value=null,await re.deleteConfig(R),await c(),await $()}catch(A){throw s.value=A instanceof Error?A.message:"删除配置失败",A}finally{t.value=!1}},y=async(R,A)=>{try{t.value=!0,s.value=null,await re.renameConfig(R,A),await c()}catch(P){throw s.value=P instanceof Error?P.message:"重命名配置失败",P}finally{t.value=!1}},T=async R=>{try{await re.exportConfig(R)}catch(A){throw s.value=A instanceof Error?A.message:"导出配置失败",A}},x=async R=>{try{t.value=!0,s.value=null,await re.importConfig(R),await c(),await $()}catch(A){throw s.value=A instanceof Error?A.message:"导入配置失败",A}finally{t.value=!1}},E=async()=>{try{t.value=!0,s.value=null;const R=await re.restoreBackup();return R&&(await c(),await $()),R}catch(R){throw s.value=R instanceof Error?R.message:"恢复备份失败",R}finally{t.value=!1}},$=async()=>{try{n.value=await re.getStorageStats()}catch(R){console.error("Failed to update storage stats:",R)}};return{savedConfigs:e,isLoading:t,error:s,storageStats:n,hasConfigs:o,sortedConfigs:i,initialize:r,loadConfigs:c,saveConfig:_,loadConfig:p,deleteConfig:g,renameConfig:y,exportConfig:T,importConfig:x,restoreBackup:E,updateStorageStats:$,clearError:()=>{s.value=null}}}),fa=Object.freeze(Object.defineProperty({__proto__:null,useConfigStore:vs},Symbol.toStringTag,{value:"Module"})),ha={key:0,class:"config-manager"},pa={class:"modal-content"},ma={class:"modal-header"},va={key:0,class:"config-form"},ga={class:"form-group"},ya={key:0,class:"error-message"},_a={class:"form-group"},ba={class:"form-actions"},wa=["disabled"],ka={key:1,class:"config-list"},Sa={key:0,class:"loading"},Ca={key:1,class:"empty-state"},Ea={key:2,class:"configs-container"},Ra={class:"toolbar"},Oa={class:"toolbar-info"},Ta={class:"config-count"},Aa={class:"storage-size"},$a={class:"toolbar-actions"},xa=["disabled"],Na=["disabled"],Fa={class:"configs-grid"},Ua={class:"config-card-header"},La={class:"config-info"},Pa={key:0,class:"description"},Ia={class:"meta"},ja={class:"date"},Ba={key:0,class:"date"},Da={class:"config-card-content"},Ma={class:"config-preview"},qa={class:"preview-item"},Ha={class:"value"},Va={class:"preview-item"},Ka={class:"value"},za={class:"preview-item"},Ja={class:"value"},Wa={class:"config-actions"},Ga=["onClick"],Ya=["onClick"],Xa=["onClick"],Qa=["onClick"],Za=["onClick"],er={class:"details-modal-body"},tr={key:0,class:"config-details"},sr={class:"details-section"},nr={class:"details-grid"},or={class:"detail-item"},ar={class:"detail-value"},rr={class:"detail-item"},ir={class:"detail-value"},lr={key:0,class:"detail-item"},cr={class:"detail-value"},ur={key:1,class:"detail-item"},dr={class:"detail-value"},fr={key:0,class:"details-section"},hr={class:"models-list"},pr={class:"model-header"},mr={class:"model-slug"},vr={class:"model-name"},gr={class:"model-details"},yr={class:"model-description"},_r={class:"model-meta"},br={class:"model-provider"},wr={class:"model-category"},kr={key:1,class:"details-section"},Sr={class:"rules-list"},Cr={class:"rule-header"},Er={class:"rule-name"},Rr={key:0,class:"rule-category"},Or={class:"rule-content"},Tr={key:0,class:"rule-description"},Ar={key:1,class:"rule-tags"},$r={class:"rule-details-toggle"},xr={class:"rule-code"},Nr={key:2,class:"details-section"},Fr={class:"commands-list"},Ur={class:"command-header"},Lr={class:"command-name"},Pr={class:"command-content"},Ir={key:0,class:"command-description"},jr={class:"command-details-toggle"},Br={class:"command-code"},Dr={key:3,class:"details-section"},Mr={class:"roles-list"},qr={class:"role-header"},Hr={class:"role-slug"},Vr={class:"role-name"},Kr={class:"role-content"},zr={class:"role-description"},Jr={key:0,class:"role-traits"},Wr={class:"details-modal-footer"},Gr=gt({__name:"ConfigManager",props:{show:{type:Boolean,default:!1},initialMode:{default:"list"},currentConfig:{default:void 0}},emits:["update:show","apply","close"],setup(e,{emit:t}){const s=e,n=t,o=vs(),i=F(s.initialMode),r=F(""),c=F(""),_=F(!1),p=F({}),g=F(),y=F(!1),T=F(null),x=se(()=>o.savedConfigs),E=se(()=>o.sortedConfigs),$=se(()=>o.hasConfigs),k=se(()=>o.storageStats),R=()=>{n("update:show",!1),ie()},A=N=>{i.value=N,N==="save"&&Ht(()=>{const C=document.querySelector('input[type="text"]');C==null||C.focus()})},P=()=>r.value.trim()?x.value.find(C=>C.name===r.value.trim())?(p.value.name="配置名称已存在",!1):(delete p.value.name,!0):(p.value.name="配置名称不能为空",!1),M=async()=>{if(!(!P()||!s.currentConfig))try{_.value=!0,await o.saveConfig(r.value.trim(),s.currentConfig,c.value.trim()||void 0),i.value="list",ie()}catch(N){console.error("Save failed:",N)}finally{_.value=!1}},B=N=>{n("apply",N.config),R()},I=N=>{T.value=N,y.value=!0},D=()=>{y.value=!1,T.value=null},z=async N=>{try{await o.exportConfig(N)}catch(C){console.error("Export failed:",C)}},Z=async N=>{const C=prompt("请输入新的配置名称:",N.name);if(C&&C.trim()&&C.trim()!==N.name)try{await o.renameConfig(N.id,C.trim())}catch(W){console.error("Rename failed:",W)}},ye=async N=>{if(confirm(`确定要删除配置 "${N.name}" 吗？此操作不可恢复。`))try{await o.deleteConfig(N.id)}catch(C){console.error("Delete failed:",C)}},Re=async()=>{try{_.value=!0,await o.loadConfigs(),await o.updateStorageStats()}catch(N){console.error("Refresh failed:",N)}finally{_.value=!1}},ee=()=>{var N;(N=g.value)==null||N.click()},Oe=async N=>{var ce;const C=N.target,W=(ce=C.files)==null?void 0:ce[0];if(W)try{_.value=!0,await o.importConfig(W)}catch(ue){console.error("Import failed:",ue)}finally{_.value=!1,C.value=""}},_e=()=>{const N=new Blob([JSON.stringify(x.value,null,2)],{type:"application/json"}),C=URL.createObjectURL(N),W=document.createElement("a");W.href=C,W.download=`all-configs-${Date.now()}.json`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(C)},be=async()=>{if(confirm("确定要恢复到最近的备份吗？这将覆盖当前的配置。"))try{const N=await o.restoreBackup();alert(N?"备份恢复成功！":"没有找到可用的备份")}catch(N){console.error("Restore backup failed:",N),alert("恢复备份失败")}},ie=()=>{r.value="",c.value="",p.value={}},le=N=>new Date(N).toLocaleDateString("zh-CN"),we=N=>N<1024?N+" B":N<1024*1024?(N/1024).toFixed(1)+" KB":(N/(1024*1024)).toFixed(1)+" MB",ke=se(()=>i.value==="save"?"保存配置":"我的配置");return lt(()=>s.show,N=>{N&&(i.value=s.initialMode,ie(),o.clearError())}),(N,C)=>{var W,ce,ue,O;return N.show?(h(),f("div",ha,[a("div",{class:"modal-backdrop",onClick:R}),a("div",pa,[a("div",ma,[a("h2",null,b(ke.value),1),a("button",{class:"close-btn",onClick:R},"✕")]),i.value==="save"?(h(),f("div",va,[a("div",ga,[C[6]||(C[6]=a("label",null,[me("配置名称 "),a("span",{class:"required"},"*")],-1)),te(a("input",{"onUpdate:modelValue":C[0]||(C[0]=v=>r.value=v),type:"text",placeholder:"输入配置名称...",class:Y({error:p.value.name}),onInput:P},null,34),[[Ve,r.value]]),p.value.name?(h(),f("span",ya,b(p.value.name),1)):w("",!0)]),a("div",_a,[C[7]||(C[7]=a("label",null,"描述（可选）",-1)),te(a("textarea",{"onUpdate:modelValue":C[1]||(C[1]=v=>c.value=v),placeholder:"添加配置描述...",rows:"3"},null,512),[[Ve,c.value]])]),a("div",ba,[a("button",{class:"btn btn-primary",disabled:!r.value.trim()||_.value,onClick:M},b(_.value?"保存中...":"保存配置"),9,wa),a("button",{class:"btn btn-secondary",onClick:R},"取消")])])):i.value==="list"?(h(),f("div",ka,[_.value?(h(),f("div",Sa,[...C[8]||(C[8]=[a("div",{class:"loading-spinner"},null,-1),a("p",null,"加载中...",-1)])])):$.value?(h(),f("div",Ea,[a("div",Ra,[a("div",Oa,[a("span",Ta,b(x.value.length)+" 个配置",1),a("span",Aa,"占用空间: "+b(we(k.value.totalSize)),1)]),a("div",$a,[a("button",{class:"btn-icon",title:"刷新",onClick:Re,disabled:_.value}," 🔄 ",8,xa),a("button",{class:"btn-icon",title:"导入配置",onClick:ee}," 📥 "),a("button",{class:"btn-icon",title:"导出所有",onClick:_e}," 📤 "),a("button",{class:"btn-icon",title:"恢复备份",onClick:be,disabled:_.value}," 💾 ",8,Na),a("button",{class:"btn-icon btn-primary",title:"创建新配置",onClick:C[3]||(C[3]=v=>A("save"))}," ➕ ")])]),a("div",Fa,[(h(!0),f(V,null,K(E.value,v=>{var L,d,m;return h(),f("div",{key:v.id,class:"config-card"},[a("div",Ua,[a("div",La,[a("h3",null,b(v.name),1),v.description?(h(),f("p",Pa,b(v.description),1)):w("",!0),a("div",Ia,[a("span",ja,"创建于: "+b(le(v.createdAt)),1),v.updatedAt!==v.createdAt?(h(),f("span",Ba," 更新于: "+b(le(v.updatedAt)),1)):w("",!0)])])]),a("div",Da,[a("div",Ma,[a("div",qa,[C[11]||(C[11]=a("span",{class:"label"},"Models:",-1)),a("span",Ha,b(((L=v.config.models)==null?void 0:L.length)||0)+" 个",1)]),a("div",Va,[C[12]||(C[12]=a("span",{class:"label"},"Roles:",-1)),a("span",Ka,b(((d=v.config.roles)==null?void 0:d.length)||0)+" 个",1)]),a("div",za,[C[13]||(C[13]=a("span",{class:"label"},"Commands:",-1)),a("span",Ja,b(((m=v.config.commands)==null?void 0:m.length)||0)+" 个",1)])]),a("div",Wa,[a("button",{class:"btn-sm btn-primary",onClick:l=>B(v),title:"应用此配置"}," 应用 ",8,Ga),a("button",{class:"btn-sm btn-secondary",onClick:l=>I(v),title:"查看详情"}," 详情 ",8,Ya),a("button",{class:"btn-sm",onClick:l=>z(v.id),title:"导出配置"}," 📤 ",8,Xa),a("button",{class:"btn-sm",onClick:l=>Z(v),title:"重命名"}," ✏️ ",8,Qa),a("button",{class:"btn-sm btn-danger",onClick:l=>ye(v),title:"删除配置"}," 🗑️ ",8,Za)])])])}),128))])])):(h(),f("div",Ca,[C[9]||(C[9]=a("div",{class:"empty-icon"},"📁",-1)),C[10]||(C[10]=a("p",null,"暂无保存的配置",-1)),a("button",{class:"btn btn-primary",onClick:C[2]||(C[2]=v=>A("save"))}," 创建新配置 ")]))])):w("",!0)]),a("input",{ref_key:"fileInput",ref:g,type:"file",accept:".json",style:{display:"none"},onChange:Oe},null,544),y.value?(h(),f("div",{key:0,class:"details-modal",onClick:D},[C[23]||(C[23]=a("div",{class:"details-modal-backdrop"},null,-1)),a("div",{class:"details-modal-content",onClick:C[5]||(C[5]=pe(()=>{},["stop"]))},[a("div",{class:"details-modal-header"},[C[14]||(C[14]=a("h3",null,"配置详情",-1)),a("button",{class:"details-close-btn",onClick:D},"✕")]),a("div",er,[T.value?(h(),f("div",tr,[a("div",sr,[C[19]||(C[19]=a("h4",null,"基本信息",-1)),a("div",nr,[a("div",or,[C[15]||(C[15]=a("span",{class:"detail-label"},"名称:",-1)),a("span",ar,b(T.value.name),1)]),a("div",rr,[C[16]||(C[16]=a("span",{class:"detail-label"},"创建时间:",-1)),a("span",ir,b(le(T.value.createdAt)),1)]),T.value.updatedAt!==T.value.createdAt?(h(),f("div",lr,[C[17]||(C[17]=a("span",{class:"detail-label"},"更新时间:",-1)),a("span",cr,b(le(T.value.updatedAt)),1)])):w("",!0),T.value.description?(h(),f("div",ur,[C[18]||(C[18]=a("span",{class:"detail-label"},"描述:",-1)),a("span",dr,b(T.value.description),1)])):w("",!0)])]),(W=T.value.config.models)!=null&&W.length?(h(),f("div",fr,[a("h4",null,"Models ("+b(T.value.config.models.length)+")",1),a("div",hr,[(h(!0),f(V,null,K(T.value.config.models,v=>(h(),f("div",{key:v.slug,class:"model-item"},[a("div",pr,[a("span",mr,b(v.slug),1),a("span",vr,b(v.name),1)]),a("div",gr,[a("div",yr,b(v.description),1),a("div",_r,[a("span",br,"提供商: "+b(v.provider),1),a("span",wr,"类别: "+b(v.category),1)])])]))),128))])])):w("",!0),(ce=T.value.config.rules)!=null&&ce.length?(h(),f("div",kr,[a("h4",null,"Rules ("+b(T.value.config.rules.length)+")",1),a("div",Sr,[(h(!0),f(V,null,K(T.value.config.rules,v=>{var L,d,m,l;return h(),f("div",{key:v.name,class:"rule-item"},[a("div",Cr,[a("span",Er,b(v.name),1),(L=v.metadata)!=null&&L.category?(h(),f("span",Rr,b(v.metadata.category),1)):w("",!0)]),a("div",Or,[(d=v.metadata)!=null&&d.description?(h(),f("div",Tr,b(v.metadata.description),1)):w("",!0),(l=(m=v.metadata)==null?void 0:m.tags)!=null&&l.length?(h(),f("div",Ar,[(h(!0),f(V,null,K(v.metadata.tags,S=>(h(),f("span",{key:S,class:"rule-tag"},b(S),1))),128))])):w("",!0),a("details",$r,[C[20]||(C[20]=a("summary",null,"查看规则内容",-1)),a("pre",xr,b(v.content),1)])])])}),128))])])):w("",!0),(ue=T.value.config.commands)!=null&&ue.length?(h(),f("div",Nr,[a("h4",null,"Commands ("+b(T.value.config.commands.length)+")",1),a("div",Fr,[(h(!0),f(V,null,K(T.value.config.commands,v=>(h(),f("div",{key:v.name,class:"command-item"},[a("div",Ur,[a("span",Lr,b(v.name),1)]),a("div",Pr,[v.description?(h(),f("div",Ir,b(v.description),1)):w("",!0),a("details",jr,[C[21]||(C[21]=a("summary",null,"查看命令内容",-1)),a("pre",Br,b(v.content),1)])])]))),128))])])):w("",!0),(O=T.value.config.roles)!=null&&O.length?(h(),f("div",Dr,[a("h4",null,"Roles ("+b(T.value.config.roles.length)+")",1),a("div",Mr,[(h(!0),f(V,null,K(T.value.config.roles,v=>{var L;return h(),f("div",{key:v.slug,class:"role-item"},[a("div",qr,[a("span",Hr,b(v.slug),1),a("span",Vr,b(v.name),1)]),a("div",Kr,[a("div",zr,b(v.description),1),(L=v.traits)!=null&&L.length?(h(),f("div",Jr,[C[22]||(C[22]=a("strong",null,"特征:",-1)),me(" "+b(v.traits.join(", ")),1)])):w("",!0)])])}),128))])])):w("",!0)])):w("",!0)]),a("div",Wr,[a("button",{class:"btn btn-primary",onClick:C[4]||(C[4]=v=>B(T.value))}," 应用此配置 "),a("button",{class:"btn btn-secondary",onClick:D}," 关闭 ")])])])):w("",!0)])):w("",!0)}}});const Yr=yt(Gr,[["__scopeId","data-v-99aeee88"]]);const Xr={class:"config-selector"},Qr={class:"container"},Zr={class:"global-search-section"},ei={class:"config-layout"},ti={class:"selection-panel"},si={class:"tab-navigation"},ni={class:"tab-header"},oi=["onClick"],ai={class:"tab-icon"},ri={class:"tab-label"},ii={key:0,class:"required-mark"},li={class:"tab-content"},ci={class:"config-section"},ui={class:"search-box"},di={class:"items-list"},fi=["onClick"],hi={class:"item-header"},pi=["checked","onChange","disabled","title"],mi={class:"item-info"},vi={class:"text-primary"},gi={key:0,class:"required-crown",title:"必选项"},yi={class:"slug text-secondary"},_i={key:0,class:"description text-secondary"},bi={key:1,class:"meta"},wi={class:"category text-inverted"},ki={key:0,class:"tags text-secondary"},Si={key:2,class:"model-rules"},Ci={class:"model-rules-header"},Ei={class:"model-rules-actions"},Ri=["onClick","title"],Oi={class:"model-rules-list"},Ti=["onClick"],Ai={class:"rule-card-header"},$i={class:"rule-checkbox"},xi=["checked","onChange","disabled"],Ni={class:"rule-title-section"},Fi={class:"rule-title"},Ui={key:0,class:"rule-badges"},Li={key:0,class:"category-badge"},Pi={class:"rule-status"},Ii={key:0,class:"status-indicator selected"},ji={key:1,class:"status-indicator"},Bi={class:"rule-card-body"},Di={key:0,class:"rule-description"},Mi={key:1,class:"rule-tags"},qi={key:0,class:"rule-card-footer"},Hi={class:"content-preview"},Vi={class:"config-section"},Ki={class:"items-list"},zi=["onClick"],Ji={class:"item-header"},Wi=["checked","onChange"],Gi={class:"item-info"},Yi={class:"text-primary"},Xi={key:0,class:"role-preview"},Qi={key:0,class:"role-metadata-simple"},Zi={key:0,class:"role-title"},el={key:1,class:"role-description"},tl={key:2,class:"role-traits"},sl={class:"traits-value"},nl={key:1,class:"role-content-preview"},ol={key:0,class:"role-metadata-header"},al={key:0,class:"meta-description"},rl={key:1},il={class:"config-section"},ll={class:"items-list"},cl=["onClick"],ul={class:"item-header"},dl=["checked","onChange"],fl={class:"item-info"},hl={class:"text-primary"},pl={key:0,class:"command-preview"},ml={key:0,class:"command-metadata-simple"},vl={key:0,class:"command-title"},gl={key:1,class:"command-description"},yl={key:2,class:"command-meta-info"},_l={key:0,class:"category-tag"},bl={key:1,class:"tags"},wl={key:1,class:"command-content-preview"},kl={key:0,class:"command-metadata-header"},Sl={key:0,class:"meta-description"},Cl={key:1},El={class:"preview-panel"},Rl={class:"preview-section"},Ol={class:"preview-header"},Tl={class:"preview-controls"},Al={class:"mode-toggle"},$l={key:0,class:"preview-content"},xl={class:"preview-grid"},Nl={key:0,class:"preview-card"},Fl={class:"card-header"},Ul={class:"card-content"},Ll={class:"model-name"},Pl={class:"name-text"},Il={class:"slug-text"},jl={key:0,class:"model-metadata-simple"},Bl={key:0,class:"meta-description"},Dl={key:1,class:"model-meta-info"},Ml={key:0,class:"category-tag"},ql={key:1,class:"tags"},Hl={key:1,class:"rules-list"},Vl={class:"rule-name"},Kl={key:1,class:"preview-card"},zl={class:"card-content"},Jl={class:"role-item"},Wl={class:"name-text"},Gl={key:0,class:"role-metadata-simple"},Yl={key:0,class:"meta-description"},Xl={key:1,class:"role-traits"},Ql={class:"traits-value"},Zl={key:2,class:"preview-card"},ec={class:"card-header"},tc={class:"card-content"},sc={class:"commands-grid"},nc={class:"command-name"},oc={key:0,class:"command-metadata-simple"},ac={key:0,class:"meta-description"},rc={key:1,class:"command-meta-info"},ic={key:0,class:"category-tag"},lc={key:1,class:"preview-card"},cc={class:"card-header"},uc={class:"card-content"},dc={class:"hooks-list"},fc={key:0,class:"hook-item"},hc={key:0,class:"hook-metadata-simple"},pc={key:0,class:"meta-description"},mc={key:1,class:"hook-description"},vc={key:2,class:"hook-meta-info"},gc={class:"category-tag"},yc={key:1,class:"hook-item"},_c={key:0,class:"hook-metadata-simple"},bc={key:0,class:"meta-description"},wc={key:1,class:"hook-description"},kc={key:2,class:"hook-meta-info"},Sc={class:"category-tag"},Cc={key:2,class:"empty-preview"},Ec={class:"actions"},Rc=["disabled"],J="orchestrator",Se=100,Oc=300,Tc=gt({__name:"ConfigSelector",setup(e){const s=((d,m)=>{let l;return function(...S){clearTimeout(l),l=window.setTimeout(()=>d.apply(this,S),m)}})(()=>{},Oc),n=F([]),o=F([]),i=F({}),r=F(null),c=F({}),_=F([]),p=F({before:"",after:""}),g=F({}),y=F({}),T=d=>{g.value[d]||(g.value[d]={}),y.value[d]||(y.value[d]=[])},x=F(""),E=F("models"),$=F([{id:"models",label:"模式",icon:"🤖",required:!0},{id:"roles",label:"角色",icon:"🎭",required:!1},{id:"commands",label:"命令",icon:"⚡",required:!1}]),k=F("detailed");F(!1);const R=F(null),A=F(!1),P=F("");F();const M=se(()=>o.value.length>0||Object.keys(y.value).length>0||r.value!==null||_.value.length>0),B=se(()=>o.value.length>0);se(()=>o.value.some(d=>d.slug===J)),se(()=>Object.values(y.value).reduce((d,m)=>d+m.length,0));const I=(d,m)=>{var l;return((l=y.value[d])==null?void 0:l.includes(m))||!1},D=d=>{const m=Object.keys(g.value[d]||{}),l=y.value[d]||[];return m.length>0&&m.every(S=>l.includes(S))},z=se(()=>{const d=x.value.toLowerCase(),m=n.value||[];return d?m.filter(l=>{var S,j,H;return l.name.toLowerCase().includes(d)||l.slug.toLowerCase().includes(d)||((S=l.description)==null?void 0:S.toLowerCase().includes(d))||((j=l.category)==null?void 0:j.toLowerCase().includes(d))||((H=l.tags)==null?void 0:H.some(X=>X.toLowerCase().includes(d)))}):m}),Z=(d,m)=>{console.error(`Failed to ${m}:`,d),d.value=`${m} 失败`},ye=()=>{R.value=null},Re=async()=>{var d;ye();try{const m=await he.post("/api/models");console.log("API Response from /api/models:",m),n.value=m||[],console.log("Models value after assignment:",n.value),console.log("Models length:",(d=n.value)==null?void 0:d.length);const l=(n.value||[]).find(S=>S.slug===J);console.log("Found orchestrator model:",l),l&&(console.log("Adding orchestrator to selected models"),o.value.push(l),console.log("Selected models after push:",o.value),await ee(J))}catch(m){Z(m,"fetch models")}},ee=async d=>{ye();try{const l=await he.post("/api/rules/get",{slug:d})||{};T(d),g.value[d]=l,d===J?y.value[d]=Object.keys(l):y.value[d]=[]}catch(m){Z(m,`fetch rules for ${d}`)}},Oe=async()=>{try{const d=await he.post("/api/roles");i.value=d||{}}catch(d){console.error("Failed to fetch roles:",d)}},_e=async()=>{try{const d=await he.post("/api/commands");console.log(d),c.value=d||{}}catch(d){console.error("Failed to fetch commands:",d)}},be=async()=>{try{const[d,m]=await Promise.all([he.post("/api/hooks/before"),he.post("/api/hooks/after")]);p.value={before:d||"",after:m||""}}catch(d){console.error("Failed to fetch hooks:",d)}},ie=async d=>{const m=o.value.findIndex(l=>l.slug===d.slug);if(m>-1){if(d.slug===J)return;o.value.splice(m,1),delete y.value[d.slug],delete g.value[d.slug]}else{o.value.push(d);try{const S=await he.post("/api/rules/get",{slug:d.slug})||{};T(d.slug),g.value[d.slug]=S,d.slug===J?y.value[d.slug]=Object.keys(S):y.value[d.slug]=[]}catch(l){console.error(`Failed to fetch rules for ${d.slug}:`,l)}}},le=(d,m)=>{var l;((l=r.value)==null?void 0:l.name)===d?r.value=null:r.value={name:d,content:m.content}},we=(d,m)=>{const l=_.value.findIndex(S=>S.name===d);l>-1?_.value.splice(l,1):_.value.push({name:d,content:m.content})},ke=(d,m,l)=>{if(d===J)return;T(d);const S=y.value[d].indexOf(m);S>-1?y.value[d].splice(S,1):y.value[d].push(m)},N=d=>{if(d===J)return;const m=Object.keys(g.value[d]||{});y.value[d],D(d)?y.value[d]=[]:y.value[d]=[...m]},C=()=>{const d=o.value.find(m=>m.slug===J);o.value=d?[d]:[],g.value={},y.value={},r.value=null,_.value=[],x.value="",d&&ee(d.slug)},W=()=>{const d={models:o.value,rules:{},roles:r.value?[r.value]:[],commands:_.value,hooks:p.value};o.value.forEach(H=>{const X=y.value[H.slug]||[];d.rules[H.slug]=X.map(de=>{var Te;const fe=(Te=g.value[H.slug])==null?void 0:Te[de];return{name:de,content:(fe==null?void 0:fe.content)||""}})});const m=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),l=URL.createObjectURL(m),S=document.createElement("a");S.href=l;const j=o.value.map(H=>H.slug).join("-");S.download=`config-${j}-${Date.now()}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(l)};console.log("🎯 ConfigSelector 组件开始初始化"),qt(async()=>{console.log("🚀 ConfigSelector 组件已挂载，开始获取数据");try{await Promise.all([Re(),Oe(),_e(),be()]),console.log("✅ 所有初始数据获取完成")}catch(d){console.error("❌ 初始数据获取失败:",d)}Ht(()=>{var d,m;if(console.log("🔄 nextTick 回调执行"),console.log("当前 models 长度:",(d=n.value||[])==null?void 0:d.length),console.log("当前 selectedModels:",o.value),(((m=n.value||[])==null?void 0:m.length)||0)>0&&!(o.value||[]).some(l=>l.slug===J)){console.log("准备自动选择 orchestrator");const l=(n.value||[]).find(S=>S.slug===J);l&&(console.log("添加 orchestrator 到已选择"),o.value.push(l),ee(l.slug))}else console.log("orchestrator 已经存在或 models 为空")})});const ce=(d,m)=>{P.value=d},ue=d=>{ce(P.value)},O=()=>{A.value=!0},v=async d=>{const m={models:o.value,rules:{},roles:r.value?[r.value]:[],commands:_.value,hooks:p.value};o.value.forEach(j=>{const H=y.value[j.slug]||[];m.rules[j.slug]=H.map(X=>{var fe;const de=(fe=g.value[j.slug])==null?void 0:fe[X];return{name:X,content:(de==null?void 0:de.content)||""}})});const{useConfigStore:l}=await Cs(()=>Promise.resolve().then(()=>fa),void 0),S=l();try{await S.saveConfig(d,m)}catch(j){console.error("保存配置失败:",j)}},L=async d=>{if(C(),d.models&&Array.isArray(d.models)){o.value=d.models;for(const m of d.models)await ee(m.slug),d.rules&&d.rules[m.slug]&&(y.value[m.slug]=d.rules[m.slug].map(l=>l.name))}if(d.roles&&d.roles.length>0){const m=d.roles[0];r.value=m}d.commands&&Array.isArray(d.commands)&&(_.value=d.commands)};return(d,m)=>(h(),f("div",Xr,[a("div",Qr,[m[23]||(m[23]=a("div",{class:"header"},[a("h1",null,"配置选择器"),a("p",{class:"description"},"选择您需要的 models、rules、roles 和 commands")],-1)),a("div",Zr,[ct(ua,{"initial-query":P.value,placeholder:"搜索 modes, rules, roles, commands...",scopes:[{value:"all",label:"全部"},{value:"models",label:"Modes"},{value:"rules",label:"Rules"},{value:"roles",label:"Roles"},{value:"commands",label:"Commands"}],"quick-filters":[{value:"selected",label:"已选择"},{value:"recent",label:"最近更新"}],onSearch:ce,onFilterChange:ue},null,8,["initial-query"])]),a("div",ei,[a("div",ti,[a("div",si,[a("div",ni,[(h(!0),f(V,null,K($.value,l=>(h(),f("div",{key:l.id,class:Y(["tab-item",{active:E.value===l.id}]),onClick:S=>E.value=l.id},[a("span",ai,b(l.icon),1),a("span",ri,b(l.label),1),l.required?(h(),f("span",ii,"*")):w("",!0)],10,oi))),128))])]),a("div",li,[te(a("div",ci,[m[7]||(m[7]=a("h2",null,[me("模式 "),a("span",{class:"required"},"*")],-1)),a("div",ui,[m[6]||(m[6]=a("div",{class:"search-icon"},"🔍",-1)),te(a("input",{"onUpdate:modelValue":m[0]||(m[0]=l=>x.value=l),type:"text",placeholder:"搜索模式...",onInput:m[1]||(m[1]=(...l)=>Et(s)&&Et(s)(...l))},null,544),[[Ve,x.value]]),x.value?(h(),f("button",{key:0,class:"clear-btn",onClick:m[2]||(m[2]=l=>{x.value=""})}," ✕ ")):w("",!0)]),a("div",di,[(h(!0),f(V,null,K(z.value,l=>(h(),f("div",{key:l.slug,class:Y(["item-card",{selected:o.value.some(S=>S.slug===l.slug)}]),onClick:S=>ie(l)},[a("div",hi,[a("input",{type:"checkbox",checked:o.value.some(S=>S.slug===l.slug),onChange:S=>ie(l),disabled:l.slug===J,title:l.slug===J?"Orchestrator模式为必选项，不可取消":"",class:Y(["custom-checkbox",{"required-checkbox":l.slug===J}])},null,42,pi),a("div",mi,[a("h3",vi,[me(b(l.name)+" ",1),l.slug===J?(h(),f("span",gi,"👑")):w("",!0)]),a("p",yi,b(l.slug),1)])]),l.description?(h(),f("p",_i,b(l.description),1)):w("",!0),l.category?(h(),f("div",bi,[a("span",wi,b(l.category),1),l.tags?(h(),f("span",ki,b(l.tags.join(", ")),1)):w("",!0)])):w("",!0),o.value.some(S=>S.slug===l.slug)&&g.value[l.slug]?(h(),f("div",Si,[a("div",Ci,[a("h4",null,b(l.name)+" 的规则",1),a("div",Ei,[a("button",{class:"action-btn",onClick:pe(S=>N(l.slug),["stop"]),title:D(l.slug)?"取消全选":"全选"},b(D(l.slug)?"取消全选":"全选"),9,Ri)])]),a("div",Oi,[(h(!0),f(V,null,K(g.value[l.slug]||{},(S,j)=>{var H,X,de,fe,Te;return h(),f("div",{key:j,class:Y(["rule-card",{selected:I(l.slug,j),disabled:l.slug===J}]),onClick:pe(Ie=>l.slug!==J&&ke(l.slug,j),["stop"])},[a("div",Ai,[a("div",$i,[a("input",{type:"checkbox",checked:I(l.slug,j),onChange:pe(Ie=>ke(l.slug,j),["stop"]),disabled:l.slug===J,class:"custom-checkbox"},null,40,xi)]),a("div",Ni,[a("h5",Fi,b(((H=S.metadata)==null?void 0:H.title)||d.formatRuleName(j)),1),(X=S.metadata)!=null&&X.category||(de=S.metadata)!=null&&de.priority?(h(),f("div",Ui,[S.metadata.category?(h(),f("span",Li,b(S.metadata.category),1)):w("",!0),S.metadata.priority?(h(),f("span",{key:1,class:Y(["priority-badge",S.metadata.priority])},b(S.metadata.priority),3)):w("",!0)])):w("",!0)]),a("div",Pi,[I(l.slug,j)?(h(),f("span",Ii,"✓")):(h(),f("span",ji))])]),a("div",Bi,[(fe=S.metadata)!=null&&fe.description?(h(),f("div",Di,b(S.metadata.description),1)):w("",!0),(Te=S.metadata)!=null&&Te.tags&&S.metadata.tags.length>0?(h(),f("div",Mi,[(h(!0),f(V,null,K(S.metadata.tags,Ie=>(h(),f("span",{key:Ie,class:"tag"},b(Ie),1))),128))])):w("",!0)]),k.value==="detailed"&&S.content?(h(),f("div",qi,[a("div",Hi,[a("pre",null,b(S.content.substring(0,Se))+b(S.content.length>Se?"...":""),1)])])):w("",!0)],10,Ti)}),128))])])):w("",!0)],10,fi))),128))])],512),[[st,E.value==="models"]])]),te(a("div",Vi,[m[9]||(m[9]=a("h2",null,"角色（可选）",-1)),a("div",Ki,[(h(!0),f(V,null,K(i.value,(l,S)=>{var j,H;return h(),f("div",{key:S,class:Y(["item-card",{selected:((j=r.value)==null?void 0:j.name)===S}]),onClick:X=>le(S,l)},[a("div",Ji,[a("input",{type:"radio",name:"role",checked:((H=r.value)==null?void 0:H.name)===S,onChange:X=>le(S,l),class:"custom-radio"},null,40,Wi),a("div",Gi,[a("h3",Yi,b(S),1)])]),l.content||l.metadata?(h(),f("div",Xi,[k.value==="simple"&&l.metadata?(h(),f("div",Qi,[l.metadata.title?(h(),f("h5",Zi,b(l.metadata.title),1)):w("",!0),l.metadata.description?(h(),f("p",el,b(l.metadata.description),1)):w("",!0),l.metadata.traits?(h(),f("div",tl,[m[8]||(m[8]=a("span",{class:"traits-label"},"特质:",-1)),a("span",sl,b(Array.isArray(l.metadata.traits)?l.metadata.traits.join(", "):l.metadata.traits),1)])):w("",!0)])):(h(),f("div",nl,[l.metadata?(h(),f("div",ol,[a("h5",null,b(l.metadata.title||S),1),l.metadata.description?(h(),f("p",al,b(l.metadata.description),1)):w("",!0)])):w("",!0),l.content?(h(),f("p",rl,b(l.content.substring(0,Se))+b(l.content.length>Se?"...":""),1)):w("",!0)]))])):w("",!0)],10,zi)}),128))])],512),[[st,E.value==="roles"]]),te(a("div",il,[m[10]||(m[10]=a("h2",null,"命令（可选）",-1)),a("div",ll,[(h(!0),f(V,null,K(c.value,(l,S)=>(h(),f("div",{key:S,class:Y(["item-card",{selected:_.value.some(j=>j.name===S)}]),onClick:j=>we(S,l)},[a("div",ul,[a("input",{type:"checkbox",checked:_.value.some(j=>j.name===S),onChange:j=>we(S,l),class:"custom-checkbox"},null,40,dl),a("div",fl,[a("h3",hl,b(S),1)])]),l.content||l.metadata?(h(),f("div",pl,[k.value==="simple"&&l.metadata?(h(),f("div",ml,[l.metadata.title?(h(),f("h5",vl,b(l.metadata.title),1)):w("",!0),l.metadata.description?(h(),f("p",gl,b(l.metadata.description),1)):w("",!0),l.metadata.category||l.metadata.tags?(h(),f("div",yl,[l.metadata.category?(h(),f("span",_l,b(l.metadata.category),1)):w("",!0),l.metadata.tags&&l.metadata.tags.length>0?(h(),f("span",bl,b(l.metadata.tags.join(", ")),1)):w("",!0)])):w("",!0)])):(h(),f("div",wl,[l.metadata?(h(),f("div",kl,[a("h5",null,b(l.metadata.title||S),1),l.metadata.description?(h(),f("p",Sl,b(l.metadata.description),1)):w("",!0)])):w("",!0),l.content?(h(),f("pre",Cl,b(l.content.substring(0,Se))+b(l.content.length>Se?"...":""),1)):w("",!0)]))])):w("",!0)],10,cl))),128))])],512),[[st,E.value==="commands"]])]),a("div",El,[a("div",Rl,[a("div",Ol,[m[11]||(m[11]=a("h2",null,"配置预览",-1)),a("div",Tl,[a("div",Al,[a("button",{class:Y(["mode-btn",{active:k.value==="detailed"}]),onClick:m[3]||(m[3]=l=>k.value="detailed")}," 详细 ",2),a("button",{class:Y(["mode-btn",{active:k.value==="simple"}]),onClick:m[4]||(m[4]=l=>k.value="simple")}," 简洁 ",2)])])]),M.value?(h(),f("div",$l,[a("div",xl,[o.value.length>0?(h(),f("div",Nl,[a("div",Fl,[m[12]||(m[12]=a("div",{class:"card-icon"},"🤖",-1)),a("h3",null,"模式 ("+b(o.value.length)+")",1)]),a("div",Ul,[(h(!0),f(V,null,K(o.value,l=>(h(),f("div",{key:l.slug,class:"model-item"},[a("div",Ll,[a("span",Pl,b(l.name),1),a("span",Il,"("+b(l.slug)+")",1)]),k.value==="simple"&&l.metadata?(h(),f("div",jl,[l.metadata.description?(h(),f("p",Bl,b(l.metadata.description),1)):w("",!0),l.metadata.category||l.metadata.tags?(h(),f("div",Dl,[l.metadata.category?(h(),f("span",Ml,b(l.metadata.category),1)):w("",!0),l.metadata.tags&&l.metadata.tags.length>0?(h(),f("span",ql,b(l.metadata.tags.join(", ")),1)):w("",!0)])):w("",!0)])):y.value[l.slug]&&y.value[l.slug].length>0?(h(),f("div",Hl,[(h(!0),f(V,null,K(y.value[l.slug],S=>{var j,H,X;return h(),f("div",{key:S,class:"rule-item-small"},[a("span",Vl,b(((X=(H=(j=g.value[l.slug])==null?void 0:j[S])==null?void 0:H.metadata)==null?void 0:X.title)||S),1)])}),128))])):w("",!0)]))),128))])])):w("",!0),r.value?(h(),f("div",Kl,[m[14]||(m[14]=a("div",{class:"card-header"},[a("div",{class:"card-icon"},"🎭"),a("h3",null,"选择的角色")],-1)),a("div",zl,[a("div",Jl,[a("span",Wl,b(r.value.name),1),k.value==="simple"&&r.value.metadata?(h(),f("div",Gl,[r.value.metadata.description?(h(),f("p",Yl,b(r.value.metadata.description),1)):w("",!0),r.value.metadata.traits?(h(),f("div",Xl,[m[13]||(m[13]=a("span",{class:"traits-label"},"特质:",-1)),a("span",Ql,b(Array.isArray(r.value.metadata.traits)?r.value.metadata.traits.join(", "):r.value.metadata.traits),1)])):w("",!0)])):w("",!0)])])])):w("",!0),_.value.length>0?(h(),f("div",Zl,[a("div",ec,[m[15]||(m[15]=a("div",{class:"card-icon"},"⚡",-1)),a("h3",null,"命令 ("+b(_.value.length)+")",1)]),a("div",tc,[a("div",sc,[(h(!0),f(V,null,K(_.value,l=>(h(),f("div",{key:l.name,class:"command-chip"},[a("span",nc,b(l.name),1),k.value==="simple"&&l.metadata?(h(),f("div",oc,[l.metadata.description?(h(),f("p",ac,b(l.metadata.description),1)):w("",!0),l.metadata.category||l.metadata.priority?(h(),f("div",rc,[l.metadata.category?(h(),f("span",ic,b(l.metadata.category),1)):w("",!0),l.metadata.priority?(h(),f("span",{key:1,class:Y(["priority-tag",l.metadata.priority])},b(l.metadata.priority),3)):w("",!0)])):w("",!0)])):w("",!0)]))),128))])])])):w("",!0)])])):w("",!0),p.value.before||p.value.after?(h(),f("div",lc,[a("div",cc,[m[16]||(m[16]=a("div",{class:"card-icon"},"🔗",-1)),a("h3",null,"钩子 ("+b((p.value.before?1:0)+(p.value.after?1:0))+")",1)]),a("div",uc,[a("div",dc,[p.value.before?(h(),f("div",fc,[m[17]||(m[17]=a("div",{class:"hook-name"},[a("span",{class:"name-text"},"before"),a("span",{class:"hook-type"},"前置钩子")],-1)),k.value==="simple"&&p.value.before.metadata?(h(),f("div",hc,[p.value.before.metadata.title?(h(),f("p",pc,b(p.value.before.metadata.title),1)):w("",!0),p.value.before.metadata.description?(h(),f("p",mc,b(p.value.before.metadata.description),1)):w("",!0),p.value.before.metadata.category?(h(),f("div",vc,[a("span",gc,b(p.value.before.metadata.category),1)])):w("",!0)])):w("",!0)])):w("",!0),p.value.after?(h(),f("div",yc,[m[18]||(m[18]=a("div",{class:"hook-name"},[a("span",{class:"name-text"},"after"),a("span",{class:"hook-type"},"后置钩子")],-1)),k.value==="simple"&&p.value.after.metadata?(h(),f("div",_c,[p.value.after.metadata.title?(h(),f("p",bc,b(p.value.after.metadata.title),1)):w("",!0),p.value.after.metadata.description?(h(),f("p",wc,b(p.value.after.metadata.description),1)):w("",!0),p.value.after.metadata.category?(h(),f("div",kc,[a("span",Sc,b(p.value.after.metadata.category),1)])):w("",!0)])):w("",!0)])):w("",!0)])])])):(h(),f("div",Cc,[...m[19]||(m[19]=[a("div",{class:"empty-icon"},"📋",-1),a("p",null,"请选择配置项以查看预览",-1)])]))]),a("div",Ec,[a("button",{class:"btn btn-primary",disabled:!B.value,onClick:W},[...m[20]||(m[20]=[a("span",{class:"btn-icon"},"📥",-1),me(" 导出配置 ",-1)])],8,Rc),a("button",{class:"btn btn-secondary",onClick:O},[...m[21]||(m[21]=[a("span",{class:"btn-icon"},"💾",-1),me(" 保存配置 ",-1)])]),a("button",{class:"btn btn-secondary",onClick:C},[...m[22]||(m[22]=[a("span",{class:"btn-icon"},"🔄",-1),me(" 重置选择 ",-1)])])])])])]),ct(Yr,{show:A.value,"onUpdate:show":m[5]||(m[5]=l=>A.value=l),onSave:v,onLoad:L},null,8,["show"])]))}});const xc=yt(Tc,[["__scopeId","data-v-a834c187"]]);export{xc as default};
