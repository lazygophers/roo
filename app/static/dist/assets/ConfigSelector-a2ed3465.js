var gs=Object.defineProperty;var ys=(e,t,s)=>t in e?gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ce=(e,t,s)=>(ys(e,typeof t!="symbol"?t+"":t,s),s);import{d as Ve,g as F,h as Y,i as gt,c as u,a as r,j as he,v as Re,u as Me,k as Pe,l as me,m as E,F as z,n as K,o as d,p as Q,t as y,b as de,q as yt,_ as Je,s as _s,x as Ht,e as ct,y as nt,z as bs}from"./index-960e35c6.js";function zt(e,t){return function(){return e.apply(t,arguments)}}const{toString:ws}=Object.prototype,{getPrototypeOf:_t}=Object,{iterator:We,toStringTag:Kt}=Symbol,Ge=(e=>t=>{const s=ws.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ae=e=>(e=e.toLowerCase(),t=>Ge(t)===e),Ye=e=>t=>typeof t===e,{isArray:be}=Array,$e=Ye("undefined");function Oe(e){return e!==null&&!$e(e)&&e.constructor!==null&&!$e(e.constructor)&&se(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vt=ae("ArrayBuffer");function ks(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Vt(e.buffer),t}const Cs=Ye("string"),se=Ye("function"),Jt=Ye("number"),Te=e=>e!==null&&typeof e=="object",Ss=e=>e===!0||e===!1,je=e=>{if(Ge(e)!=="object")return!1;const t=_t(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Kt in e)&&!(We in e)},Es=e=>{if(!Te(e)||Oe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Rs=ae("Date"),$s=ae("File"),Os=ae("Blob"),Ts=ae("FileList"),xs=e=>Te(e)&&se(e.pipe),As=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||se(e.append)&&((t=Ge(e))==="formdata"||t==="object"&&se(e.toString)&&e.toString()==="[object FormData]"))},Ns=ae("URLSearchParams"),[Ls,Fs,Ps,Us]=["ReadableStream","Request","Response","Headers"].map(ae),js=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xe(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),be(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Oe(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let c;for(n=0;n<a;n++)c=i[n],t.call(null,e[c],c,e)}}function Wt(e,t){if(Oe(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,o;for(;n-- >0;)if(o=s[n],t===o.toLowerCase())return o;return null}const ve=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Gt=e=>!$e(e)&&e!==ve;function ut(){const{caseless:e}=Gt(this)&&this||{},t={},s=(n,o)=>{const i=e&&Wt(t,o)||o;je(t[i])&&je(n)?t[i]=ut(t[i],n):je(n)?t[i]=ut({},n):be(n)?t[i]=n.slice():t[i]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&xe(arguments[n],s);return t}const Is=(e,t,s,{allOwnKeys:n}={})=>(xe(t,(o,i)=>{s&&se(o)?e[i]=zt(o,s):e[i]=o},{allOwnKeys:n}),e),Bs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ds=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Ms=(e,t,s,n)=>{let o,i,a;const c={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!n||n(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=s!==!1&&_t(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},qs=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Hs=e=>{if(!e)return null;if(be(e))return e;let t=e.length;if(!Jt(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},zs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&_t(Uint8Array)),Ks=(e,t)=>{const n=(e&&e[We]).call(e);let o;for(;(o=n.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Vs=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Js=ae("HTMLFormElement"),Ws=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,o){return n.toUpperCase()+o}),$t=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Gs=ae("RegExp"),Yt=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};xe(s,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(n[i]=a||o)}),Object.defineProperties(e,n)},Ys=e=>{Yt(e,(t,s)=>{if(se(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(se(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Xs=(e,t)=>{const s={},n=o=>{o.forEach(i=>{s[i]=!0})};return be(e)?n(e):n(String(e).split(t)),s},Qs=()=>{},Zs=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function en(e){return!!(e&&se(e.append)&&e[Kt]==="FormData"&&e[We])}const tn=e=>{const t=new Array(10),s=(n,o)=>{if(Te(n)){if(t.indexOf(n)>=0)return;if(Oe(n))return n;if(!("toJSON"in n)){t[o]=n;const i=be(n)?[]:{};return xe(n,(a,c)=>{const g=s(a,o+1);!$e(g)&&(i[c]=g)}),t[o]=void 0,i}}return n};return s(e,0)},sn=ae("AsyncFunction"),nn=e=>e&&(Te(e)||se(e))&&se(e.then)&&se(e.catch),Xt=((e,t)=>e?setImmediate:t?((s,n)=>(ve.addEventListener("message",({source:o,data:i})=>{o===ve&&i===s&&n.length&&n.shift()()},!1),o=>{n.push(o),ve.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",se(ve.postMessage)),on=typeof queueMicrotask<"u"?queueMicrotask.bind(ve):typeof process<"u"&&process.nextTick||Xt,rn=e=>e!=null&&se(e[We]),f={isArray:be,isArrayBuffer:Vt,isBuffer:Oe,isFormData:As,isArrayBufferView:ks,isString:Cs,isNumber:Jt,isBoolean:Ss,isObject:Te,isPlainObject:je,isEmptyObject:Es,isReadableStream:Ls,isRequest:Fs,isResponse:Ps,isHeaders:Us,isUndefined:$e,isDate:Rs,isFile:$s,isBlob:Os,isRegExp:Gs,isFunction:se,isStream:xs,isURLSearchParams:Ns,isTypedArray:zs,isFileList:Ts,forEach:xe,merge:ut,extend:Is,trim:js,stripBOM:Bs,inherits:Ds,toFlatObject:Ms,kindOf:Ge,kindOfTest:ae,endsWith:qs,toArray:Hs,forEachEntry:Ks,matchAll:Vs,isHTMLForm:Js,hasOwnProperty:$t,hasOwnProp:$t,reduceDescriptors:Yt,freezeMethods:Ys,toObjectSet:Xs,toCamelCase:Ws,noop:Qs,toFiniteNumber:Zs,findKey:Wt,global:ve,isContextDefined:Gt,isSpecCompliantForm:en,toJSONObject:tn,isAsyncFn:sn,isThenable:nn,setImmediate:Xt,asap:on,isIterable:rn};function U(e,t,s,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}f.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const Qt=U.prototype,Zt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zt[e]={value:e}});Object.defineProperties(U,Zt);Object.defineProperty(Qt,"isAxiosError",{value:!0});U.from=(e,t,s,n,o,i)=>{const a=Object.create(Qt);return f.toFlatObject(e,a,function(g){return g!==Error.prototype},c=>c!=="isAxiosError"),U.call(a,e.message,t,s,n,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const an=null;function dt(e){return f.isPlainObject(e)||f.isArray(e)}function es(e){return f.endsWith(e,"[]")?e.slice(0,-2):e}function Ot(e,t,s){return e?e.concat(t).map(function(o,i){return o=es(o),!s&&i?"["+o+"]":o}).join(s?".":""):t}function ln(e){return f.isArray(e)&&!e.some(dt)}const cn=f.toFlatObject(f,{},null,function(t){return/^is[A-Z]/.test(t)});function Xe(e,t,s){if(!f.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=f.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,k){return!f.isUndefined(k[R])});const n=s.metaTokens,o=s.visitor||m,i=s.dots,a=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(t);if(!f.isFunction(o))throw new TypeError("visitor must be a function");function p(w){if(w===null)return"";if(f.isDate(w))return w.toISOString();if(f.isBoolean(w))return w.toString();if(!g&&f.isBlob(w))throw new U("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(w)||f.isTypedArray(w)?g&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,R,k){let S=w;if(w&&!k&&typeof w=="object"){if(f.endsWith(R,"{}"))R=n?R:R.slice(0,-2),w=JSON.stringify(w);else if(f.isArray(w)&&ln(w)||(f.isFileList(w)||f.endsWith(R,"[]"))&&(S=f.toArray(w)))return R=es(R),S.forEach(function(j,V){!(f.isUndefined(j)||j===null)&&t.append(a===!0?Ot([R],V,i):a===null?R:R+"[]",p(j))}),!1}return dt(w)?!0:(t.append(Ot(k,R,i),p(w)),!1)}const _=[],C=Object.assign(cn,{defaultVisitor:m,convertValue:p,isVisitable:dt});function N(w,R){if(!f.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+R.join("."));_.push(w),f.forEach(w,function(S,L){(!(f.isUndefined(S)||S===null)&&o.call(t,S,f.isString(L)?L.trim():L,R,C))===!0&&N(S,R?R.concat(L):[L])}),_.pop()}}if(!f.isObject(e))throw new TypeError("data must be an object");return N(e),t}function Tt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function bt(e,t){this._pairs=[],e&&Xe(e,this,t)}const ts=bt.prototype;ts.append=function(t,s){this._pairs.push([t,s])};ts.toString=function(t){const s=t?function(n){return t.call(this,n,Tt)}:Tt;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function un(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ss(e,t,s){if(!t)return e;const n=s&&s.encode||un;f.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let i;if(o?i=o(t,s):i=f.isURLSearchParams(t)?t.toString():new bt(t,s).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class dn{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){f.forEach(this.handlers,function(n){n!==null&&t(n)})}}const xt=dn,ns={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fn=typeof URLSearchParams<"u"?URLSearchParams:bt,pn=typeof FormData<"u"?FormData:null,hn=typeof Blob<"u"?Blob:null,mn={isBrowser:!0,classes:{URLSearchParams:fn,FormData:pn,Blob:hn},protocols:["http","https","file","blob","url","data"]},wt=typeof window<"u"&&typeof document<"u",ft=typeof navigator=="object"&&navigator||void 0,vn=wt&&(!ft||["ReactNative","NativeScript","NS"].indexOf(ft.product)<0),gn=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),yn=wt&&window.location.href||"http://localhost",_n=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wt,hasStandardBrowserEnv:vn,hasStandardBrowserWebWorkerEnv:gn,navigator:ft,origin:yn},Symbol.toStringTag,{value:"Module"})),Z={..._n,...mn};function bn(e,t){return Xe(e,new Z.classes.URLSearchParams,{visitor:function(s,n,o,i){return Z.isNode&&f.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function wn(e){return f.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function kn(e){const t={},s=Object.keys(e);let n;const o=s.length;let i;for(n=0;n<o;n++)i=s[n],t[i]=e[i];return t}function os(e){function t(s,n,o,i){let a=s[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),g=i>=s.length;return a=!a&&f.isArray(o)?o.length:a,g?(f.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!c):((!o[a]||!f.isObject(o[a]))&&(o[a]=[]),t(s,n,o[a],i)&&f.isArray(o[a])&&(o[a]=kn(o[a])),!c)}if(f.isFormData(e)&&f.isFunction(e.entries)){const s={};return f.forEachEntry(e,(n,o)=>{t(wn(n),o,s,0)}),s}return null}function Cn(e,t,s){if(f.isString(e))try{return(t||JSON.parse)(e),f.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const kt={transitional:ns,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",o=n.indexOf("application/json")>-1,i=f.isObject(t);if(i&&f.isHTMLForm(t)&&(t=new FormData(t)),f.isFormData(t))return o?JSON.stringify(os(t)):t;if(f.isArrayBuffer(t)||f.isBuffer(t)||f.isStream(t)||f.isFile(t)||f.isBlob(t)||f.isReadableStream(t))return t;if(f.isArrayBufferView(t))return t.buffer;if(f.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return bn(t,this.formSerializer).toString();if((c=f.isFileList(t))||n.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Xe(c?{"files[]":t}:t,g&&new g,this.formSerializer)}}return i||o?(s.setContentType("application/json",!1),Cn(t)):t}],transformResponse:[function(t){const s=this.transitional||kt.transitional,n=s&&s.forcedJSONParsing,o=this.responseType==="json";if(f.isResponse(t)||f.isReadableStream(t))return t;if(t&&f.isString(t)&&(n&&!this.responseType||o)){const a=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?U.from(c,U.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Z.classes.FormData,Blob:Z.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],e=>{kt.headers[e]={}});const Ct=kt,Sn=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),En=e=>{const t={};let s,n,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),s=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!s||t[s]&&Sn[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},At=Symbol("internals");function Se(e){return e&&String(e).trim().toLowerCase()}function Ie(e){return e===!1||e==null?e:f.isArray(e)?e.map(Ie):String(e)}function Rn(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const $n=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ot(e,t,s,n,o){if(f.isFunction(n))return n.call(this,t,s);if(o&&(t=s),!!f.isString(t)){if(f.isString(n))return t.indexOf(n)!==-1;if(f.isRegExp(n))return n.test(t)}}function On(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Tn(e,t){const s=f.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(o,i,a){return this[n].call(this,t,o,i,a)},configurable:!0})})}class Qe{constructor(t){t&&this.set(t)}set(t,s,n){const o=this;function i(c,g,p){const m=Se(g);if(!m)throw new Error("header name must be a non-empty string");const _=f.findKey(o,m);(!_||o[_]===void 0||p===!0||p===void 0&&o[_]!==!1)&&(o[_||g]=Ie(c))}const a=(c,g)=>f.forEach(c,(p,m)=>i(p,m,g));if(f.isPlainObject(t)||t instanceof this.constructor)a(t,s);else if(f.isString(t)&&(t=t.trim())&&!$n(t))a(En(t),s);else if(f.isObject(t)&&f.isIterable(t)){let c={},g,p;for(const m of t){if(!f.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[p=m[0]]=(g=c[p])?f.isArray(g)?[...g,m[1]]:[g,m[1]]:m[1]}a(c,s)}else t!=null&&i(s,t,n);return this}get(t,s){if(t=Se(t),t){const n=f.findKey(this,t);if(n){const o=this[n];if(!s)return o;if(s===!0)return Rn(o);if(f.isFunction(s))return s.call(this,o,n);if(f.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Se(t),t){const n=f.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||ot(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let o=!1;function i(a){if(a=Se(a),a){const c=f.findKey(n,a);c&&(!s||ot(n,n[c],c,s))&&(delete n[c],o=!0)}}return f.isArray(t)?t.forEach(i):i(t),o}clear(t){const s=Object.keys(this);let n=s.length,o=!1;for(;n--;){const i=s[n];(!t||ot(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const s=this,n={};return f.forEach(this,(o,i)=>{const a=f.findKey(n,i);if(a){s[a]=Ie(o),delete s[i];return}const c=t?On(i):String(i).trim();c!==i&&delete s[i],s[c]=Ie(o),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return f.forEach(this,(n,o)=>{n!=null&&n!==!1&&(s[o]=t&&f.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[At]=this[At]={accessors:{}}).accessors,o=this.prototype;function i(a){const c=Se(a);n[c]||(Tn(o,a),n[c]=!0)}return f.isArray(t)?t.forEach(i):i(t),this}}Qe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(Qe.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});f.freezeMethods(Qe);const re=Qe;function rt(e,t){const s=this||Ct,n=t||s,o=re.from(n.headers);let i=n.data;return f.forEach(e,function(c){i=c.call(s,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function rs(e){return!!(e&&e.__CANCEL__)}function we(e,t,s){U.call(this,e??"canceled",U.ERR_CANCELED,t,s),this.name="CanceledError"}f.inherits(we,U,{__CANCEL__:!0});function as(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new U("Request failed with status code "+s.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function xn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function An(e,t){e=e||10;const s=new Array(e),n=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(g){const p=Date.now(),m=n[i];a||(a=p),s[o]=g,n[o]=p;let _=i,C=0;for(;_!==o;)C+=s[_++],_=_%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),p-a<t)return;const N=m&&p-m;return N?Math.round(C*1e3/N):void 0}}function Nn(e,t){let s=0,n=1e3/t,o,i;const a=(p,m=Date.now())=>{s=m,o=null,i&&(clearTimeout(i),i=null),e(...p)};return[(...p)=>{const m=Date.now(),_=m-s;_>=n?a(p,m):(o=p,i||(i=setTimeout(()=>{i=null,a(o)},n-_)))},()=>o&&a(o)]}const qe=(e,t,s=3)=>{let n=0;const o=An(50,250);return Nn(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,g=a-n,p=o(g),m=a<=c;n=a;const _={loaded:a,total:c,progress:c?a/c:void 0,bytes:g,rate:p||void 0,estimated:p&&c&&m?(c-a)/p:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(_)},s)},Nt=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Lt=e=>(...t)=>f.asap(()=>e(...t)),Ln=Z.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Z.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Z.origin),Z.navigator&&/(msie|trident)/i.test(Z.navigator.userAgent)):()=>!0,Fn=Z.hasStandardBrowserEnv?{write(e,t,s,n,o,i){const a=[e+"="+encodeURIComponent(t)];f.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),f.isString(n)&&a.push("path="+n),f.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Pn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Un(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function is(e,t,s){let n=!Pn(t);return e&&(n||s==!1)?Un(e,t):t}const Ft=e=>e instanceof re?{...e}:e;function ge(e,t){t=t||{};const s={};function n(p,m,_,C){return f.isPlainObject(p)&&f.isPlainObject(m)?f.merge.call({caseless:C},p,m):f.isPlainObject(m)?f.merge({},m):f.isArray(m)?m.slice():m}function o(p,m,_,C){if(f.isUndefined(m)){if(!f.isUndefined(p))return n(void 0,p,_,C)}else return n(p,m,_,C)}function i(p,m){if(!f.isUndefined(m))return n(void 0,m)}function a(p,m){if(f.isUndefined(m)){if(!f.isUndefined(p))return n(void 0,p)}else return n(void 0,m)}function c(p,m,_){if(_ in t)return n(p,m);if(_ in e)return n(void 0,p)}const g={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(p,m,_)=>o(Ft(p),Ft(m),_,!0)};return f.forEach(Object.keys({...e,...t}),function(m){const _=g[m]||o,C=_(e[m],t[m],m);f.isUndefined(C)&&_!==c||(s[m]=C)}),s}const ls=e=>{const t=ge({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:c}=t;t.headers=a=re.from(a),t.url=ss(is(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let g;if(f.isFormData(s)){if(Z.hasStandardBrowserEnv||Z.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((g=a.getContentType())!==!1){const[p,...m]=g?g.split(";").map(_=>_.trim()).filter(Boolean):[];a.setContentType([p||"multipart/form-data",...m].join("; "))}}if(Z.hasStandardBrowserEnv&&(n&&f.isFunction(n)&&(n=n(t)),n||n!==!1&&Ln(t.url))){const p=o&&i&&Fn.read(i);p&&a.set(o,p)}return t},jn=typeof XMLHttpRequest<"u",In=jn&&function(e){return new Promise(function(s,n){const o=ls(e);let i=o.data;const a=re.from(o.headers).normalize();let{responseType:c,onUploadProgress:g,onDownloadProgress:p}=o,m,_,C,N,w;function R(){N&&N(),w&&w(),o.cancelToken&&o.cancelToken.unsubscribe(m),o.signal&&o.signal.removeEventListener("abort",m)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function S(){if(!k)return;const j=re.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),H={data:!c||c==="text"||c==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:j,config:e,request:k};as(function(M){s(M),R()},function(M){n(M),R()},H),k=null}"onloadend"in k?k.onloadend=S:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(S)},k.onabort=function(){k&&(n(new U("Request aborted",U.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new U("Network Error",U.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let V=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const H=o.transitional||ns;o.timeoutErrorMessage&&(V=o.timeoutErrorMessage),n(new U(V,H.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,e,k)),k=null},i===void 0&&a.setContentType(null),"setRequestHeader"in k&&f.forEach(a.toJSON(),function(V,H){k.setRequestHeader(H,V)}),f.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),c&&c!=="json"&&(k.responseType=o.responseType),p&&([C,w]=qe(p,!0),k.addEventListener("progress",C)),g&&k.upload&&([_,N]=qe(g),k.upload.addEventListener("progress",_),k.upload.addEventListener("loadend",N)),(o.cancelToken||o.signal)&&(m=j=>{k&&(n(!j||j.type?new we(null,e,k):j),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(m),o.signal&&(o.signal.aborted?m():o.signal.addEventListener("abort",m)));const L=xn(o.url);if(L&&Z.protocols.indexOf(L)===-1){n(new U("Unsupported protocol "+L+":",U.ERR_BAD_REQUEST,e));return}k.send(i||null)})},Bn=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,o;const i=function(p){if(!o){o=!0,c();const m=p instanceof Error?p:this.reason;n.abort(m instanceof U?m:new we(m instanceof Error?m.message:m))}};let a=t&&setTimeout(()=>{a=null,i(new U(`timeout ${t} of ms exceeded`,U.ETIMEDOUT))},t);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(i):p.removeEventListener("abort",i)}),e=null)};e.forEach(p=>p.addEventListener("abort",i));const{signal:g}=n;return g.unsubscribe=()=>f.asap(c),g}},Dn=Bn,Mn=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let n=0,o;for(;n<s;)o=n+t,yield e.slice(n,o),n=o},qn=async function*(e,t){for await(const s of Hn(e))yield*Mn(s,t)},Hn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Pt=(e,t,s,n)=>{const o=qn(e,t);let i=0,a,c=g=>{a||(a=!0,n&&n(g))};return new ReadableStream({async pull(g){try{const{done:p,value:m}=await o.next();if(p){c(),g.close();return}let _=m.byteLength;if(s){let C=i+=_;s(C)}g.enqueue(new Uint8Array(m))}catch(p){throw c(p),p}},cancel(g){return c(g),o.return()}},{highWaterMark:2})},Ze=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cs=Ze&&typeof ReadableStream=="function",zn=Ze&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),us=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Kn=cs&&us(()=>{let e=!1;const t=new Request(Z.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ut=64*1024,pt=cs&&us(()=>f.isReadableStream(new Response("").body)),He={stream:pt&&(e=>e.body)};Ze&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!He[t]&&(He[t]=f.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new U(`Response type '${t}' is not supported`,U.ERR_NOT_SUPPORT,n)})})})(new Response);const Vn=async e=>{if(e==null)return 0;if(f.isBlob(e))return e.size;if(f.isSpecCompliantForm(e))return(await new Request(Z.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(f.isArrayBufferView(e)||f.isArrayBuffer(e))return e.byteLength;if(f.isURLSearchParams(e)&&(e=e+""),f.isString(e))return(await zn(e)).byteLength},Jn=async(e,t)=>{const s=f.toFiniteNumber(e.getContentLength());return s??Vn(t)},Wn=Ze&&(async e=>{let{url:t,method:s,data:n,signal:o,cancelToken:i,timeout:a,onDownloadProgress:c,onUploadProgress:g,responseType:p,headers:m,withCredentials:_="same-origin",fetchOptions:C}=ls(e);p=p?(p+"").toLowerCase():"text";let N=Dn([o,i&&i.toAbortSignal()],a),w;const R=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let k;try{if(g&&Kn&&s!=="get"&&s!=="head"&&(k=await Jn(m,n))!==0){let H=new Request(t,{method:"POST",body:n,duplex:"half"}),I;if(f.isFormData(n)&&(I=H.headers.get("content-type"))&&m.setContentType(I),H.body){const[M,X]=Nt(k,qe(Lt(g)));n=Pt(H.body,Ut,M,X)}}f.isString(_)||(_=_?"include":"omit");const S="credentials"in Request.prototype;w=new Request(t,{...C,signal:N,method:s.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:S?_:void 0});let L=await fetch(w,C);const j=pt&&(p==="stream"||p==="response");if(pt&&(c||j&&R)){const H={};["status","statusText","headers"].forEach(ne=>{H[ne]=L[ne]});const I=f.toFiniteNumber(L.headers.get("content-length")),[M,X]=c&&Nt(I,qe(Lt(c),!0))||[];L=new Response(Pt(L.body,Ut,M,()=>{X&&X(),R&&R()}),H)}p=p||"text";let V=await He[f.findKey(He,p)||"text"](L,e);return!j&&R&&R(),await new Promise((H,I)=>{as(H,I,{data:V,headers:re.from(L.headers),status:L.status,statusText:L.statusText,config:e,request:w})})}catch(S){throw R&&R(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new U("Network Error",U.ERR_NETWORK,e,w),{cause:S.cause||S}):U.from(S,S&&S.code,e,w)}}),ht={http:an,xhr:In,fetch:Wn};f.forEach(ht,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const jt=e=>`- ${e}`,Gn=e=>f.isFunction(e)||e===null||e===!1,ds={getAdapter:e=>{e=f.isArray(e)?e:[e];const{length:t}=e;let s,n;const o={};for(let i=0;i<t;i++){s=e[i];let a;if(n=s,!Gn(s)&&(n=ht[(a=String(s)).toLowerCase()],n===void 0))throw new U(`Unknown adapter '${a}'`);if(n)break;o[a||"#"+i]=n}if(!n){const i=Object.entries(o).map(([c,g])=>`adapter ${c} `+(g===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(jt).join(`
`):" "+jt(i[0]):"as no adapter specified";throw new U("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:ht};function at(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new we(null,e)}function It(e){return at(e),e.headers=re.from(e.headers),e.data=rt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ds.getAdapter(e.adapter||Ct.adapter)(e).then(function(n){return at(e),n.data=rt.call(e,e.transformResponse,n),n.headers=re.from(n.headers),n},function(n){return rs(n)||(at(e),n&&n.response&&(n.response.data=rt.call(e,e.transformResponse,n.response),n.response.headers=re.from(n.response.headers))),Promise.reject(n)})}const fs="1.11.0",et={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{et[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Bt={};et.transitional=function(t,s,n){function o(i,a){return"[Axios v"+fs+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,c)=>{if(t===!1)throw new U(o(a," has been removed"+(s?" in "+s:"")),U.ERR_DEPRECATED);return s&&!Bt[a]&&(Bt[a]=!0,console.warn(o(a," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,a,c):!0}};et.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Yn(e,t,s){if(typeof e!="object")throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],a=t[i];if(a){const c=e[i],g=c===void 0||a(c,i,e);if(g!==!0)throw new U("option "+i+" must be "+g,U.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new U("Unknown option "+i,U.ERR_BAD_OPTION)}}const Be={assertOptions:Yn,validators:et},ce=Be.validators;class ze{constructor(t){this.defaults=t||{},this.interceptors={request:new xt,response:new xt}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ge(this.defaults,s);const{transitional:n,paramsSerializer:o,headers:i}=s;n!==void 0&&Be.assertOptions(n,{silentJSONParsing:ce.transitional(ce.boolean),forcedJSONParsing:ce.transitional(ce.boolean),clarifyTimeoutError:ce.transitional(ce.boolean)},!1),o!=null&&(f.isFunction(o)?s.paramsSerializer={serialize:o}:Be.assertOptions(o,{encode:ce.function,serialize:ce.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Be.assertOptions(s,{baseUrl:ce.spelling("baseURL"),withXsrfToken:ce.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let a=i&&f.merge(i.common,i[s.method]);i&&f.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),s.headers=re.concat(a,i);const c=[];let g=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(s)===!1||(g=g&&R.synchronous,c.unshift(R.fulfilled,R.rejected))});const p=[];this.interceptors.response.forEach(function(R){p.push(R.fulfilled,R.rejected)});let m,_=0,C;if(!g){const w=[It.bind(this),void 0];for(w.unshift(...c),w.push(...p),C=w.length,m=Promise.resolve(s);_<C;)m=m.then(w[_++],w[_++]);return m}C=c.length;let N=s;for(_=0;_<C;){const w=c[_++],R=c[_++];try{N=w(N)}catch(k){R.call(this,k);break}}try{m=It.call(this,N)}catch(w){return Promise.reject(w)}for(_=0,C=p.length;_<C;)m=m.then(p[_++],p[_++]);return m}getUri(t){t=ge(this.defaults,t);const s=is(t.baseURL,t.url,t.allowAbsoluteUrls);return ss(s,t.params,t.paramsSerializer)}}f.forEach(["delete","get","head","options"],function(t){ze.prototype[t]=function(s,n){return this.request(ge(n||{},{method:t,url:s,data:(n||{}).data}))}});f.forEach(["post","put","patch"],function(t){function s(n){return function(i,a,c){return this.request(ge(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}ze.prototype[t]=s(),ze.prototype[t+"Form"]=s(!0)});const De=ze;class St{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(c=>{n.subscribe(c),i=c}).then(o);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,c){n.reason||(n.reason=new we(i,a,c),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new St(function(o){t=o}),cancel:t}}}const Xn=St;function Qn(e){return function(s){return e.apply(null,s)}}function Zn(e){return f.isObject(e)&&e.isAxiosError===!0}const mt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mt).forEach(([e,t])=>{mt[t]=e});const eo=mt;function ps(e){const t=new De(e),s=zt(De.prototype.request,t);return f.extend(s,De.prototype,t,{allOwnKeys:!0}),f.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return ps(ge(e,o))},s}const W=ps(Ct);W.Axios=De;W.CanceledError=we;W.CancelToken=Xn;W.isCancel=rs;W.VERSION=fs;W.toFormData=Xe;W.AxiosError=U;W.Cancel=W.CanceledError;W.all=function(t){return Promise.all(t)};W.spread=Qn;W.isAxiosError=Zn;W.mergeConfig=ge;W.AxiosHeaders=re;W.formToJSON=e=>os(f.isHTMLForm(e)?new FormData(e):e);W.getAdapter=ds.getAdapter;W.HttpStatusCode=eo;W.default=W;const to=W,it={baseURL:"",timeout:1e4,retryCount:3,headers:{"Content-Type":"application/json"}},pe=to.create({baseURL:it.baseURL,timeout:it.timeout,headers:it.headers});pe.interceptors.request.use(e=>e,e=>Promise.reject(e));pe.interceptors.response.use(e=>e.data,e=>(console.error("API Error:",e),Promise.reject(e)));var so=typeof global=="object"&&global&&global.Object===Object&&global;const no=so;var oo=typeof self=="object"&&self&&self.Object===Object&&self,ro=no||oo||Function("return this")();const hs=ro;var ao=hs.Symbol;const Ke=ao;var ms=Object.prototype,io=ms.hasOwnProperty,lo=ms.toString,Ee=Ke?Ke.toStringTag:void 0;function co(e){var t=io.call(e,Ee),s=e[Ee];try{e[Ee]=void 0;var n=!0}catch{}var o=lo.call(e);return n&&(t?e[Ee]=s:delete e[Ee]),o}var uo=Object.prototype,fo=uo.toString;function po(e){return fo.call(e)}var ho="[object Null]",mo="[object Undefined]",Dt=Ke?Ke.toStringTag:void 0;function vo(e){return e==null?e===void 0?mo:ho:Dt&&Dt in Object(e)?co(e):po(e)}function go(e){return e!=null&&typeof e=="object"}var yo="[object Symbol]";function _o(e){return typeof e=="symbol"||go(e)&&vo(e)==yo}var bo=/\s/;function wo(e){for(var t=e.length;t--&&bo.test(e.charAt(t)););return t}var ko=/^\s+/;function Co(e){return e&&e.slice(0,wo(e)+1).replace(ko,"")}function vt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mt=0/0,So=/^[-+]0x[0-9a-f]+$/i,Eo=/^0b[01]+$/i,Ro=/^0o[0-7]+$/i,$o=parseInt;function qt(e){if(typeof e=="number")return e;if(_o(e))return Mt;if(vt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Co(e);var s=Eo.test(e);return s||Ro.test(e)?$o(e.slice(2),s?2:8):So.test(e)?Mt:+e}var Oo=function(){return hs.Date.now()};const lt=Oo;var To="Expected a function",xo=Math.max,Ao=Math.min;function No(e,t,s){var n,o,i,a,c,g,p=0,m=!1,_=!1,C=!0;if(typeof e!="function")throw new TypeError(To);t=qt(t)||0,vt(s)&&(m=!!s.leading,_="maxWait"in s,i=_?xo(qt(s.maxWait)||0,t):i,C="trailing"in s?!!s.trailing:C);function N(I){var M=n,X=o;return n=o=void 0,p=I,a=e.apply(X,M),a}function w(I){return p=I,c=setTimeout(S,t),m?N(I):a}function R(I){var M=I-g,X=I-p,ne=t-M;return _?Ao(ne,i-X):ne}function k(I){var M=I-g,X=I-p;return g===void 0||M>=t||M<0||_&&X>=i}function S(){var I=lt();if(k(I))return L(I);c=setTimeout(S,R(I))}function L(I){return c=void 0,C&&n?N(I):(n=o=void 0,a)}function j(){c!==void 0&&clearTimeout(c),p=0,n=g=o=c=void 0}function V(){return c===void 0?a:L(lt())}function H(){var I=lt(),M=k(I);if(n=arguments,o=this,g=I,M){if(c===void 0)return w(g);if(_)return clearTimeout(c),c=setTimeout(S,t),N(g)}return c===void 0&&(c=setTimeout(S,t)),a}return H.cancel=j,H.flush=V,H}const Lo={class:"search-filter"},Fo={class:"search-container"},Po={class:"search-input-wrapper"},Uo=["placeholder"],jo={key:0,class:"suggestions-dropdown"},Io=["onClick","onMouseenter"],Bo=["innerHTML"],Do={class:"suggestion-type"},Mo={class:"filters-container"},qo={class:"filters-header"},Ho={class:"filters-content"},zo={class:"filter-group"},Ko={class:"filter-options"},Vo=["onClick"],Jo={class:"filter-group"},Wo={class:"filter-options"},Go=["onClick"],Yo={class:"filter-group"},Xo={class:"filter-options"},Qo=["onClick"],Zo={key:0,class:"active-filters"},er={class:"active-filter-chips"},tr=["onClick"],sr=["onClick"],nr=["onClick"],or=Ve({__name:"SearchFilter",props:{items:{default:()=>[]},searchFields:{default:()=>["name","description"]},placeholder:{default:"搜索规则..."},showFilters:{type:Boolean,default:!0}},emits:["search","filter"],setup(e,{emit:t}){const s=e,n=t,o=F(""),i=F(!1),a=F(-1),c=F([]),g=F([]),p=F([]),m=F([]),_=Y(()=>{if(!o.value.trim())return c.value.map(x=>({text:x,type:"历史"}));const P=o.value.toLowerCase(),O=new Set;return s.items.forEach(x=>{s.searchFields.forEach(G=>{const le=x[G];typeof le=="string"&&le.toLowerCase().includes(P)&&O.add(le)})}),Array.from(O).slice(0,10).map(x=>({text:x,type:"匹配"}))}),C=Y(()=>{const P=new Set;return s.items.forEach(O=>{var x;(x=O.metadata)!=null&&x.category&&P.add(O.metadata.category)}),Array.from(P).sort()}),N=Y(()=>{const P=new Set;return s.items.forEach(O=>{var x;(x=O.metadata)!=null&&x.tags&&O.metadata.tags.forEach(G=>P.add(G))}),Array.from(P).sort()}),w=Y(()=>{const P=new Set;return s.items.forEach(O=>{var x;(x=O.metadata)!=null&&x.priority&&P.add(O.metadata.priority)}),["critical","high","medium","low"].filter(O=>P.has(O))}),R=Y(()=>g.value.length>0||p.value.length>0||m.value.length>0),k=No(()=>{o.value.trim()&&n("search",o.value)},300),S=()=>{setTimeout(()=>{i.value=!1},200)},L=()=>{o.value="",a.value=-1,n("search","")},j=P=>{const O=_.value[P];O&&(o.value=O.text,I(O.text),n("search",O.text)),i.value=!1,a.value=-1},V=P=>{const O=_.value.length;O!==0&&(P==="down"?a.value=(a.value+1)%O:a.value=a.value<=0?O-1:a.value-1,yt(()=>{const x=document.querySelector(".suggestion-item.active");x&&x.scrollIntoView({block:"nearest"})}))},H=P=>{if(!o.value.trim())return P;const O=new RegExp(`(${o.value})`,"gi");return P.replace(O,"<mark>$1</mark>")},I=P=>{c.value=c.value.filter(O=>O!==P),c.value.unshift(P),c.value.length>20&&(c.value=c.value.slice(0,20)),localStorage.setItem("searchHistory",JSON.stringify(c.value))},M=P=>{const O=g.value.indexOf(P);O>-1?g.value.splice(O,1):g.value.push(P),ie()},X=P=>{const O=p.value.indexOf(P);O>-1?p.value.splice(O,1):p.value.push(P),ie()},ne=P=>{const O=m.value.indexOf(P);O>-1?m.value.splice(O,1):m.value.push(P),ie()},ie=()=>{n("filter",{categories:g.value,tags:p.value,priorities:m.value})},ke=()=>{g.value=[],p.value=[],m.value=[],ie()};return gt(o,P=>{P.trim()&&(a.value=-1)}),(()=>{try{const P=localStorage.getItem("searchHistory");P&&(c.value=JSON.parse(P))}catch(P){console.error("Failed to load search history:",P)}})(),(P,O)=>(d(),u("div",Lo,[r("div",Fo,[r("div",Po,[he(r("input",{ref:"searchInput","onUpdate:modelValue":O[0]||(O[0]=x=>o.value=x),type:"text",placeholder:P.placeholder,onInput:O[1]||(O[1]=(...x)=>Me(k)&&Me(k)(...x)),onFocus:O[2]||(O[2]=x=>i.value=!0),onBlur:S,onKeydown:[O[3]||(O[3]=Pe(me(x=>V("down"),["prevent"]),["down"])),O[4]||(O[4]=Pe(me(x=>V("up"),["prevent"]),["up"])),O[5]||(O[5]=Pe(me(x=>j(a.value),["prevent"]),["enter"])),O[6]||(O[6]=Pe(me(x=>i.value=!1,["prevent"]),["esc"]))]},null,40,Uo),[[Re,o.value]]),o.value?(d(),u("button",{key:0,class:"clear-btn",onClick:L,title:"清除搜索"}," ✕ ")):E("",!0)]),i.value&&_.value.length>0?(d(),u("div",jo,[(d(!0),u(z,null,K(_.value,(x,G)=>(d(),u("div",{key:`${x.text}-${G}`,class:Q(["suggestion-item",{active:G===a.value}]),onClick:le=>j(G),onMouseenter:le=>a.value=G},[r("span",{class:"suggestion-text",innerHTML:H(x.text)},null,8,Bo),r("span",Do,y(x.type),1)],42,Io))),128))])):E("",!0)]),r("div",Mo,[r("div",qo,[O[7]||(O[7]=r("span",null,"过滤器",-1)),R.value?(d(),u("button",{key:0,class:"clear-filters-btn",onClick:ke,title:"清除所有过滤器"}," 清除全部 ")):E("",!0)]),r("div",Ho,[r("div",zo,[O[8]||(O[8]=r("label",{class:"filter-label"},"分类",-1)),r("div",Ko,[(d(!0),u(z,null,K(C.value,x=>(d(),u("button",{key:x,class:Q(["filter-chip",{active:g.value.includes(x)}]),onClick:G=>M(x)},y(x),11,Vo))),128))])]),r("div",Jo,[O[9]||(O[9]=r("label",{class:"filter-label"},"标签",-1)),r("div",Wo,[(d(!0),u(z,null,K(N.value,x=>(d(),u("button",{key:x,class:Q(["filter-chip",{active:p.value.includes(x)}]),onClick:G=>X(x)},y(x),11,Go))),128))])]),r("div",Yo,[O[10]||(O[10]=r("label",{class:"filter-label"},"优先级",-1)),r("div",Xo,[(d(!0),u(z,null,K(w.value,x=>(d(),u("button",{key:x,class:Q(["filter-chip",{active:m.value.includes(x)}]),onClick:G=>ne(x)},y(x),11,Qo))),128))])])]),R.value?(d(),u("div",Zo,[O[11]||(O[11]=r("span",{class:"active-filters-label"},"已选过滤器：",-1)),r("div",er,[(d(!0),u(z,null,K(g.value,x=>(d(),u("span",{key:`cat-${x}`,class:"active-filter-chip category"},[de(" 分类: "+y(x)+" ",1),r("span",{class:"remove-filter",onClick:G=>M(x)},"×",8,tr)]))),128)),(d(!0),u(z,null,K(p.value,x=>(d(),u("span",{key:`tag-${x}`,class:"active-filter-chip tag"},[de(" 标签: "+y(x)+" ",1),r("span",{class:"remove-filter",onClick:G=>X(x)},"×",8,sr)]))),128)),(d(!0),u(z,null,K(m.value,x=>(d(),u("span",{key:`pri-${x}`,class:"active-filter-chip priority"},[de(" 优先级: "+y(x)+" ",1),r("span",{class:"remove-filter",onClick:G=>ne(x)},"×",8,nr)]))),128))])])):E("",!0)])]))}});const rr=Je(or,[["__scopeId","data-v-d1a12f02"]]);class ar{constructor(){Ce(this,"STORAGE_KEY","roo-configs");Ce(this,"VERSION_KEY","roo-configs-version");Ce(this,"BACKUP_KEY","roo-configs-backup");Ce(this,"CURRENT_VERSION","1.0.0")}async initialize(){const t=localStorage.getItem(this.VERSION_KEY);t?t!==this.CURRENT_VERSION&&await this.migrateData(t,this.CURRENT_VERSION):await this.createBackup(),localStorage.setItem(this.VERSION_KEY,this.CURRENT_VERSION)}async saveConfig(t,s,n){try{const o=await this.getAllConfigs(),i={id:this.generateId(),name:t,description:n||"",config:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:this.CURRENT_VERSION},a=o.findIndex(g=>g.name===t);a>=0?o[a]={...o[a],config:s,description:n||o[a].description,updatedAt:new Date().toISOString()}:o.push(i);const c=this.compressData(o);localStorage.setItem(this.STORAGE_KEY,c),await this.createBackup()}catch(o){throw console.error("Failed to save config:",o),new Error("保存配置失败")}}async getAllConfigs(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?this.decompressData(t)||[]:[]}catch(t){throw console.error("Failed to load configs:",t),new Error("加载配置失败")}}async loadConfig(t){try{const n=(await this.getAllConfigs()).find(o=>o.id===t);return n?n.config:null}catch(s){throw console.error("Failed to load config:",s),new Error("加载配置失败")}}async deleteConfig(t){try{const n=(await this.getAllConfigs()).filter(i=>i.id!==t),o=this.compressData(n);localStorage.setItem(this.STORAGE_KEY,o),await this.createBackup()}catch(s){throw console.error("Failed to delete config:",s),new Error("删除配置失败")}}async renameConfig(t,s){try{const n=await this.getAllConfigs(),o=n.find(a=>a.id===t);if(!o)throw new Error("配置不存在");o.name=s,o.updatedAt=new Date().toISOString();const i=this.compressData(n);localStorage.setItem(this.STORAGE_KEY,i)}catch(n){throw console.error("Failed to rename config:",n),new Error("重命名配置失败")}}async exportConfig(t){try{const n=(await this.getAllConfigs()).find(c=>c.id===t);if(!n)throw new Error("配置不存在");const o=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),a=document.createElement("a");a.href=i,a.download=`config-${n.name}-${Date.now()}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}catch(s){throw console.error("Failed to export config:",s),new Error("导出配置失败")}}async importConfig(t){try{const s=await t.text(),n=JSON.parse(s);if(!this.validateConfig(n))throw new Error("配置格式无效");n.id=this.generateId(),n.updatedAt=new Date().toISOString();const o=await this.getAllConfigs();o.push(n);const i=this.compressData(o);localStorage.setItem(this.STORAGE_KEY,i),await this.createBackup()}catch(s){throw console.error("Failed to import config:",s),new Error("导入配置失败")}}async createBackup(){try{const t=localStorage.getItem(this.STORAGE_KEY);t&&(localStorage.setItem(this.BACKUP_KEY,t),localStorage.setItem(`${this.BACKUP_KEY}-timestamp`,Date.now().toString()))}catch(t){console.error("Failed to create backup:",t)}}async restoreBackup(){try{const t=localStorage.getItem(this.BACKUP_KEY);return t?(localStorage.setItem(this.STORAGE_KEY,t),!0):!1}catch(t){throw console.error("Failed to restore backup:",t),new Error("恢复备份失败")}}compressData(t){try{const s=JSON.stringify(t);return btoa(unescape(encodeURIComponent(s)))}catch(s){return console.error("Compression failed:",s),JSON.stringify(t)}}decompressData(t){try{const s=decodeURIComponent(escape(atob(t)));return JSON.parse(s)}catch(s){try{return JSON.parse(t)}catch{return console.error("Decompression failed:",s),null}}}async migrateData(t,s){console.log(`Migrating from ${t} to ${s}`),await this.createBackup()}validateConfig(t){return t&&typeof t.id=="string"&&typeof t.name=="string"&&typeof t.config=="object"&&Array.isArray(t.config.models)&&typeof t.config.rules=="object"}generateId(){return`config_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async getStorageStats(){const t=await this.getAllConfigs(),s=localStorage.getItem(this.STORAGE_KEY),n=localStorage.getItem(`${this.BACKUP_KEY}-timestamp`);return{totalConfigs:t.length,totalSize:s?new Blob([s]).size:0,lastBackup:n?new Date(parseInt(n)):void 0}}}const ue=new ar,vs=_s("config",()=>{const e=F([]),t=F(!1),s=F(null),n=F({totalConfigs:0,totalSize:0}),o=Y(()=>e.value.length>0),i=Y(()=>[...e.value].sort((S,L)=>new Date(L.updatedAt).getTime()-new Date(S.updatedAt).getTime())),a=async()=>{try{t.value=!0,await ue.initialize(),await c(),await R()}catch(S){s.value=S instanceof Error?S.message:"初始化失败"}finally{t.value=!1}},c=async()=>{try{t.value=!0,s.value=null,e.value=await ue.getAllConfigs()}catch(S){throw s.value=S instanceof Error?S.message:"加载配置失败",S}finally{t.value=!1}},g=async(S,L,j)=>{try{return t.value=!0,s.value=null,await ue.saveConfig(S,L,j),await c(),await R(),!0}catch(V){throw s.value=V instanceof Error?V.message:"保存配置失败",V}finally{t.value=!1}},p=async S=>{try{return t.value=!0,s.value=null,await ue.loadConfig(S)}catch(L){throw s.value=L instanceof Error?L.message:"加载配置失败",L}finally{t.value=!1}},m=async S=>{try{t.value=!0,s.value=null,await ue.deleteConfig(S),await c(),await R()}catch(L){throw s.value=L instanceof Error?L.message:"删除配置失败",L}finally{t.value=!1}},_=async(S,L)=>{try{t.value=!0,s.value=null,await ue.renameConfig(S,L),await c()}catch(j){throw s.value=j instanceof Error?j.message:"重命名配置失败",j}finally{t.value=!1}},C=async S=>{try{await ue.exportConfig(S)}catch(L){throw s.value=L instanceof Error?L.message:"导出配置失败",L}},N=async S=>{try{t.value=!0,s.value=null,await ue.importConfig(S),await c(),await R()}catch(L){throw s.value=L instanceof Error?L.message:"导入配置失败",L}finally{t.value=!1}},w=async()=>{try{t.value=!0,s.value=null;const S=await ue.restoreBackup();return S&&(await c(),await R()),S}catch(S){throw s.value=S instanceof Error?S.message:"恢复备份失败",S}finally{t.value=!1}},R=async()=>{try{n.value=await ue.getStorageStats()}catch(S){console.error("Failed to update storage stats:",S)}};return{savedConfigs:e,isLoading:t,error:s,storageStats:n,hasConfigs:o,sortedConfigs:i,initialize:a,loadConfigs:c,saveConfig:g,loadConfig:p,deleteConfig:m,renameConfig:_,exportConfig:C,importConfig:N,restoreBackup:w,updateStorageStats:R,clearError:()=>{s.value=null}}}),ir=Object.freeze(Object.defineProperty({__proto__:null,useConfigStore:vs},Symbol.toStringTag,{value:"Module"})),lr={class:"category-tree"},cr={class:"tree-header"},ur={class:"search-box"},dr={class:"tree-content"},fr=["onClick"],pr={class:"toggle-icon"},hr={class:"category-name"},mr={class:"rule-count"},vr={key:0,class:"rules-container"},gr=["onClick"],yr={class:"rule-name"},_r={key:0,class:"no-results"},br=Ve({__name:"CategoryTree",props:{rules:{},selectedRules:{}},emits:["select-rule","toggle-rule"],setup(e,{emit:t}){const s=e,n=t,o=F(""),i=F([]),a=C=>{switch(C==null?void 0:C.toLowerCase()){case"critical":return"priority-critical";case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return""}},c=C=>{C.expanded=!C.expanded},g=C=>s.selectedRules.some(N=>N.name===C.name),p=C=>{n("select-rule",C)},m=C=>{const N=new Map;return C.forEach(w=>{var k;const R=((k=w.metadata)==null?void 0:k.category)||"未分类";N.has(R)||N.set(R,[]),N.get(R).push(w)}),Array.from(N.entries()).map(([w,R])=>({name:w,expanded:!1,rules:R.sort((k,S)=>k.name.localeCompare(S.name))}))},_=Y(()=>{if(!o.value.trim())return i.value;const C=o.value.toLowerCase();return i.value.map(N=>({...N,rules:N.rules.filter(w=>{var R,k;return w.name.toLowerCase().includes(C)||((k=(R=w.metadata)==null?void 0:R.description)==null?void 0:k.toLowerCase().includes(C))})})).filter(N=>N.rules.length>0)});return gt(()=>s.rules,C=>{i.value=m(C)},{immediate:!0}),Ht(()=>{i.value=m(s.rules)}),(C,N)=>(d(),u("div",lr,[r("div",cr,[N[1]||(N[1]=r("h3",null,"规则分类",-1)),r("div",ur,[he(r("input",{"onUpdate:modelValue":N[0]||(N[0]=w=>o.value=w),type:"text",placeholder:"搜索规则...",class:"search-input"},null,512),[[Re,o.value]])])]),r("div",dr,[(d(!0),u(z,null,K(_.value,w=>(d(),u("div",{key:w.name,class:"category-node"},[r("div",{class:Q(["category-header",{expanded:w.expanded}]),onClick:R=>c(w)},[r("span",pr,y(w.expanded?"▼":"▶"),1),r("span",hr,y(w.name),1),r("span",mr,"("+y(w.rules.length)+")",1)],10,fr),w.expanded?(d(),u("div",vr,[(d(!0),u(z,null,K(w.rules,R=>{var k;return d(),u("div",{key:R.name,class:Q(["rule-item",{selected:g(R)}]),onClick:S=>p(R)},[r("span",yr,y(R.name),1),(k=R.metadata)!=null&&k.priority?(d(),u("span",{key:0,class:Q(["priority-badge",a(R.metadata.priority)])},y(R.metadata.priority),3)):E("",!0)],10,gr)}),128))])):E("",!0)]))),128)),_.value.length===0?(d(),u("div",_r," 未找到匹配的规则 ")):E("",!0)])]))}});const wr=Je(br,[["__scopeId","data-v-365fb6a4"]]),kr={key:0,class:"config-manager"},Cr={class:"modal-content"},Sr={class:"modal-header"},Er={key:0,class:"config-form"},Rr={class:"form-group"},$r={key:0,class:"error-message"},Or={class:"form-group"},Tr={class:"form-actions"},xr=["disabled"],Ar={key:1,class:"config-list"},Nr={key:0,class:"loading"},Lr={key:1,class:"empty-state"},Fr={key:2,class:"configs-container"},Pr={class:"toolbar"},Ur={class:"toolbar-info"},jr={class:"config-count"},Ir={class:"storage-size"},Br={class:"toolbar-actions"},Dr=["disabled"],Mr=["disabled"],qr={class:"configs-grid"},Hr={class:"config-card-header"},zr={class:"config-info"},Kr={key:0,class:"description"},Vr={class:"meta"},Jr={class:"date"},Wr={key:0,class:"date"},Gr={class:"config-card-content"},Yr={class:"config-preview"},Xr={class:"preview-item"},Qr={class:"value"},Zr={class:"preview-item"},ea={class:"value"},ta={class:"preview-item"},sa={class:"value"},na={class:"config-actions"},oa=["onClick"],ra=["onClick"],aa=["onClick"],ia=["onClick"],la=["onClick"],ca={class:"details-modal-body"},ua={key:0,class:"config-details"},da={class:"details-section"},fa={class:"details-grid"},pa={class:"detail-item"},ha={class:"detail-value"},ma={class:"detail-item"},va={class:"detail-value"},ga={key:0,class:"detail-item"},ya={class:"detail-value"},_a={key:1,class:"detail-item"},ba={class:"detail-value"},wa={key:0,class:"details-section"},ka={class:"models-list"},Ca={class:"model-header"},Sa={class:"model-slug"},Ea={class:"model-name"},Ra={class:"model-details"},$a={class:"model-description"},Oa={class:"model-meta"},Ta={class:"model-provider"},xa={class:"model-category"},Aa={key:1,class:"details-section"},Na={class:"rules-container"},La={class:"rules-sidebar"},Fa={class:"rules-details"},Pa={key:0,class:"rule-item"},Ua={class:"rule-header"},ja={class:"rule-name"},Ia={key:0,class:"rule-category"},Ba={key:1,class:"rule-priority"},Da={class:"rule-content"},Ma={key:0,class:"rule-description"},qa={key:1,class:"rule-tags"},Ha={class:"rule-details-toggle"},za={class:"rule-code"},Ka={key:1,class:"no-rule-selected"},Va={key:2,class:"details-section"},Ja={class:"commands-list"},Wa={class:"command-header"},Ga={class:"command-name"},Ya={class:"command-content"},Xa={key:0,class:"command-description"},Qa={class:"command-details-toggle"},Za={class:"command-code"},ei={key:3,class:"details-section"},ti={class:"roles-list"},si={class:"role-header"},ni={class:"role-slug"},oi={class:"role-name"},ri={class:"role-content"},ai={class:"role-description"},ii={key:0,class:"role-traits"},li={class:"details-modal-footer"},ci=Ve({__name:"ConfigManager",props:{show:{type:Boolean,default:!1},initialMode:{default:"list"},currentConfig:{default:void 0}},emits:["update:show","apply","close"],setup(e,{emit:t}){const s=e,n=t,o=vs(),i=F(s.initialMode),a=F(""),c=F(""),g=F(!1),p=F({}),m=F(),_=F(!1),C=F(null),N=F(""),w=F([]),R=F([]),k=F([]),S=F(""),L=Y(()=>{let A=j.value;if(N.value.trim()){const b=N.value.toLowerCase();A=A.filter(B=>B.name.toLowerCase().includes(b)||B.description&&B.description.toLowerCase().includes(b))}if(w.value.length>0&&(A=A.filter(b=>b.config.rules?b.config.rules.some(B=>{var h;return((h=B.metadata)==null?void 0:h.category)&&w.value.includes(B.metadata.category)}):!1)),R.value.length>0&&(A=A.filter(b=>b.config.rules?b.config.rules.some(B=>{var h;return((h=B.metadata)==null?void 0:h.tags)&&B.metadata.tags.some(v=>R.value.includes(v))}):!1)),k.value.length>0&&(A=A.filter(b=>b.config.rules?b.config.rules.some(B=>{var h;return((h=B.metadata)==null?void 0:h.priority)&&k.value.includes(B.metadata.priority)}):!1)),S.value.trim()){const b=S.value.toLowerCase();A=A.filter(B=>B.config.rules?B.config.rules.some(h=>h.name.toLowerCase().includes(b)):!1)}return A}),j=Y(()=>o.savedConfigs);Y(()=>o.sortedConfigs);const V=Y(()=>o.hasConfigs),H=Y(()=>o.storageStats),I=()=>{n("update:show",!1),ye()},M=A=>{i.value=A,A==="save"&&yt(()=>{const b=document.querySelector('input[type="text"]');b==null||b.focus()})},X=()=>a.value.trim()?j.value.find(b=>b.name===a.value.trim())?(p.value.name="配置名称已存在",!1):(delete p.value.name,!0):(p.value.name="配置名称不能为空",!1),ne=async()=>{if(!(!X()||!s.currentConfig))try{g.value=!0,await o.saveConfig(a.value.trim(),s.currentConfig,c.value.trim()||void 0),i.value="list",ye()}catch(A){console.error("Save failed:",A)}finally{g.value=!1}},ie=A=>{n("apply",A.config),I()},ke=A=>{C.value=A,_.value=!0},fe=()=>{_.value=!1,C.value=null},P=async A=>{try{await o.exportConfig(A)}catch(b){console.error("Export failed:",b)}},O=async A=>{const b=prompt("请输入新的配置名称:",A.name);if(b&&b.trim()&&b.trim()!==A.name)try{await o.renameConfig(A.id,b.trim())}catch(B){console.error("Rename failed:",B)}},x=async A=>{if(confirm(`确定要删除配置 "${A.name}" 吗？此操作不可恢复。`))try{await o.deleteConfig(A.id)}catch(b){console.error("Delete failed:",b)}},G=async()=>{try{g.value=!0,await o.loadConfigs(),await o.updateStorageStats()}catch(A){console.error("Refresh failed:",A)}finally{g.value=!1}},le=()=>{var A;(A=m.value)==null||A.click()},Ae=async A=>{var h;const b=A.target,B=(h=b.files)==null?void 0:h[0];if(B)try{g.value=!0,await o.importConfig(B)}catch(v){console.error("Import failed:",v)}finally{g.value=!1,b.value=""}},Ne=()=>{const A=new Blob([JSON.stringify(j.value,null,2)],{type:"application/json"}),b=URL.createObjectURL(A),B=document.createElement("a");B.href=b,B.download=`all-configs-${Date.now()}.json`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(b)},tt=async()=>{if(confirm("确定要恢复到最近的备份吗？这将覆盖当前的配置。"))try{const A=await o.restoreBackup();alert(A?"备份恢复成功！":"没有找到可用的备份")}catch(A){console.error("Restore backup failed:",A),alert("恢复备份失败")}},ye=()=>{a.value="",c.value="",p.value={}},_e=A=>new Date(A).toLocaleDateString("zh-CN"),Le=A=>A<1024?A+" B":A<1024*1024?(A/1024).toFixed(1)+" KB":(A/(1024*1024)).toFixed(1)+" MB",st=Y(()=>i.value==="save"?"保存配置":"我的配置");return gt(()=>s.show,A=>{A&&(i.value=s.initialMode,ye(),o.clearError())}),(A,b)=>{var B,h,v,l,$,D,q,J,ee;return A.show?(d(),u("div",kr,[r("div",{class:"modal-backdrop",onClick:I}),r("div",Cr,[r("div",Sr,[r("h2",null,y(st.value),1),r("button",{class:"close-btn",onClick:I},"✕")]),i.value==="save"?(d(),u("div",Er,[r("div",Rr,[b[6]||(b[6]=r("label",null,[de("配置名称 "),r("span",{class:"required"},"*")],-1)),he(r("input",{"onUpdate:modelValue":b[0]||(b[0]=T=>a.value=T),type:"text",placeholder:"输入配置名称...",class:Q({error:p.value.name}),onInput:X},null,34),[[Re,a.value]]),p.value.name?(d(),u("span",$r,y(p.value.name),1)):E("",!0)]),r("div",Or,[b[7]||(b[7]=r("label",null,"描述（可选）",-1)),he(r("textarea",{"onUpdate:modelValue":b[1]||(b[1]=T=>c.value=T),placeholder:"添加配置描述...",rows:"3"},null,512),[[Re,c.value]])]),r("div",Tr,[r("button",{class:"btn btn-primary",disabled:!a.value.trim()||g.value,onClick:ne},y(g.value?"保存中...":"保存配置"),9,xr),r("button",{class:"btn btn-secondary",onClick:I},"取消")])])):i.value==="list"?(d(),u("div",Ar,[g.value?(d(),u("div",Nr,[...b[8]||(b[8]=[r("div",{class:"loading-spinner"},null,-1),r("p",null,"加载中...",-1)])])):V.value?(d(),u("div",Fr,[r("div",Pr,[r("div",Ur,[r("span",jr,y(j.value.length)+" 个配置",1),r("span",Ir,"占用空间: "+y(Le(H.value.totalSize)),1)]),r("div",Br,[r("button",{class:"btn-icon",title:"刷新",onClick:G,disabled:g.value}," 🔄 ",8,Dr),r("button",{class:"btn-icon",title:"导入配置",onClick:le}," 📥 "),r("button",{class:"btn-icon",title:"导出所有",onClick:Ne}," 📤 "),r("button",{class:"btn-icon",title:"恢复备份",onClick:tt,disabled:g.value}," 💾 ",8,Mr),r("button",{class:"btn-icon btn-primary",title:"创建新配置",onClick:b[3]||(b[3]=T=>M("save"))}," ➕ ")])]),r("div",qr,[(d(!0),u(z,null,K(L.value,T=>{var oe,Et,Rt;return d(),u("div",{key:T.id,class:"config-card"},[r("div",Hr,[r("div",zr,[r("h3",null,y(T.name),1),T.description?(d(),u("p",Kr,y(T.description),1)):E("",!0),r("div",Vr,[r("span",Jr,"创建于: "+y(_e(T.createdAt)),1),T.updatedAt!==T.createdAt?(d(),u("span",Wr," 更新于: "+y(_e(T.updatedAt)),1)):E("",!0)])])]),r("div",Gr,[r("div",Yr,[r("div",Xr,[b[11]||(b[11]=r("span",{class:"label"},"Models:",-1)),r("span",Qr,y(((oe=T.config.models)==null?void 0:oe.length)||0)+" 个",1)]),r("div",Zr,[b[12]||(b[12]=r("span",{class:"label"},"Roles:",-1)),r("span",ea,y(((Et=T.config.roles)==null?void 0:Et.length)||0)+" 个",1)]),r("div",ta,[b[13]||(b[13]=r("span",{class:"label"},"Commands:",-1)),r("span",sa,y(((Rt=T.config.commands)==null?void 0:Rt.length)||0)+" 个",1)])]),r("div",na,[r("button",{class:"btn-sm btn-primary",onClick:Fe=>ie(T),title:"应用此配置"}," 应用 ",8,oa),r("button",{class:"btn-sm btn-secondary",onClick:Fe=>ke(T),title:"查看详情"}," 详情 ",8,ra),r("button",{class:"btn-sm",onClick:Fe=>P(T.id),title:"导出配置"}," 📤 ",8,aa),r("button",{class:"btn-sm",onClick:Fe=>O(T),title:"重命名"}," ✏️ ",8,ia),r("button",{class:"btn-sm btn-danger",onClick:Fe=>x(T),title:"删除配置"}," 🗑️ ",8,la)])])])}),128))])])):(d(),u("div",Lr,[b[9]||(b[9]=r("div",{class:"empty-icon"},"📁",-1)),b[10]||(b[10]=r("p",null,"暂无保存的配置",-1)),r("button",{class:"btn btn-primary",onClick:b[2]||(b[2]=T=>M("save"))}," 创建新配置 ")]))])):E("",!0)]),r("input",{ref_key:"fileInput",ref:m,type:"file",accept:".json",style:{display:"none"},onChange:Ae},null,544),_.value?(d(),u("div",{key:0,class:"details-modal",onClick:fe},[b[24]||(b[24]=r("div",{class:"details-modal-backdrop"},null,-1)),r("div",{class:"details-modal-content",onClick:b[5]||(b[5]=me(()=>{},["stop"]))},[r("div",{class:"details-modal-header"},[b[14]||(b[14]=r("h3",null,"配置详情",-1)),r("button",{class:"details-close-btn",onClick:fe},"✕")]),r("div",ca,[C.value?(d(),u("div",ua,[r("div",da,[b[19]||(b[19]=r("h4",null,"基本信息",-1)),r("div",fa,[r("div",pa,[b[15]||(b[15]=r("span",{class:"detail-label"},"名称:",-1)),r("span",ha,y(C.value.name),1)]),r("div",ma,[b[16]||(b[16]=r("span",{class:"detail-label"},"创建时间:",-1)),r("span",va,y(_e(C.value.createdAt)),1)]),C.value.updatedAt!==C.value.createdAt?(d(),u("div",ga,[b[17]||(b[17]=r("span",{class:"detail-label"},"更新时间:",-1)),r("span",ya,y(_e(C.value.updatedAt)),1)])):E("",!0),C.value.description?(d(),u("div",_a,[b[18]||(b[18]=r("span",{class:"detail-label"},"描述:",-1)),r("span",ba,y(C.value.description),1)])):E("",!0)])]),(B=C.value.config.models)!=null&&B.length?(d(),u("div",wa,[r("h4",null,"Models ("+y(C.value.config.models.length)+")",1),r("div",ka,[(d(!0),u(z,null,K(C.value.config.models,T=>(d(),u("div",{key:T.slug,class:"model-item"},[r("div",Ca,[r("span",Sa,y(T.slug),1),r("span",Ea,y(T.name),1)]),r("div",Ra,[r("div",$a,y(T.description),1),r("div",Oa,[r("span",Ta,"提供商: "+y(T.provider),1),r("span",xa,"类别: "+y(T.category),1)])])]))),128))])])):E("",!0),(h=C.value.config.rules)!=null&&h.length?(d(),u("div",Aa,[r("h4",null,"Rules ("+y(C.value.config.rules.length)+")",1),r("div",Na,[r("div",La,[ct(wr,{rules:C.value.config.rules,selectedRule:S.value,onRuleSelected:A.handleRuleSelected},null,8,["rules","selectedRule","onRuleSelected"])]),r("div",Fa,[S.value?(d(),u("div",Pa,[r("div",Ua,[r("span",ja,y(S.value.name),1),(v=S.value.metadata)!=null&&v.category?(d(),u("span",Ia,y(S.value.metadata.category),1)):E("",!0),(l=S.value.metadata)!=null&&l.priority?(d(),u("div",Ba,[r("span",{class:Q(["priority-badge",{critical:S.value.metadata.priority==="critical",high:S.value.metadata.priority==="high",medium:S.value.metadata.priority==="medium",low:S.value.metadata.priority==="low"}])},y(S.value.metadata.priority),3)])):E("",!0)]),r("div",Da,[($=S.value.metadata)!=null&&$.description?(d(),u("div",Ma,y(S.value.metadata.description),1)):E("",!0),(q=(D=S.value.metadata)==null?void 0:D.tags)!=null&&q.length?(d(),u("div",qa,[(d(!0),u(z,null,K(S.value.metadata.tags,T=>(d(),u("span",{key:T,class:"rule-tag"},y(T),1))),128))])):E("",!0),r("details",Ha,[b[20]||(b[20]=r("summary",null,"查看规则内容",-1)),r("pre",za,y(S.value.content),1)])])])):(d(),u("div",Ka,[...b[21]||(b[21]=[r("div",{class:"empty-state"},[r("div",{class:"empty-icon"},"📋"),r("p",null,"请从左侧选择一个规则查看详情")],-1)])]))])])])):E("",!0),(J=C.value.config.commands)!=null&&J.length?(d(),u("div",Va,[r("h4",null,"Commands ("+y(C.value.config.commands.length)+")",1),r("div",Ja,[(d(!0),u(z,null,K(C.value.config.commands,T=>(d(),u("div",{key:T.name,class:"command-item"},[r("div",Wa,[r("span",Ga,y(T.name),1)]),r("div",Ya,[T.description?(d(),u("div",Xa,y(T.description),1)):E("",!0),r("details",Qa,[b[22]||(b[22]=r("summary",null,"查看命令内容",-1)),r("pre",Za,y(T.content),1)])])]))),128))])])):E("",!0),(ee=C.value.config.roles)!=null&&ee.length?(d(),u("div",ei,[r("h4",null,"Roles ("+y(C.value.config.roles.length)+")",1),r("div",ti,[(d(!0),u(z,null,K(C.value.config.roles,T=>{var oe;return d(),u("div",{key:T.slug,class:"role-item"},[r("div",si,[r("span",ni,y(T.slug),1),r("span",oi,y(T.name),1)]),r("div",ri,[r("div",ai,y(T.description),1),(oe=T.traits)!=null&&oe.length?(d(),u("div",ii,[b[23]||(b[23]=r("strong",null,"特征:",-1)),de(" "+y(T.traits.join(", ")),1)])):E("",!0)])])}),128))])])):E("",!0)])):E("",!0)]),r("div",li,[r("button",{class:"btn btn-primary",onClick:b[4]||(b[4]=T=>ie(C.value))}," 应用此配置 "),r("button",{class:"btn btn-secondary",onClick:fe}," 关闭 ")])])])):E("",!0)])):E("",!0)}}});const ui=Je(ci,[["__scopeId","data-v-9704167b"]]);const di={class:"config-selector"},fi={class:"container"},pi={class:"global-search-section"},hi={class:"config-layout"},mi={class:"selection-panel"},vi={class:"tab-navigation"},gi={class:"tab-header"},yi=["onClick"],_i={class:"tab-icon"},bi={class:"tab-label"},wi={key:0,class:"required-mark"},ki={class:"tab-content"},Ci={class:"config-section"},Si={class:"search-box"},Ei={class:"items-list"},Ri=["onClick"],$i={class:"item-header"},Oi=["checked","disabled","title","onChange"],Ti={class:"item-info"},xi={class:"text-primary"},Ai={key:0,class:"required-crown",title:"必选项"},Ni={class:"slug text-secondary"},Li={key:0,class:"description text-secondary"},Fi={key:1,class:"meta"},Pi={class:"category text-inverted"},Ui={key:0,class:"tags text-secondary"},ji={key:2,class:"model-rules"},Ii={class:"model-rules-header"},Bi={class:"model-rules-actions"},Di=["title","onClick"],Mi={class:"model-rules-list"},qi=["onClick"],Hi={class:"rule-card-header"},zi={class:"rule-checkbox"},Ki=["checked","onChange"],Vi={class:"rule-title-section"},Ji={class:"rule-title"},Wi={class:"rule-card-body"},Gi={key:0,class:"rule-description"},Yi={key:1,class:"rule-tags"},Xi={class:"config-section"},Qi={class:"items-list"},Zi=["onClick"],el={class:"item-header"},tl=["checked","onChange"],sl={class:"item-info"},nl={class:"text-primary"},ol={key:0,class:"role-preview"},rl={key:0,class:"role-metadata-simple"},al={key:0,class:"role-title"},il={key:1,class:"role-description"},ll={key:2,class:"role-traits"},cl={class:"traits-value"},ul={key:1,class:"role-content-preview"},dl={key:0,class:"role-metadata-header"},fl={key:0,class:"meta-description"},pl={key:1},hl={class:"config-section"},ml={class:"items-list"},vl=["onClick"],gl={class:"item-header"},yl=["checked","onChange"],_l={class:"item-info"},bl={class:"text-primary"},wl={key:0,class:"command-preview"},kl={key:0,class:"command-metadata-simple"},Cl={key:0,class:"command-title"},Sl={key:1,class:"command-description"},El={key:2,class:"command-meta-info"},Rl={key:0,class:"category-tag"},$l={key:1,class:"tags"},Ol={key:1,class:"command-content-preview"},Tl={key:0,class:"command-metadata-header"},xl={key:0,class:"meta-description"},Al={key:1},Nl={class:"preview-panel"},Ll={class:"preview-section"},Fl={class:"preview-header"},Pl={class:"preview-controls"},Ul={class:"mode-toggle"},jl={key:0,class:"preview-content"},Il={class:"preview-grid"},Bl={key:0,class:"preview-card"},Dl={class:"card-header"},Ml={class:"card-content"},ql={class:"model-name"},Hl={class:"name-text"},zl={class:"slug-text"},Kl={key:0,class:"model-metadata-simple"},Vl={key:0,class:"meta-description"},Jl={key:1,class:"model-meta-info"},Wl={key:0,class:"category-tag"},Gl={key:1,class:"tags"},Yl={key:1,class:"rules-list"},Xl={class:"rule-name"},Ql={key:1,class:"preview-card"},Zl={class:"card-content"},ec={class:"role-item"},tc={class:"name-text"},sc={key:0,class:"role-metadata-simple"},nc={key:0,class:"meta-description"},oc={key:1,class:"role-traits"},rc={class:"traits-value"},ac={key:2,class:"preview-card"},ic={class:"card-header"},lc={class:"card-content"},cc={class:"commands-grid"},uc={class:"command-name"},dc={key:0,class:"command-metadata-simple"},fc={key:0,class:"meta-description"},pc={key:1,class:"command-meta-info"},hc={key:0,class:"category-tag"},mc={key:1,class:"preview-card"},vc={class:"card-header"},gc={class:"card-content"},yc={class:"hooks-list"},_c={key:0,class:"hook-item"},bc={key:0,class:"hook-metadata-simple"},wc={key:0,class:"meta-description"},kc={key:1,class:"hook-description"},Cc={key:2,class:"hook-meta-info"},Sc={class:"category-tag"},Ec={key:1,class:"hook-item"},Rc={key:0,class:"hook-metadata-simple"},$c={key:0,class:"meta-description"},Oc={key:1,class:"hook-description"},Tc={key:2,class:"hook-meta-info"},xc={class:"category-tag"},Ac={key:2,class:"empty-preview"},Nc={class:"actions"},Lc=["disabled"],te="orchestrator",Ue=100,Fc=300,Pc=Ve({__name:"ConfigSelector",setup(e){const s=((h,v)=>{let l;return function(...$){clearTimeout(l),l=window.setTimeout(()=>h.apply(this,$),v)}})(()=>{},Fc),n=F([]),o=F([]),i=F({}),a=F(null),c=F({}),g=F([]),p=F({before:"",after:""}),m=F({}),_=F({}),C=h=>{m.value[h]||(m.value[h]={}),_.value[h]||(_.value[h]=[])},N=F(""),w=F("models"),R=F([{id:"models",label:"模式",icon:"🤖",required:!0},{id:"roles",label:"角色",icon:"🎭",required:!1},{id:"commands",label:"命令",icon:"⚡",required:!1}]),k=F("detailed");F(!1);const S=F(null),L=F(!1),j=F("");F();const V=Y(()=>o.value.length>0||Object.keys(_.value).length>0||a.value!==null||g.value.length>0),H=Y(()=>o.value.length>0);Y(()=>o.value.some(h=>h.slug===te)),Y(()=>Object.values(_.value).reduce((h,v)=>h+v.length,0));const I=(h,v)=>{var l;return((l=_.value[h])==null?void 0:l.includes(v))||!1},M=h=>{const v=Object.keys(m.value[h]||{}),l=_.value[h]||[];return v.length>0&&v.every($=>l.includes($))},X=Y(()=>{const h=N.value.toLowerCase(),v=n.value||[];return h?v.filter(l=>{var $,D,q;return l.name.toLowerCase().includes(h)||l.slug.toLowerCase().includes(h)||(($=l.description)==null?void 0:$.toLowerCase().includes(h))||((D=l.category)==null?void 0:D.toLowerCase().includes(h))||((q=l.tags)==null?void 0:q.some(J=>J.toLowerCase().includes(h)))}):v}),ne=(h,v)=>{console.error(`Failed to ${v}:`,h),h.value=`${v} 失败`},ie=()=>{S.value=null},ke=async()=>{var h;ie();try{const v=await pe.post("/api/models");console.log("API Response from /api/models:",v),n.value=v||[],console.log("Models value after assignment:",n.value),console.log("Models length:",(h=n.value)==null?void 0:h.length);const l=(n.value||[]).find($=>$.slug===te);console.log("Found orchestrator model:",l),l&&(console.log("Adding orchestrator to selected models"),o.value.push(l),console.log("Selected models after push:",o.value),await fe(te))}catch(v){ne(v,"fetch models")}},fe=async h=>{ie();try{const l=await pe.post("/api/rules/get",{slug:h})||{};C(h),m.value[h]=l,h===te?_.value[h]=Object.keys(l):_.value[h]=[]}catch(v){ne(v,`fetch rules for ${h}`)}},P=async()=>{try{const h=await pe.post("/api/roles");i.value=h||{}}catch(h){console.error("Failed to fetch roles:",h)}},O=async()=>{try{const h=await pe.post("/api/commands");console.log(h),c.value=h||{}}catch(h){console.error("Failed to fetch commands:",h)}},x=async()=>{try{const[h,v]=await Promise.all([pe.post("/api/hooks/before"),pe.post("/api/hooks/after")]);p.value={before:h||"",after:v||""}}catch(h){console.error("Failed to fetch hooks:",h)}},G=async h=>{const v=o.value.findIndex(l=>l.slug===h.slug);if(v>-1){if(h.slug===te)return;o.value.splice(v,1),delete _.value[h.slug],delete m.value[h.slug]}else{o.value.push(h);try{const $=await pe.post("/api/rules/get",{slug:h.slug})||{};C(h.slug),m.value[h.slug]=$,h.slug===te?_.value[h.slug]=Object.keys($):_.value[h.slug]=[]}catch(l){console.error(`Failed to fetch rules for ${h.slug}:`,l)}}},le=(h,v)=>{var l;((l=a.value)==null?void 0:l.name)===h?a.value=null:a.value={name:h,content:v.content}},Ae=(h,v)=>{const l=g.value.findIndex($=>$.name===h);l>-1?g.value.splice(l,1):g.value.push({name:h,content:v.content})},Ne=(h,v,l)=>{if(h===te)return;C(h);const $=_.value[h].indexOf(v);$>-1?_.value[h].splice($,1):_.value[h].push(v)},tt=h=>{if(h===te)return;const v=Object.keys(m.value[h]||{});_.value[h],M(h)?_.value[h]=[]:_.value[h]=[...v]},ye=()=>{const h=o.value.find(v=>v.slug===te);o.value=h?[h]:[],m.value={},_.value={},a.value=null,g.value=[],N.value="",h&&fe(h.slug)},_e=()=>{const h={models:o.value,rules:{},roles:a.value?[a.value]:[],commands:g.value,hooks:p.value};o.value.forEach(q=>{const J=_.value[q.slug]||[];h.rules[q.slug]=J.map(ee=>{var oe;const T=(oe=m.value[q.slug])==null?void 0:oe[ee];return{name:ee,content:(T==null?void 0:T.content)||""}})});const v=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),l=URL.createObjectURL(v),$=document.createElement("a");$.href=l;const D=o.value.map(q=>q.slug).join("-");$.download=`config-${D}-${Date.now()}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(l)};console.log("🎯 ConfigSelector 组件开始初始化"),Ht(async()=>{console.log("🚀 ConfigSelector 组件已挂载，开始获取数据");try{await Promise.all([ke(),P(),O(),x()]),console.log("✅ 所有初始数据获取完成")}catch(h){console.error("❌ 初始数据获取失败:",h)}yt(()=>{var h,v;if(console.log("🔄 nextTick 回调执行"),console.log("当前 models 长度:",(h=n.value||[])==null?void 0:h.length),console.log("当前 selectedModels:",o.value),(((v=n.value||[])==null?void 0:v.length)||0)>0&&!(o.value||[]).some(l=>l.slug===te)){console.log("准备自动选择 orchestrator");const l=(n.value||[]).find($=>$.slug===te);l&&(console.log("添加 orchestrator 到已选择"),o.value.push(l),fe(l.slug))}else console.log("orchestrator 已经存在或 models 为空")})});const Le=(h,v)=>{j.value=h},st=h=>{Le(j.value)},A=()=>{L.value=!0},b=async h=>{const v={models:o.value,rules:{},roles:a.value?[a.value]:[],commands:g.value,hooks:p.value};o.value.forEach(D=>{const q=_.value[D.slug]||[];v.rules[D.slug]=q.map(J=>{var T;const ee=(T=m.value[D.slug])==null?void 0:T[J];return{name:J,content:(ee==null?void 0:ee.content)||""}})});const{useConfigStore:l}=await bs(()=>Promise.resolve().then(()=>ir),void 0),$=l();try{await $.saveConfig(h,v)}catch(D){console.error("保存配置失败:",D)}},B=async h=>{if(ye(),h.models&&Array.isArray(h.models)){o.value=h.models;for(const v of h.models)await fe(v.slug),h.rules&&h.rules[v.slug]&&(_.value[v.slug]=h.rules[v.slug].map(l=>l.name))}if(h.roles&&h.roles.length>0){const v=h.roles[0];a.value=v}h.commands&&Array.isArray(h.commands)&&(g.value=h.commands)};return(h,v)=>(d(),u("div",di,[r("div",fi,[v[23]||(v[23]=r("div",{class:"header"},[r("h1",null,"配置选择器"),r("p",{class:"description"},"选择您需要的 models、rules、roles 和 commands")],-1)),r("div",pi,[ct(rr,{"initial-query":j.value,"quick-filters":[{value:"selected",label:"已选择"},{value:"recent",label:"最近更新"}],scopes:[{value:"all",label:"全部"},{value:"models",label:"Modes"},{value:"rules",label:"Rules"},{value:"roles",label:"Roles"},{value:"commands",label:"Commands"}],placeholder:"搜索 modes, rules, roles, commands...",onSearch:Le,onFilterChange:st},null,8,["initial-query"])]),r("div",hi,[r("div",mi,[r("div",vi,[r("div",gi,[(d(!0),u(z,null,K(R.value,l=>(d(),u("div",{key:l.id,class:Q([{active:w.value===l.id},"tab-item"]),onClick:$=>w.value=l.id},[r("span",_i,y(l.icon),1),r("span",bi,y(l.label),1),l.required?(d(),u("span",wi,"*")):E("",!0)],10,yi))),128))])]),r("div",ki,[he(r("div",Ci,[v[7]||(v[7]=r("h2",null,[de("模式 "),r("span",{class:"required"},"*")],-1)),r("div",Si,[v[6]||(v[6]=r("div",{class:"search-icon"},"🔍",-1)),he(r("input",{"onUpdate:modelValue":v[0]||(v[0]=l=>N.value=l),placeholder:"搜索模式...",type:"text",onInput:v[1]||(v[1]=(...l)=>Me(s)&&Me(s)(...l))},null,544),[[Re,N.value]]),N.value?(d(),u("button",{key:0,class:"clear-btn",onClick:v[2]||(v[2]=l=>{N.value=""})}," ✕ ")):E("",!0)]),r("div",Ei,[(d(!0),u(z,null,K(X.value,l=>(d(),u("div",{key:l.slug,class:Q([{selected:o.value.some($=>$.slug===l.slug)},"item-card"]),onClick:$=>G(l)},[r("div",$i,[r("input",{checked:o.value.some($=>$.slug===l.slug),class:Q([{"required-checkbox":l.slug===te},"custom-checkbox"]),disabled:l.slug===te,title:l.slug===te?"Orchestrator模式为必选项，不可取消":"",type:"checkbox",onChange:$=>G(l)},null,42,Oi),r("div",Ti,[r("h3",xi,[de(y(l.name)+" ",1),l.slug===te?(d(),u("span",Ai,"👑")):E("",!0)]),r("p",Ni,y(l.slug),1)])]),l.description?(d(),u("p",Li,y(l.description),1)):E("",!0),l.category?(d(),u("div",Fi,[r("span",Pi,y(l.category),1),l.tags?(d(),u("span",Ui,y(l.tags.join(", ")),1)):E("",!0)])):E("",!0),o.value.some($=>$.slug===l.slug)&&m.value[l.slug]?(d(),u("div",ji,[r("div",Ii,[r("h4",null,y(l.name)+" 的规则",1),r("div",Bi,[r("button",{title:M(l.slug)?"取消全选":"全选",class:"action-btn",onClick:me($=>tt(l.slug),["stop"])},y(M(l.slug)?"取消全选":"全选"),9,Di)])]),r("div",Mi,[(d(!0),u(z,null,K(m.value[l.slug]||{},($,D)=>{var q,J,ee,T;return d(),u("div",{key:D,class:Q([{selected:I(l.slug,D)},"rule-card"]),onClick:me(oe=>Ne(l.slug,D),["stop"])},[r("div",Hi,[r("div",zi,[r("input",{checked:I(l.slug,D),class:"custom-checkbox",type:"checkbox",onChange:me(oe=>Ne(l.slug,D),["stop"])},null,40,Ki)]),r("div",Vi,[r("h3",Ji,y((q=$.metadata)==null?void 0:q.title)+" （"+y((J=$.metadata)==null?void 0:J.name)+"） ",1)])]),r("div",Wi,[(ee=$.metadata)!=null&&ee.description?(d(),u("div",Gi,y($.metadata.description),1)):E("",!0),(T=$.metadata)!=null&&T.tags&&$.metadata.tags.length>0?(d(),u("div",Yi,[(d(!0),u(z,null,K($.metadata.tags,oe=>(d(),u("span",{key:oe,class:"tag"},y(oe),1))),128))])):E("",!0)])],10,qi)}),128))])])):E("",!0)],10,Ri))),128))])],512),[[nt,w.value==="models"]])]),he(r("div",Xi,[v[9]||(v[9]=r("h2",null,"角色（可选）",-1)),r("div",Qi,[(d(!0),u(z,null,K(i.value,(l,$)=>{var D,q;return d(),u("div",{key:$,class:Q([{selected:((D=a.value)==null?void 0:D.name)===$},"item-card"]),onClick:J=>le($,l)},[r("div",el,[r("input",{checked:((q=a.value)==null?void 0:q.name)===$,class:"custom-radio",name:"role",type:"radio",onChange:J=>le($,l)},null,40,tl),r("div",sl,[r("h3",nl,y($),1)])]),l.content||l.metadata?(d(),u("div",ol,[k.value==="simple"&&l.metadata?(d(),u("div",rl,[l.metadata.title?(d(),u("h5",al,y(l.metadata.title),1)):E("",!0),l.metadata.description?(d(),u("p",il,y(l.metadata.description),1)):E("",!0),l.metadata.traits?(d(),u("div",ll,[v[8]||(v[8]=r("span",{class:"traits-label"},"特质:",-1)),r("span",cl,y(Array.isArray(l.metadata.traits)?l.metadata.traits.join(", "):l.metadata.traits),1)])):E("",!0)])):(d(),u("div",ul,[l.metadata?(d(),u("div",dl,[r("h5",null,y(l.metadata.title||$),1),l.metadata.description?(d(),u("p",fl,y(l.metadata.description),1)):E("",!0)])):E("",!0),l.content?(d(),u("p",pl,y(l.content.substring(0,Ue))+y(l.content.length>Ue?"...":""),1)):E("",!0)]))])):E("",!0)],10,Zi)}),128))])],512),[[nt,w.value==="roles"]]),he(r("div",hl,[v[10]||(v[10]=r("h2",null,"命令（可选）",-1)),r("div",ml,[(d(!0),u(z,null,K(c.value,(l,$)=>{var D,q,J,ee;return d(),u("div",{key:$,class:Q([{selected:g.value.some(T=>T.name===$)},"item-card"]),onClick:T=>Ae($,l)},[r("div",gl,[r("input",{checked:g.value.some(T=>T.name===$),class:"custom-checkbox",type:"checkbox",onChange:T=>Ae($,l)},null,40,yl),r("div",_l,[r("h3",bl,y($),1)])]),l.content||l.metadata?(d(),u("div",wl,[k.value==="simple"&&l.metadata?(d(),u("div",kl,[l.metadata.title?(d(),u("h5",Cl,y(l.metadata.title),1)):E("",!0),l.metadata.description?(d(),u("p",Sl,y(l.metadata.description),1)):E("",!0),l.metadata.category||(D=l.metadata)!=null&&D.tags?(d(),u("div",El,[l.metadata.category?(d(),u("span",Rl,y(l.metadata.category),1)):E("",!0),(q=l.metadata)!=null&&q.tags&&((J=l.metadata)==null?void 0:J.tags.length)>0?(d(),u("span",$l,y((ee=l.metadata)==null?void 0:ee.tags.join(", ")),1)):E("",!0)])):E("",!0)])):(d(),u("div",Ol,[l.metadata?(d(),u("div",Tl,[r("h5",null,y(l.metadata.title||$),1),l.metadata.description?(d(),u("p",xl,y(l.metadata.description),1)):E("",!0)])):E("",!0),l.content?(d(),u("pre",Al,y(l.content.substring(0,Ue))+y(l.content.length>Ue?"...":""),1)):E("",!0)]))])):E("",!0)],10,vl)}),128))])],512),[[nt,w.value==="commands"]])]),r("div",Nl,[r("div",Ll,[r("div",Fl,[v[11]||(v[11]=r("h2",null,"配置预览",-1)),r("div",Pl,[r("div",Ul,[r("button",{class:Q([{active:k.value==="detailed"},"mode-btn"]),onClick:v[3]||(v[3]=l=>k.value="detailed")}," 详细 ",2),r("button",{class:Q([{active:k.value==="simple"},"mode-btn"]),onClick:v[4]||(v[4]=l=>k.value="simple")}," 简洁 ",2)])])]),V.value?(d(),u("div",jl,[r("div",Il,[o.value.length>0?(d(),u("div",Bl,[r("div",Dl,[v[12]||(v[12]=r("div",{class:"card-icon"},"🤖",-1)),r("h3",null,"模式 ("+y(o.value.length)+")",1)]),r("div",Ml,[(d(!0),u(z,null,K(o.value,l=>(d(),u("div",{key:l.slug,class:"model-item"},[r("div",ql,[r("span",Hl,y(l.name),1),r("span",zl,"("+y(l.slug)+")",1)]),k.value==="simple"&&l.metadata?(d(),u("div",Kl,[l.metadata.description?(d(),u("p",Vl,y(l.metadata.description),1)):E("",!0),l.metadata.category||l.metadata.tags?(d(),u("div",Jl,[l.metadata.category?(d(),u("span",Wl,y(l.metadata.category),1)):E("",!0),l.metadata.tags&&l.metadata.tags.length>0?(d(),u("span",Gl,y(l.metadata.tags.join(", ")),1)):E("",!0)])):E("",!0)])):_.value[l.slug]&&_.value[l.slug].length>0?(d(),u("div",Yl,[(d(!0),u(z,null,K(_.value[l.slug],$=>{var D,q,J;return d(),u("div",{key:$,class:"rule-item-small"},[r("span",Xl,y(((J=(q=(D=m.value[l.slug])==null?void 0:D[$])==null?void 0:q.metadata)==null?void 0:J.title)||$),1)])}),128))])):E("",!0)]))),128))])])):E("",!0),a.value?(d(),u("div",Ql,[v[14]||(v[14]=r("div",{class:"card-header"},[r("div",{class:"card-icon"},"🎭"),r("h3",null,"选择的角色")],-1)),r("div",Zl,[r("div",ec,[r("span",tc,y(a.value.name),1),k.value==="simple"&&a.value.metadata?(d(),u("div",sc,[a.value.metadata.description?(d(),u("p",nc,y(a.value.metadata.description),1)):E("",!0),a.value.metadata.traits?(d(),u("div",oc,[v[13]||(v[13]=r("span",{class:"traits-label"},"特质:",-1)),r("span",rc,y(Array.isArray(a.value.metadata.traits)?a.value.metadata.traits.join(", "):a.value.metadata.traits),1)])):E("",!0)])):E("",!0)])])])):E("",!0),g.value.length>0?(d(),u("div",ac,[r("div",ic,[v[15]||(v[15]=r("div",{class:"card-icon"},"⚡",-1)),r("h3",null,"命令 ("+y(g.value.length)+")",1)]),r("div",lc,[r("div",cc,[(d(!0),u(z,null,K(g.value,l=>(d(),u("div",{key:l.name,class:"command-chip"},[r("span",uc,y(l.name),1),k.value==="simple"&&l.metadata?(d(),u("div",dc,[l.metadata.description?(d(),u("p",fc,y(l.metadata.description),1)):E("",!0),l.metadata.category||l.metadata.priority?(d(),u("div",pc,[l.metadata.category?(d(),u("span",hc,y(l.metadata.category),1)):E("",!0),l.metadata.priority?(d(),u("span",{key:1,class:Q([l.metadata.priority,"priority-tag"])},y(l.metadata.priority),3)):E("",!0)])):E("",!0)])):E("",!0)]))),128))])])])):E("",!0)])])):E("",!0),p.value.before||p.value.after?(d(),u("div",mc,[r("div",vc,[v[16]||(v[16]=r("div",{class:"card-icon"},"🔗",-1)),r("h3",null,"钩子 ("+y((p.value.before?1:0)+(p.value.after?1:0))+")",1)]),r("div",gc,[r("div",yc,[p.value.before?(d(),u("div",_c,[v[17]||(v[17]=r("div",{class:"hook-name"},[r("span",{class:"name-text"},"before"),r("span",{class:"hook-type"},"前置钩子")],-1)),k.value==="simple"&&p.value.before.metadata?(d(),u("div",bc,[p.value.before.metadata.title?(d(),u("p",wc,y(p.value.before.metadata.title),1)):E("",!0),p.value.before.metadata.description?(d(),u("p",kc,y(p.value.before.metadata.description),1)):E("",!0),p.value.before.metadata.category?(d(),u("div",Cc,[r("span",Sc,y(p.value.before.metadata.category),1)])):E("",!0)])):E("",!0)])):E("",!0),p.value.after?(d(),u("div",Ec,[v[18]||(v[18]=r("div",{class:"hook-name"},[r("span",{class:"name-text"},"after"),r("span",{class:"hook-type"},"后置钩子")],-1)),k.value==="simple"&&p.value.after.metadata?(d(),u("div",Rc,[p.value.after.metadata.title?(d(),u("p",$c,y(p.value.after.metadata.title),1)):E("",!0),p.value.after.metadata.description?(d(),u("p",Oc,y(p.value.after.metadata.description),1)):E("",!0),p.value.after.metadata.category?(d(),u("div",Tc,[r("span",xc,y(p.value.after.metadata.category),1)])):E("",!0)])):E("",!0)])):E("",!0)])])])):(d(),u("div",Ac,[...v[19]||(v[19]=[r("div",{class:"empty-icon"},"📋",-1),r("p",null,"请选择配置项以查看预览",-1)])]))]),r("div",Nc,[r("button",{disabled:!H.value,class:"btn btn-primary",onClick:_e},[...v[20]||(v[20]=[r("span",{class:"btn-icon"},"📥",-1),de(" 导出配置 ",-1)])],8,Lc),r("button",{class:"btn btn-secondary",onClick:A},[...v[21]||(v[21]=[r("span",{class:"btn-icon"},"💾",-1),de(" 保存配置 ",-1)])]),r("button",{class:"btn btn-secondary",onClick:ye},[...v[22]||(v[22]=[r("span",{class:"btn-icon"},"🔄",-1),de(" 重置选择 ",-1)])])])])])]),ct(ui,{show:L.value,"onUpdate:show":v[5]||(v[5]=l=>L.value=l),onLoad:B,onSave:b},null,8,["show"])]))}});const Ic=Je(Pc,[["__scopeId","data-v-67200812"]]);export{Ic as default};
