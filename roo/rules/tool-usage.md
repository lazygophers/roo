# å·¥å…·ä½¿ç”¨æŒ‡å—

æœ¬æ–‡æ¡£ä¸º roo ç³»ç»Ÿæä¾›ç®€æ´å®ç”¨çš„å·¥å…·é€‰æ‹©å’Œåº”ç”¨æŒ‡å—ã€‚

---

## å·¥å…·å¿«é€Ÿå‚è€ƒ

### æ ¸å¿ƒå·¥å…·åˆ†ç±»

#### ğŸ” æ¢ç´¢ä¸åˆ†æ

- **[`list_files`](tool-usage.md:12)** - æµè§ˆé¡¹ç›®ç»“æ„ï¼Œæ”¯æŒé€’å½’
- **[`read_file`](tool-usage.md:13)** - è¯»å–æ–‡ä»¶å†…å®¹ï¼ˆæœ€å¤š 5 ä¸ªï¼‰
- **[`list_code_definition_names`](tool-usage.md:14)** - è·å–ä»£ç å®šä¹‰æ¦‚è§ˆ
- **[`search_files`](tool-usage.md:15)** - æ­£åˆ™æœç´¢æ–‡ä»¶å†…å®¹

#### âœï¸ æ–‡ä»¶ç¼–è¾‘

- **[`apply_diff`](tool-usage.md:18)** - ç²¾ç¡®ä¿®æ”¹ä»£ç æ®µï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰
- **[`insert_content`](tool-usage.md:19)** - åœ¨æŒ‡å®šè¡Œæ’å…¥å†…å®¹
- **[`search_and_replace`](tool-usage.md:20)** - æ‰¹é‡æŸ¥æ‰¾æ›¿æ¢
- **[`write_to_file`](tool-usage.md:21)** - åˆ›å»ºæ–°æ–‡ä»¶æˆ–å®Œå…¨é‡å†™

#### ğŸ¤ äº¤äº’å†³ç­–

- **[`ask_followup_question`](tool-usage.md:24)** - è¯·æ±‚ç”¨æˆ·å†³ç­–ï¼ˆæä¾›é€‰é¡¹ï¼‰
- **[`update_todo_list`](tool-usage.md:25)** - ç®¡ç†ä»»åŠ¡æ¸…å•
- **[`new_task`](tool-usage.md:26)** - å§”æ´¾ç»™ä¸“ä¸šæ¨¡å¼
- **[`sequentialthinking`](tool-usage.md:27)** - å¤æ‚é—®é¢˜åˆ†æï¼ˆMCPï¼‰

#### ğŸ› ï¸ ç³»ç»Ÿæ“ä½œ

- **[`execute_command`](tool-usage.md:30)** - æ‰§è¡Œå‘½ä»¤è¡Œæ“ä½œ
- **[`use_mcp_tool`](tool-usage.md:31)** - è°ƒç”¨ MCP æœåŠ¡å·¥å…·
- **[`attempt_completion`](tool-usage.md:32)** - å®Œæˆä»»åŠ¡äº¤ä»˜

### å·¥å…·é€‰æ‹©å†³ç­–æ ‘

```
ä»»åŠ¡å¼€å§‹
â”œâ”€ éœ€è¦äº†è§£é¡¹ç›®ï¼Ÿâ†’ list_files + read_file + list_code_definition_names
â”œâ”€ éœ€è¦ç”¨æˆ·å†³ç­–ï¼Ÿâ†’ ask_followup_questionï¼ˆL1çº§å†³ç­–ï¼‰
â”œâ”€ ä»»åŠ¡å¤æ‚åº¦é«˜ï¼Ÿâ†’ sequentialthinking â†’ ä»»åŠ¡åˆ†è§£
â”œâ”€ ä¿®æ”¹æ–‡ä»¶ï¼Ÿ
â”‚  â”œâ”€ æ–°å»º â†’ write_to_file
â”‚  â”œâ”€ ç²¾ç¡®ä¿®æ”¹ â†’ apply_diff
â”‚  â”œâ”€ æ’å…¥å†…å®¹ â†’ insert_content
â”‚  â””â”€ æ‰¹é‡æ›¿æ¢ â†’ search_and_replace
â”œâ”€ éœ€è¦ä¸“ä¸šèƒ½åŠ›ï¼Ÿâ†’ new_taskï¼ˆå§”æ´¾ä¸“ä¸šæ¨¡å¼ï¼‰
â””â”€ å®Œæˆä»»åŠ¡ â†’ update_todo_list + attempt_completion
```

---

## åœºæ™¯åŒ–å·¥å…·ç»„åˆ

### å¸¸ç”¨å·¥ä½œæµæ¨¡å¼

#### ğŸš€ é¡¹ç›®åˆå§‹åŒ–

```yaml
æµç¨‹: list_files â†’ read_file(é…ç½®æ–‡ä»¶) â†’ list_code_definition_names â†’ update_todo_list
ç”¨é€”: å¿«é€Ÿäº†è§£é¡¹ç›®ç»“æ„å’Œä¾èµ–
```

#### ğŸ› Bug ä¿®å¤

```yaml
æµç¨‹: read_file â†’ search_files(å½±å“èŒƒå›´) â†’ apply_diff â†’ execute_command(æµ‹è¯•)
ç”¨é€”: å®šä½é—®é¢˜ã€ä¿®å¤ä»£ç ã€éªŒè¯ç»“æœ
```

#### ğŸ—ï¸ åŠŸèƒ½å¼€å‘

```yaml
æµç¨‹: sequentialthinking(è®¾è®¡) â†’ write_to_file(æ–°æ–‡ä»¶) â†’ insert_content(æ·»åŠ åŠŸèƒ½) â†’ execute_command(æ„å»º)
ç”¨é€”: ä»è®¾è®¡åˆ°å®ç°çš„å®Œæ•´å¼€å‘æµç¨‹
```

#### â™»ï¸ ä»£ç é‡æ„

```yaml
æµç¨‹: list_code_definition_names â†’ search_files â†’ apply_diff(æ‰¹é‡) â†’ execute_command(æµ‹è¯•)
ç”¨é€”: ç³»ç»ŸåŒ–æ”¹è¿›ä»£ç ç»“æ„
```

#### ğŸ“ æ–‡æ¡£æ›´æ–°

```yaml
æµç¨‹: list_files â†’ new_task(doc-writer) â†’ write_to_file/apply_diff
ç”¨é€”: å§”æ´¾ç»™ä¸“ä¸šæ–‡æ¡£æ¨¡å¼å¤„ç†
```

### å·¥å…·ç»„åˆé€ŸæŸ¥

| ç›®æ ‡         | æ¨èç»„åˆ                                       | å…³é”®ç‚¹         |
| ------------ | ---------------------------------------------- | -------------- |
| **æ¢ç´¢ç†è§£** | `list_files` â†’ `read_file` â†’ `search_files`    | ä»æ•´ä½“åˆ°ç»†èŠ‚   |
| **ç²¾ç¡®ä¿®æ”¹** | `read_file` â†’ `apply_diff` â†’ `execute_command` | å…ˆè¯»åæ”¹å†éªŒè¯ |
| **æ‰¹é‡æ“ä½œ** | `search_files` â†’ `search_and_replace`          | å…ˆæœç´¢ç¡®è®¤èŒƒå›´ |
| **åˆ›å»ºåŠŸèƒ½** | `write_to_file` â†’ `insert_content`             | å…ˆæ¡†æ¶åç»†èŠ‚   |
| **å¤æ‚å†³ç­–** | `sequentialthinking` â†’ `ask_followup_question` | åˆ†æåç¡®è®¤     |

---

## MCP æœåŠ¡ä½¿ç”¨

### Sequential Thinking

**ç”¨é€”**ï¼šå¤æ‚é—®é¢˜åˆ†æã€æ–¹æ¡ˆè®¾è®¡ã€ä»»åŠ¡åˆ†è§£  
**è§¦å‘æ¡ä»¶**ï¼šä»»åŠ¡å¤æ‚åº¦é«˜ã€éœ€è¦å¤šæ­¥éª¤è§„åˆ’ã€é—®é¢˜åŸå› ä¸æ˜

```xml
<use_mcp_tool>
  <server_name>sequentialthinking</server_name>
  <tool_name>sequentialthinking</tool_name>
  <arguments>{"thought": "åˆ†ææ­¥éª¤...", "nextThoughtNeeded": true, "thoughtNumber": 1, "totalThoughts": 5}</arguments>
</use_mcp_tool>
```

### Context7 & GitHub

**ç”¨é€”**ï¼šæŸ¥è¯¢æŠ€æœ¯æ–‡æ¡£ã€ä»£ç ç¤ºä¾‹ã€GitHub æ“ä½œ  
**ä½¿ç”¨æ—¶æœº**ï¼šéœ€è¦æœ€æ–°æ–‡æ¡£ã€å¤–éƒ¨ä»£ç å‚è€ƒã€ä»“åº“ç®¡ç†

---

## æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **åˆ†å±‚å†³ç­–**ï¼šL1 çº§å†³ç­–å¿…é¡»è¯·æ±‚ç”¨æˆ·ç¡®è®¤
2. **æ‰¹é‡ä¼˜åŒ–**ï¼šåˆå¹¶å¤šä¸ªä¿®æ”¹åˆ°å•ä¸ª `apply_diff`
3. **éªŒè¯å…ˆè¡Œ**ï¼šä¿®æ”¹å‰ç”¨ `list_files` ç¡®è®¤æ–‡ä»¶å­˜åœ¨
4. **åŠæ—¶æ›´æ–°**ï¼šæ¯ä¸ªå…³é”®èŠ‚ç‚¹æ›´æ–° `todo_list`
5. **å·¥å…·ä¼˜å…ˆçº§**ï¼š
   - æ–‡ä»¶ä¿®æ”¹ï¼š`apply_diff` > `search_and_replace` > `write_to_file`
   - æ–‡ä»¶æ¢ç´¢ï¼šå†…å»ºå·¥å…· > `execute_command`

### âŒ é¿å…åæ¨¡å¼

| åæ¨¡å¼                               | é—®é¢˜               | æ­£ç¡®åšæ³•                       |
| ------------------------------------ | ------------------ | ------------------------------ |
| ç”¨ `write_to_file` åšå°ä¿®æ”¹          | æ•ˆç‡ä½ã€é£é™©é«˜     | ä½¿ç”¨ `apply_diff`              |
| ç”¨ `execute_command` æ‰§è¡Œ `ls`/`cat` | å¹³å°ä¾èµ–ã€è§£æå›°éš¾ | ä½¿ç”¨ `list_files`/`read_file`  |
| æ— è§„åˆ’è¿ç»­è°ƒç”¨å·¥å…·                   | é€»è¾‘æ··ä¹±ã€æ•ˆç‡ä½   | å…ˆç”¨ `sequentialthinking` è§„åˆ’ |
| å¼€æ”¾å¼ `ask_followup_question`       | è´Ÿæ‹…è½¬ç§»ç»™ç”¨æˆ·     | æä¾›å…·ä½“é€‰é¡¹ä¾›é€‰æ‹©             |

### å¼‚å¸¸å¤„ç†

| å¼‚å¸¸       | å¤„ç†å·¥å…·                               | ç­–ç•¥             |
| ---------- | -------------------------------------- | ---------------- |
| æ–‡ä»¶ä¸å­˜åœ¨ | `list_files` â†’ `ask_followup_question` | ç¡®è®¤è·¯å¾„æˆ–åˆ›å»º   |
| æƒé™ä¸è¶³   | `ask_followup_question`                | è¯·æ±‚æƒé™æˆ–æ¢æ–¹æ¡ˆ |
| ä¿¡æ¯ä¸è¶³   | `ask_followup_question`                | æ”¶é›†å¿…è¦å‚æ•°     |
| å¤æ‚åº¦è¿‡é«˜ | `sequentialthinking` â†’ `new_task`      | åˆ†è§£æˆ–å§”æ´¾       |
