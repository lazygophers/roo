# Markdown 规范

本规范定义了项目中文档的 Markdown 编写风格，旨在确保所有文档的一致性、可读性和可维护性。

## 1. 文档结构

### 1.1 标准模板

新文档应遵循此基本结构：

```markdown
# 文档标题

简介（1-3 句概述）。

## 核心内容

...

## 参考资料

- [相关链接](...)
```

### 1.2 标题

- **风格**: 统一使用 ATX 风格 (`# H1`, `## H2`)。
- **唯一性**: `H1` 标题在文档中应唯一，并与文件名保持一致。
- **间距**: 标题前后应保留一个空行。
- **大小写**: 遵循中文标题的大小写习惯，英文术语保持原样（如 `Mermaid.js`）。

## 2. 内容格式

### 2.1 字符行限制

- **原则**: 正文内容建议每行不超过 80 个字符，以优化在不同设备上的阅读体验。
- **例外**: 标题、代码块和长链接不受此限制。

### 2.2 列表

- **嵌套**: 子列表项应使用 4 个空格进行缩进。
- **编号**: 对于需要引用的有序列表，使用数字编号；否则建议使用无序列表 (`-`)。

```markdown
- 主项
    - 子项 1
    - 子项 2
        1. 有序子项
```

### 2.3 代码块

- **语法**: 使用围栏代码块 (```) 并明确指定语言（如 `bash`, `python`, `mermaid`）。
- **命令行**: 复杂的命令行使用 `\` 进行换行，以提高可读性。

  ```shell
  $ bazel build target --flag1=value \
    --flag2=long_value
  ```
- **内联代码**: 使用反引号 `` ` `` 包裹代码片段，如 `run script.sh`。

### 2.4 链接

- **路径**: 内部链接优先使用相对路径。
- **文本**: 链接文本应具有描述性，如 `[查看详细指南](...)`。
- **引用**: 对于长链接或重复使用的链接，建议使用引用式链接。

  ```markdown
  详见 [风格指南][style-guide]。
  
  [style-guide]: /path/to/your/styleguide.md
  ```

### 2.5 表格

- **适用场景**: 适用于结构化的二维数据对比。
- **对齐**: 保持表头和内容对齐清晰。

  ```markdown
  | 工具    | 用途     |
  | ------- | -------- |
  | Gitiles | 代码托管 |
  | Bazel   | 构建系统 |
  ```

### 2.6 Mermaid 图表

- **方向**: 优先使用从上到下 (`TD`) 的布局。
- **缩进**: 代码使用两个空格缩进。
- **注释**: 为复杂图表添加注释以解释设计意图。

  ```mermaid
  graph TD
    A[开始] --> B{条件?};
    B -->|是| C[操作 A];
    B -->|否| D[操作 B];
    C --> E[结束];
    D --> E[结束];
    %% 这是一个示例流程图
  ```

## 3. 文档维护

- **最小可行**: 优先维护少量、准确、高质量的文档。
- **版本控制**: 所有文档变更都应通过版本控制系统进行，并附带清晰的提交信息。
- **代码审查**: 文档变更应经过同行审查，确保质量和一致性。

## 4. 通用约定

- **尾随空格**: 禁止使用。
- **HTML**: 禁止混用原生 HTML 标签。
- **编码**: 文件统一为 UTF-8 编码。
- **换行符**: 使用 LF (Unix 风格) 换行符。