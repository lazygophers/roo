# 用户使用手册

## 概述

本用户手册详细介绍了 Roo 配置管理系统的所有功能特性，帮助您高效地使用系统来管理 AI 模式、命令、规则和角色配置。

## 🎯 核心功能

### 1. AI 模式管理
- **智能模式选择**: 从多种专业 AI 模式中选择
- **模式预览**: 实时查看模式详细信息和配置
- **关联规则管理**: 自动管理模式相关的规则文件
- **层级规则查找**: 支持模式的层级规则继承

### 2. 配置部署
- **多目标部署**: 支持 Roo、Roo Nightly、Kilo Code 等扩展
- **一键部署**: 简单点击即可完成配置部署
- **智能清理**: 自动清理旧配置，避免冲突
- **部署验证**: 部署后自动验证配置完整性

### 3. 可视化管理
- **现代化 UI**: 基于 Ant Design 的友好界面
- **实时预览**: 选择配置时即时显示详细信息
- **响应式设计**: 支持各种屏幕尺寸
- **主题支持**: 亮色/暗色主题切换

## 🚀 快速上手

### 首次使用流程

#### 1. 访问系统
- 启动后端和前端服务 (参考[快速开始](./README.md#quick-start))
- 在浏览器中访问 http://localhost:3000
- 系统会自动加载可用的配置

#### 2. 浏览配置选项
系统提供四种类型的配置：

**AI 模式 (Models)**
- `orchestrator` - 🧠 Brain: 智能任务调度中心
- `code-*` - 各种编程语言的代码魔法师
- `architect` - 🏗️ 顶尖架构师: 系统架构设计
- `debug` - 🔬 异常分析师: Bug 诊断和修复
- 更多专业模式...

**命令文件 (Commands)**  
- Git 相关命令脚本
- 构建和部署脚本
- 代码质量检查工具
- 自定义自动化脚本

**规则文件 (Rules)**
- 核心规则集
- 语言特定规则 
- 项目类型规则
- 自定义业务规则

**角色 (Roles)**
- 🐰 兔娘女仆小兔: 可爱的编程伙伴
- 🐱 猫粮女仆小喵: 温柔的代码助手

#### 3. 选择配置组合
根据您的需求选择合适的配置：

**基础配置** (推荐新手)
```
✓ orchestrator (必选)
✓ code (通用编程)
✓ 核心规则集
✓ 兔娘女仆小兔
```

**专业开发配置**
```
✓ orchestrator
✓ architect  
✓ code-python/code-golang (特定语言)
✓ debug
✓ 完整规则集
✓ 自定义角色
```

**团队协作配置**
```
✓ 全部核心模式
✓ 项目管理命令
✓ 团队协作规则
✓ 统一角色设置
```

#### 4. 预览和确认
- 在右侧预览面板查看选中配置的详细信息
- 确认文件路径、大小和修改时间
- 检查模式间的关联关系

#### 5. 部署配置
- 选择部署目标 (Roo/Roo Nightly/Kilo Code)
- 点击"部署配置"按钮
- 等待部署完成确认

## 🔧 详细功能说明

### 模式 (Modes) 管理

#### 模式选择界面
- **列表视图**: 显示所有可用 AI 模式
- **搜索过滤**: 快速查找特定模式
- **分类筛选**: 按 core/coder 等类别筛选
- **状态指示**: 显示模式选中状态

#### 模式详细信息
每个模式显示以下信息：
- **名称和图标**: 模式的友好显示名称
- **Slug**: 模式的唯一标识符
- **描述**: 模式的功能说明
- **使用场景**: 适用的工作场景
- **文件信息**: 文件路径、大小、修改时间
- **关联规则**: 自动关联的规则文件

#### 模式-规则关联
系统会自动为选中的模式查找相关规则：
```
模式 "code-python" 会自动关联：
├── rules/ (基础规则)
├── code/ (编程通用规则)  
└── code-python/ (Python 特定规则)
```

#### 必选模式
- `orchestrator` 模式是系统核心，会自动选中且无法取消
- 负责任务分解、模式选择和协作管理

### 命令 (Commands) 管理

#### 命令文件类型
- **Shell 脚本** (.sh): Unix/Linux 命令脚本
- **批处理文件** (.bat): Windows 命令脚本  
- **PowerShell 脚本** (.ps1): Windows PowerShell
- **Python 脚本** (.py): Python 自动化脚本

#### 命令文件信息
- **文件名**: 命令脚本的名称
- **相对路径**: 基于 resources 目录的路径
- **文件大小**: 文件大小 (字节)
- **修改时间**: 最后修改的时间戳
- **执行权限**: 文件是否可执行

#### 批量操作
- **全选**: 一键选择所有命令文件
- **清空**: 清空所有选择
- **按类型选择**: 选择特定类型的命令

### 规则 (Rules) 管理

#### 规则分类
- **核心规则**: 系统基础行为规则
- **语言规则**: 特定编程语言规则
- **项目规则**: 特定项目类型规则
- **自定义规则**: 用户自定义业务规则

#### 规则文件格式
- **Markdown 格式**: 人类可读的规则描述
- **结构化内容**: 明确的规则分段和层次
- **示例代码**: 包含使用示例和最佳实践
- **版本标记**: 规则版本和更新历史

#### 规则预览功能
- **实时预览**: 选择规则时立即显示内容
- **语法高亮**: Markdown 内容的语法突出显示
- **搜索功能**: 在规则内容中快速搜索关键词
- **链接导航**: 规则间的交叉引用链接

### 角色 (Roles) 管理

#### 角色选择特性
- **单选模式**: 同时只能选择一个角色
- **角色预览**: 查看角色的详细介绍
- **特性展示**: 显示角色的功能特点
- **限制说明**: 角色的使用限制和注意事项

#### 角色信息详情
- **角色名称**: 角色的标识名称
- **显示标题**: 包含表情符号的友好标题
- **角色描述**: 角色的详细介绍
- **功能特性**: 角色具备的特殊功能
- **使用限制**: 角色的行为约束

#### 角色文件管理
- **角色文件**: 存储为 `.md` 格式的角色定义
- **部署路径**: 部署到 `~/.roo/rules/role.md`
- **动态加载**: 系统动态读取角色配置
- **清理机制**: 切换角色时自动清理旧配置

### 部署管理功能

#### 部署目标选择
支持多种 VS Code 扩展的部署：

**Roo Code**
- 路径: `~/Library/Application Support/Code/User/globalStorage/rooveterinaryinc.roo-cline/`
- 适用: Roo Code 正式版
- 特点: 稳定版本，生产环境使用

**Roo Code Nightly**  
- 路径: `~/Library/Application Support/Code/User/globalStorage/rooveterinaryinc.roo-code-nightly/`
- 适用: Roo Code 夜间版本
- 特点: 最新特性，开发测试使用

**Kilo Code**
- 路径: `~/Library/Application Support/Code/User/globalStorage/kilocode.kilo-code/`
- 适用: Kilo Code 扩展
- 特点: 第三方兼容扩展

#### 部署过程详解

**1. 预部署检查**
- 检查目标目录是否存在
- 验证文件读写权限
- 确认选择的配置完整性

**2. 配置文件生成**
- 根据选择的模式生成 `custom_models.yaml`
- 注入系统 hooks (before.md, after.md)
- 确保 orchestrator 模式排在首位

**3. 文件部署**
- 复制命令文件到对应命令目录
- 复制角色文件到规则目录
- 设置正确的文件权限

**4. 部署验证**
- 验证文件完整性
- 检查配置文件格式
- 确认部署结果

**5. 结果报告**
- 显示成功部署的文件列表
- 报告任何部署错误或警告
- 提供部署统计信息

#### 清理功能
- **选择性清理**: 只清理指定目标的配置
- **完整清理**: 清理模式、命令和角色文件
- **安全确认**: 清理前需要用户确认
- **清理报告**: 显示清理的文件和结果

### 配置预览系统

#### 预览面板功能
- **实时更新**: 选择变化时立即更新预览
- **详细信息**: 显示文件完整内容
- **元数据展示**: 文件大小、修改时间等信息
- **关联关系**: 显示模式间的依赖关系

#### 预览内容类型
- **YAML 配置**: 语法高亮的 YAML 文件内容
- **Markdown 文档**: 格式化的 Markdown 渲染
- **脚本文件**: 语法高亮的脚本代码
- **关联图表**: 可视化的依赖关系图

#### 预览工具功能
- **全屏查看**: 全屏模式查看文件内容
- **语法高亮**: 根据文件类型自动高亮
- **搜索功能**: 在预览内容中搜索文本
- **复制功能**: 复制预览内容到剪贴板

### 主题和界面定制

#### 主题系统
- **自动主题**: 跟随系统主题设置
- **亮色主题**: 适合白天使用的明亮界面
- **暗色主题**: 适合夜间使用的深色界面
- **主题持久化**: 自动保存主题选择

#### 界面定制选项
- **布局调整**: 左右面板大小调整
- **字体设置**: 代码字体和大小设置
- **颜色配置**: 自定义主题颜色
- **动画效果**: 界面动画开关控制

## 💡 使用技巧和最佳实践

### 高效配置管理

#### 1. 配置组合推荐
**前端开发者**:
```
✓ orchestrator
✓ code-react/code-vue
✓ architect (架构设计时)
✓ debug (问题排查时)
✓ 前端相关规则
```

**后端开发者**:
```
✓ orchestrator  
✓ code-python/code-golang/code-java
✓ architect
✓ debug
✓ 后端相关规则和命令
```

**全栈开发者**:
```
✓ orchestrator
✓ code (通用) + 具体语言模式
✓ architect
✓ debug
✓ project-research
✓ 完整规则集
```

**团队负责人**:
```
✓ orchestrator
✓ architect  
✓ project-research
✓ memory (记忆管理)
✓ 团队协作规则
```

#### 2. 部署策略建议
- **开发环境**: 使用 Roo Code Nightly 获得最新特性
- **生产环境**: 使用 Roo Code 稳定版确保稳定性
- **团队环境**: 统一配置并使用版本控制管理
- **测试环境**: 独立的测试配置，避免影响开发

#### 3. 配置维护建议
- **定期更新**: 关注配置文件的更新
- **备份配置**: 保存重要的配置组合
- **清理冗余**: 定期清理不用的配置
- **测试验证**: 部署后验证功能是否正常

### 故障预防和处理

#### 常见使用问题
1. **部署失败**: 检查目标目录权限
2. **配置不生效**: 重启 VS Code 后重试
3. **文件冲突**: 先清理再重新部署
4. **性能问题**: 减少同时启用的模式数量

#### 最佳实践
- **渐进式配置**: 从基础配置开始，逐步添加功能
- **功能验证**: 每次部署后验证核心功能
- **错误日志**: 关注浏览器控制台和后端日志
- **版本记录**: 记录有效的配置组合供后续使用

## 🔍 高级功能

### 配置导入导出 (开发中)
- **导出配置**: 将当前选择导出为配置文件
- **导入配置**: 从配置文件快速恢复选择
- **配置分享**: 与团队成员分享配置组合
- **版本管理**: 管理不同版本的配置

### 自定义模式开发 (计划中)  
- **模式创建**: 创建自定义 AI 模式
- **规则编辑**: 在线编辑规则文件
- **预览测试**: 实时测试自定义配置
- **社区分享**: 分享自定义模式到社区

### 集成工具支持 (计划中)
- **Git 集成**: 与 Git 工作流集成
- **CI/CD 集成**: 支持持续集成部署
- **团队协作**: 团队配置管理和同步
- **监控分析**: 使用情况分析和优化建议

## 🆘 获取帮助

如果在使用过程中遇到问题：

1. **查看文档**: 首先查看相关技术文档
2. **检查日志**: 查看浏览器控制台和后端日志
3. **常见问题**: 参考 [FAQ 文档](./FAQ.md)
4. **提交问题**: 在 GitHub 上提交 Issue
5. **社区求助**: 在社区讨论区寻求帮助

## 📞 联系我们

- **技术支持**: support@roo-ai.com
- **功能建议**: feature@roo-ai.com  
- **Bug 报告**: GitHub Issues
- **文档反馈**: docs@roo-ai.com

感谢您使用 Roo 配置管理系统！